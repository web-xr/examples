{"version":3,"sources":["engine/import.js","engine/4.0/_create.js","engine/4.0/_load.js","engine/4.0/_tween.js","engine/4.0/index.js","engine/4.0/_find.js","engine/4.0/_setup.js","bin/setup.js","bin/logo/arimac.js","App.js","reportWebVitals.js","index.js"],"names":["POSTPROCESSING","EffectComposer","RenderPass","OutlinePass","LOADERS","GLTFLoader","FBXLoader","OBJLoader","MTLLoader","DDSLoader","CONTROLS","OrbitControls","GSAP","gsap","_args","arr","out","undefined","i","length","arg","typ","substr","push","createEvent","args","arguments","type","str","object","callback","fun","Array","isArray","list","forEach","obj","uuid","down","last","listen","modules","u","cnv","renderer","domElement","addEventListener","e","cast","event","xy","THREE","Vector2","x","clientX","window","innerWidth","y","clientY","innerHeight","caster","Raycaster","setFromCamera","camera","TrinityEngine","findByType","scene","intersectObjects","data","f","loadAll","files","progress","loaddata","mngr","check","ready","count","Object","keys","name","wait","values","isBusy","key","getFileType","path","split","toLowerCase","extn","manager","onProgress","n","resp","LoadingManager","url","ext","indexOf","toUpperCase","pop","xyzByDist","p1","p2","d","Math","pow","z","s","tweenControls","offset","time","t_0","t_1","p_0","p_1","a","b","controls","pos_1","pos_2","ease","t","target","p","position","enabled","num","duration","k","timeline","onComplete","update","onUpdate","set","fromTo","startRotation","Euler","copy","rotation","px","py","pz","tx","ty","tz","captureSpot","console","log","createScene","width","height","color","auto","boo","Scene","PerspectiveCamera","WebGLRenderer","antialias","light","createLight","composer","renderPass","addPass","setSize","add","background","Color","enablePan","autoRotate","autoRotateSpeed","enableDamping","dampingFactor","setupControls","render","requestAnimationFrame","createEffect","pass","options","w","h","opt","createObject","opts","grr","mrr","g","m","geo","vrr","mat","mesh","Mesh","setupObject","power","DirectionalLight","AmbientLight","findAll","model","recMesh","children","findById","mult","findByName","findByProperty","findByMaterialName","material","findByMaterialProperty","loadAjax","Date","now","frm","FormData","dat","JSON","stringify","append","xhr","XMLHttpRequest","open","onreadystatechange","this","readyState","status","responseText","send","loadImage","file","image","Image","crossOrigin","onload","src","loadBitmap","ImageBitmapLoader","load","bitmap","loadModel","loader","mtlfile","lastIndexOf","mtlload","materials","preload","setMaterials","traverse","child","isMesh","opacity","emissive","emissiveMap","map","loadTexture","TextureLoader","tex","wrapS","RepeatWrapping","wrapT","repeat","enableZoom","rotateSpeed","objs","orr","setupScene","aspect","updateProjectionMatrix","setupMaterial","mats","txar","tweenMaterial","back","new_mesh","clone","mprr","needsUpdate","transparent","remove","sky","tweenObject","val","axis","toLocaleLowerCase","setup","logo","init","lights","edit","Paint","icon","focus","items","Red","bg","trans","Orange","Green","Wheels","Black","Silver","Copper","Windows","Plastic","Interior","Brown","Blue","Light","Yellow","audio","Gold","Metal","Frame","LoadingScreen","arimac","isLoading","PI","speed","start","root","document","querySelector","style","elem","createElement","className","appendChild","setAttribute","scale","setValue","value","innerHTML","setTimeout","display","end","App","props","state","modelIndex","editIndex","switchBusy","menuItems","lastModel","bind","nextModel","setEdit","setConf","switchModel","l","setState","id","LightsOff","resetPosition","LightsOn","menuData","backgroundImage","pos","setPosition","lang","clr","mesh_name","_this","onClick","backgroundColor","menu_state","edit_state","getLoading","getLogo","buildEdit","buildMenu","Component","isMobile","PointLight","physicallyCorrectLights","outputEncoding","sRGBEncoding","shadowMap","toneMapping","ReinhardToneMapping","setPixelRatio","devicePixelRatio","toneMappingExposure","ground","PlaneGeometry","MeshStandardMaterial","c","TWEEN","Tween","to","r","v","bumpMap","bumpScale","receiveShadow","maxPolarAngle","maxDistance","minDistance","getCamPos","toFixed","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5a227dd3.chunk.js","sourcesContent":["import * as THREE from \"three\";\r\nimport gsap from 'gsap';\r\nimport TWEEN from '@tweenjs/tween.js';\r\n\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader';\r\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\r\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader';\r\nimport { DDSLoader } from 'three/examples/jsm/loaders/DDSLoader';\r\n\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\n\r\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer\";\r\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass\";\r\nimport { OutlinePass } from \"three/examples/jsm/postprocessing/OutlinePass\";\r\n\r\nlet POSTPROCESSING = {\r\n    EffectComposer : EffectComposer,\r\n    RenderPass : RenderPass,\r\n    OutlinePass : OutlinePass\r\n};\r\n\r\nlet LOADERS = {\r\n    GLTFLoader : GLTFLoader,\r\n    FBXLoader : FBXLoader,\r\n    OBJLoader : OBJLoader,\r\n    MTLLoader : MTLLoader,\r\n    DDSLoader : DDSLoader\r\n}\r\n\r\nlet CONTROLS = {\r\n    OrbitControls : OrbitControls\r\n}\r\n\r\nlet GSAP = gsap;\r\n\r\nlet _args = function(arr) {\r\n\tvar out = { \"obj\" : [], \"str\" : [], \"num\" : [], \"fun\" : [], \"boo\" : [] };\r\n\tif(arr === undefined) { return out; }\r\n\tfor(var i = 0; i < arr.length; i++) {\r\n\t\tvar arg = arr[i];\r\n\t\tvar typ = (typeof arg).substr(0, 3);\r\n\t\tif(out[typ] === undefined) { out[typ] = []; }\r\n\t\tout[typ].push(arg);\r\n\t}\r\n\treturn out;\r\n};\r\n\r\nexport {\r\n    THREE,\r\n    LOADERS,\r\n    CONTROLS,\r\n    POSTPROCESSING,\r\n    GSAP,\r\n    TWEEN,\r\n    _args\r\n};","import { TrinityEngine } from './index';\r\nimport {\r\n    THREE,\r\n    POSTPROCESSING,\r\n    CONTROLS,\r\n    _args\r\n} from '../import';\r\n\r\n// ==========================================================================\r\n\r\nlet createScene = function() {\r\n    var args = _args(arguments);\r\n    var width  = args.num[0] || window.innerWidth;\r\n    var height = args.num[1] || window.innerHeight;\r\n    var color  = args.str[0] || '#000';\r\n    var auto   = args.boo[0];\r\n    // modules\r\n    var scene    = new THREE.Scene();\r\n    var camera   = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);\r\n    var renderer = new THREE.WebGLRenderer({ antialias : true });\r\n    var controls = new CONTROLS.OrbitControls(camera, renderer.domElement);\r\n    var light    = TrinityEngine.createLight('AMBIENT', 0xffffff);\r\n    // post processing\r\n    var composer   = new POSTPROCESSING.EffectComposer(renderer);\r\n    var renderPass = new POSTPROCESSING.RenderPass(scene, camera);\r\n    composer.addPass(renderPass);\r\n    composer.setSize(width, height);\r\n    scene.add(light);\r\n\r\n    // setup\r\n    scene.background = new THREE.Color(color);\r\n    controls.enablePan       = false;\r\n    controls.autoRotate      = false;\r\n    controls.autoRotateSpeed = 0.8;\r\n    controls.enableDamping   = true;\r\n    controls.dampingFactor   = 0.1;\r\n    renderer.setSize(width, height);\r\n    TrinityEngine.setupControls('ORBIT', controls,\r\n        { x : 0, y : 0, z : 5 },\r\n        { x : 0, y : 0, z : 0 }\r\n    );\r\n\r\n    // render\r\n    if(auto !== false) {\r\n        function render() {\r\n            requestAnimationFrame(render);\r\n            controls.update();\r\n            composer.render();\r\n        }; render();\r\n    }\r\n\r\n    let modules = {\r\n        scene      : scene,\r\n        camera     : camera,\r\n        renderer   : renderer,\r\n        controls   : controls,\r\n        composer   : composer,\r\n        renderPass : renderPass,\r\n        light      :light\r\n    };\r\n\r\n    // user events init\r\n    createEvent.listen(modules);\r\n\r\n    // return\r\n    return modules;\r\n};\r\n\r\n// ==========================================================================\r\n\r\nlet createEffect = function() {\r\n    var args = _args(arguments);\r\n    var name     = args.str[0].toUpperCase();\r\n    var scene    = args.obj[0];\r\n    var camera   = args.obj[1];\r\n    var composer = args.obj[2];\r\n    var options  = args.obj[3] || {};\r\n\r\n    var pass;\r\n    var w = composer.renderer.domElement.width;\r\n    var h = composer.renderer.domElement.height;\r\n    // select pass\r\n    if(name === 'OUTLINE') {\r\n        pass = new POSTPROCESSING.OutlinePass(new THREE.Vector2(w, h), scene, camera);\r\n    } else {\r\n        return null;\r\n    }\r\n    // options\r\n    Object.keys(options).forEach(function(opt) {\r\n        if(opt === 'visibleEdgeColor') {\r\n            pass[opt].set(options[opt]);\r\n        } else {\r\n            pass[opt] = options[opt];\r\n        }\r\n    });\r\n\r\n    composer.addPass(pass);\r\n    return pass;\r\n};\r\n\r\n// ==============================================================================\r\n\r\nlet createEvent = function() {\r\n    var args = _args(arguments);\r\n    var type     = args.str[0];\r\n    var object   = arguments[1];\r\n    var callback = args.fun[0];\r\n\r\n    if(Array.isArray(object) === false) {\r\n        object = [object];\r\n    }\r\n\r\n    var arr = createEvent.list;\r\n    object.forEach(function(obj) {\r\n        if(arr[type]) {\r\n            if(arr[type][obj.uuid] === undefined) {\r\n                arr[type][obj.uuid] = [];\r\n            }\r\n            arr[type][obj.uuid].push(callback);\r\n        }\r\n    });\r\n\r\n};\r\n\r\ncreateEvent.list = {\r\n    'click'      : {},\r\n    'mousedown'  : {},\r\n    'mouseup'    : {},\r\n    'mousemove'  : {},\r\n    'mouseenter' : {},\r\n    'mouseleave' : {}\r\n};\r\n\r\ncreateEvent.down = false;\r\n\r\ncreateEvent.last = { object : {} };\r\n\r\ncreateEvent.listen = function(modules) {\r\n    let u = createEvent;\r\n    let cnv = modules.renderer.domElement;\r\n    cnv.addEventListener('mousedown', function(e) {\r\n        u.down = true;\r\n        // mousedown\r\n        var obj = createEvent.cast(e, modules);\r\n        if(obj === null) { return; }\r\n        else { createEvent.callback('mousedown', obj, e); }\r\n    });\r\n    cnv.addEventListener('mousemove', function(e) {\r\n        u.down = false;\r\n        if(u.down === false) {\r\n            // mousemove\r\n            var obj = createEvent.cast(e, modules);\r\n            if(obj === null) { return; }\r\n            else {\r\n                createEvent.callback('mousemove', obj, e);\r\n                if(u.last.object.uuid !== obj.object.uuid) {\r\n                    // mouseleave\r\n                    createEvent.callback('mouseleave', u.last, e);\r\n                    u.last = obj;\r\n                    // mouseenter\r\n                    createEvent.callback('mouseenter', obj, e);\r\n                };\r\n            }\r\n        }\r\n    });\r\n    cnv.addEventListener('mouseup', function(e) {\r\n        if(u.down) {\r\n            // click\r\n            var obj = createEvent.cast(e, modules);\r\n            if(obj === null) { return; }\r\n            else { createEvent.callback('click', obj, e); }\r\n        }\r\n        u.down = false;\r\n    });\r\n};\r\n\r\ncreateEvent.cast = function(event, modules) {\r\n    // positions\r\n    let xy = new THREE.Vector2();\r\n    xy.x = +(event.clientX /  window.innerWidth) * 2 - 1;\r\n    xy.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n    // raycaster\r\n    let caster = new THREE.Raycaster();\r\n    caster.setFromCamera(xy, modules.camera);\r\n    let arr = TrinityEngine.findByType(modules.scene, 'Mesh', true);\r\n    let out = caster.intersectObjects(arr);\r\n    if(out.length > 0) {\r\n        return out[0];\r\n    } else { return null; }\r\n};\r\n\r\ncreateEvent.callback = function(type, data, event) {\r\n    var uuid = data.object.uuid;\r\n    var list = createEvent.list[type];\r\n    if(list[uuid] === undefined) { return; }\r\n    else {\r\n        list[uuid].forEach(function(f) { f(data, event); });\r\n    }\r\n};\r\n\r\n// ==========================================================================\r\n\r\nlet createObject = function() {\r\n    var args = _args(arguments);\r\n    var data = args.obj[0] || {};\r\n    var opts = args.obj[1];\r\n\r\n    var grr = [\r\n        'Box',\r\n        'Circle',\r\n        'Cone',\r\n        'Cylinder',\r\n        'Dodecahedron',\r\n        'Edges',\r\n        'Extrude',\r\n        'Icosahedron',\r\n        'Lathe',\r\n        'Octahedron',\r\n        'Parametric',\r\n        'Plane',\r\n        'Polyhedron',\r\n        'Ring',\r\n        'Shape',\r\n        'Sphere',\r\n        'Tetrahedron',\r\n        'Text',\r\n        'Torus',\r\n        'TorusKnot',\r\n        'Tube',\r\n        'Wireframe'\r\n    ];\r\n\r\n    var mrr = [\r\n        'LineBasic',\r\n        'LineDashed',\r\n        'MeshBasic',\r\n        'MeshDepth',\r\n        'MeshDistance',\r\n        'MeshLambert',\r\n        'MeshMatcap',\r\n        'MeshNormal',\r\n        'MeshPhong',\r\n        'MeshPhysical',\r\n        'MeshStandard',\r\n        'MeshToon',\r\n        'Points',\r\n        'RawShader',\r\n        'Shader',\r\n        'Shadow',\r\n        'Sprite'\r\n    ];\r\n\r\n    var g = null, m = null;\r\n    Object.keys(data).forEach(function(key) {\r\n        if(grr.indexOf(key) > -1) { g = key; };\r\n        if(mrr.indexOf(key) > -1) { m = key; };\r\n    }); if(g === null || m === null) { return; }\r\n\r\n    var vrr = Object.values(data[g]);\r\n\r\n    g += 'Geometry'\r\n\r\n    var geo;\r\n    if(vrr.length === 0) {\r\n        geo = new THREE[g]();\r\n    } else if(vrr.length === 1) {\r\n        geo = new THREE[g](vrr[0]);\r\n    } else if(vrr.length === 2) {\r\n        geo = new THREE[g](vrr[0], vrr[1]);\r\n    } else if(vrr.length === 3) {\r\n        geo = new THREE[g](vrr[0], vrr[1], vrr[2]);\r\n    } else if(vrr.length === 4) {\r\n        geo = new THREE[g](vrr[0], vrr[1], vrr[2], vrr[3]);\r\n    } else if(vrr.length === 5) {\r\n        geo = new THREE[g](vrr[0], vrr[1], vrr[2], vrr[3], vrr[5]);\r\n    }\r\n\r\n    var mat = new THREE[m + 'Material'](data[m]);\r\n\r\n    var mesh = new THREE.Mesh(geo, mat);\r\n    if(opts) { mesh = TrinityEngine.setupObject(mesh, opts); }\r\n    return mesh;\r\n};\r\n\r\nlet createLight = function() {\r\n    var args = _args(arguments);\r\n    var type  = args.str[0] || 'DIRECT';\r\n    var color = args.num[0] || 0xffffff;\r\n    var power = args.num[1] || 1;\r\n    var light;\r\n    if(type === 'DIRECT') {\r\n        light = new THREE.DirectionalLight(color, power);\r\n    } else if(type === 'AMBIENT') {\r\n        light = new THREE.AmbientLight(color, power);\r\n    }\r\n    return light;\r\n};\r\n\r\n// ==========================================================================\r\n\r\nexport {\r\n    createScene,\r\n    createEffect,\r\n    createEvent,\r\n    createLight,\r\n    createObject\r\n};","import {\r\n    TrinityEngine\r\n} from './index';\r\nimport {\r\n    THREE,\r\n    LOADERS,\r\n    _args\r\n} from '../import';\r\n\r\n// ============================================================================\r\n\r\nlet loadAll = function() {\r\n    var args = _args(arguments);\r\n    var files = args.obj[0];\r\n    var callback = args.fun[0] || function() {};\r\n    var progress = args.fun[1] || function() {};\r\n    var loaddata = { mngr : 0 };\r\n\r\n    if(loadAll.isBusy === true) { return; }\r\n    loadAll.isBusy = true;\r\n\r\n    // prepare\r\n    Object.keys(files).forEach(function(key) {\r\n        var type = loadAll.getFileType(files[key]);\r\n        files[key] = { wait : true, path : files[key].split('#')[0] };\r\n        files[key].type = 'load' + type[0] + type.substr(1).toLowerCase();\r\n        files[key].extn = type;\r\n        loaddata[files[key].path] = 0;\r\n    });\r\n\r\n    // manager callback\r\n    loadAll.manager.onProgress = function(u, n) {\r\n        loaddata.mngr = n;\r\n        check();\r\n    };\r\n    \r\n    // checker\r\n    function check() {\r\n        var ready = true;\r\n        var count = 0;\r\n        Object.keys(files).forEach(function(name) {\r\n            if(files[name].wait === true) { ready = false; }\r\n        });\r\n        Object.values(loaddata).forEach(function(x) { count += x; });\r\n        progress(count);\r\n        if(ready) {\r\n            callback(files);\r\n            loadAll.isBusy = false;\r\n        }\r\n    };\r\n\r\n    // load\r\n    Object.keys(files).forEach(function(name) {\r\n        var type = files[name].type;\r\n        var path = files[name].path;\r\n        TrinityEngine[type](path, function(resp) {\r\n            var extn = files[name].extn;\r\n            if(extn !== 'MODEL' && extn !== 'TEXTURE') {\r\n                loaddata[files[name]] = 1;\r\n            }\r\n            files[name] = resp;\r\n            check();\r\n        });\r\n    });\r\n};\r\n\r\nloadAll.isBusy  = false;\r\nloadAll.manager = new THREE.LoadingManager();\r\n\r\nloadAll.getFileType = function(url) {\r\n    var type = 'AJAX', ext;\r\n    if(url.indexOf('#') > -1) {\r\n        // manual\r\n        ext = url.split('#')[1].toUpperCase();\r\n        var arr = ['MODEL', 'TEXTURE', 'IMAGE', 'BITMAP', 'AJAX']\r\n        if(arr.indexOf(ext) > -1) { type = ext; }\r\n    } else {\r\n        // auto\r\n        ext = url.split('.').pop().toLowerCase();\r\n        var e_1 = ['glb', 'gltf', 'fbx', 'obj'];\r\n        var e_2 = ['jpg', 'jpeg', 'png', 'gif', 'bmp'];\r\n        if(e_1.indexOf(ext) > -1) { type = 'MODEL'; }\r\n        if(e_2.indexOf(ext) > -1) { type = 'TEXTURE'; }\r\n    }\r\n    return type;\r\n};\r\n\r\nlet loadImage = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var callback = args.fun[0] || function() {};\r\n\r\n    var image = new Image();\r\n    image.crossOrigin = 'anonymous';\r\n    image.onload = function() { callback(image); }\r\n    image.src = file;\r\n}\r\n\r\nlet loadBitmap = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var callback = args.fun[0] || function() {};\r\n\r\n    new THREE.ImageBitmapLoader().load(file, function(bitmap) {\r\n        callback(bitmap);\r\n    });\r\n};\r\n\r\nlet loadModel = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var callback = args.fun[0] || function() {};\r\n    // get extension\r\n    var ext = file.split('.').pop().toLowerCase();\r\n    // select loader\r\n    var loader;\r\n    if(ext === 'obj') {\r\n\r\n        var mtlfile = file.substr(0, file.lastIndexOf('.obj')) + '.mtl';\r\n\r\n        var mtlload = new LOADERS.MTLLoader(loadAll.manager);\r\n        loader      = new LOADERS.OBJLoader(loadAll.manager);\r\n\r\n        mtlload.load(mtlfile, function(materials) {\r\n            materials.preload();\r\n            loader.setMaterials(materials);\r\n            loader.load(file, function(model) {\r\n                model.traverse(function(child) {\r\n                    if(child.isMesh) {\r\n                        child.material.opacity = 1;\r\n                        child.material.emissive    = child.material.color;\r\n                        child.material.emissiveMap = child.material.map;\r\n                    }\r\n                });\r\n                callback(model);\r\n            });\r\n        });\r\n        return;\r\n\r\n    } else if(ext === 'glb' || ext === 'gltf') {\r\n        loader  = new LOADERS.GLTFLoader(loadAll.manager);\r\n    } else if(ext === 'fbx') {\r\n        loader = new LOADERS.FBXLoader(loadAll.manager);\r\n    } else { callback(null); }\r\n    // load and callback\r\n    loader.load(file, function(model) {\r\n        if(model.scene) { model = model.scene; }\r\n        // texture map fix\r\n        model.traverse(function(child) {\r\n            if(child.isMesh) {\r\n                child.material.emissive    = child.material.color;\r\n                child.material.emissiveMap = child.material.map;\r\n            }\r\n        });\r\n        // return\r\n        callback(model);\r\n    });\r\n};\r\n\r\nlet loadTexture = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var width    = args.num[0] || 0;\r\n    var height   = args.num[1] || 0;\r\n    var callback = args.fun[0] || function() {};\r\n    // texture loader\r\n    return new THREE.TextureLoader(loadAll.manager).load(file, function(tex) {\r\n        // pattern texture\r\n        if(width !== 0 || height !== 0) {\r\n            tex.wrapS = THREE.RepeatWrapping;\r\n            tex.wrapT = THREE.RepeatWrapping;\r\n            tex.repeat.set(width, height);\r\n        };\r\n        // return\r\n        callback(tex);\r\n    });\r\n};\r\n\r\nlet loadAjax = function() {\r\n    var args = _args(arguments);\r\n    var url = args.str[0];\r\n    var obj = args.obj[0] || { a : 1 };\r\n    var fun = args.fun[0] || function() {};\r\n\r\n\tif(url.indexOf('?') === -1) { url += '?dnjs_ajax_t=' + Date.now(); }\r\n\telse { url += '&dnjs_ajax_t=' + Date.now(); }\r\n\r\n\tvar frm = new FormData();\r\n\tObject.keys(obj).forEach(function(key) {\r\n\t\tvar dat = obj[key];\r\n\t\tif(typeof dat === 'object') { dat = JSON.stringify(dat); }\r\n\t\tfrm.append(key, dat);\r\n\t});\r\n\r\n\tvar xhr = new XMLHttpRequest();\r\n\txhr.open('GET', url, true);\r\n    xhr.onreadystatechange = function() {\r\n        if(this.readyState === 4 && this.status === 200) {\r\n            if(fun != null) {fun(this.responseText); }\r\n        }\r\n    };\r\n\r\n\txhr.send(frm);\r\n\r\n};\r\n\r\n// ============================================================================\r\n\r\nexport {\r\n    loadAll,\r\n    loadAjax,\r\n    loadImage,\r\n    loadBitmap,\r\n    loadModel,\r\n    loadTexture\r\n};","import {\r\n    THREE,\r\n    GSAP,\r\n    _args\r\n} from '../import';\r\n\r\n// ============================================================================\r\n\r\nfunction xyzByDist(p1, p2, d) {\r\n    var u = Math.pow(\r\n        Math.pow(p2.x - p1.x, 2) +\r\n        Math.pow(p2.y - p1.y, 2) +\r\n        Math.pow(p2.z - p1.z, 2),\r\n    0.5);\r\n    d = u - d; var s = d / u;\r\n    return {\r\n        x : p1.x + s * (p2.x - p1.x),\r\n        y : p1.y + s * (p2.y - p1.y),\r\n        z : p1.z + s * (p2.z - p1.z)\r\n    }\r\n};\r\n\r\nlet tweenControls = function() {\r\n    var args = _args(arguments);\r\n    var type     = args.str[0].toUpperCase();\r\n    var controls = args.obj[0];\r\n    var pos_1    = args.obj[1];\r\n    var pos_2    = args.obj[2];\r\n    var callback = args.fun[0] || function() {};\r\n    var ease     = args.str[1] || 'power1';\r\n    var offset, time;\r\n    var t_0, t_1, p_0, p_1, d, a, b;\r\n\r\n    var t = controls.target;\r\n    var p = controls.object.position;\r\n\r\n    controls.enabled = false;\r\n\r\n    if(type === 'FIXED') {\r\n        time   = args.num[0] / 1000;\r\n        d = { x : t.x - p.x, y : t.y - p.y, z : t.z - p.z };\r\n        t_0 = { x : t.x, y : t.y, z : t.z };\r\n        t_1 = { ease : ease, duration : time };\r\n        Object.keys(pos_1).forEach(function(k) { t_1[k] = pos_1[k]; });\r\n\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                controls.enabled = true;\r\n                controls.update();\r\n                callback();\r\n            },\r\n            onUpdate : function() {\r\n                controls.object.position.set(t_0.x, t_0.y, t_0.z);\r\n                controls.target.set(t_0.x + d.x, t_0.y + d.y, t_0.z + d.z);\r\n                controls.update();\r\n            }\r\n        }).fromTo(t_0, t_0, t_1);\r\n    };\r\n\r\n    if(type === 'LOOSE') {\r\n        offset = args.num[0];\r\n        time   = args.num[1] / 1000;\r\n        t_0 = { x : t.x, y : t.y, z : t.z };\r\n        p_0 = { x : p.x, y : p.y, z : p.z };\r\n        t_1 = { ease : ease, duration : time };\r\n        Object.keys(pos_1).forEach(function(k) { t_1[k] = pos_1[k]; });\r\n\r\n        p_1 = xyzByDist(p_0, t_1, offset);\r\n        var startRotation = new THREE.Euler().copy(controls.object.rotation);\r\n        \r\n        a = { px : p_0.x, py : p_0.y, pz : p_0.z, tx : t_0.x, ty : t_0.y, tz : t_0.z };\r\n        b = { px : p_1.x, py : p_1.y, pz : p_1.z, tx : t_1.x, ty : t_1.y, tz : t_1.z };\r\n        b.ease = ease;\r\n        b.duration = time;\r\n\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                controls.enabled = true;\r\n                callback();\r\n            },\r\n            onUpdate : function() {\r\n                controls.target.set(a.tx, a.ty, a.tz);\r\n                controls.object.position.set(a.px, a.py, a.pz);\r\n                controls.update();\r\n                controls.object.rotation.copy(startRotation);\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    };\r\n\r\n    if(type === 'EXACT') {\r\n        time = args.num[0] / 1000;\r\n        t_0 = { x : t.x, y : t.y, z : t.z };\r\n        p_0 = { x : p.x, y : p.y, z : p.z };\r\n        p_1 = { };\r\n        t_1 = { ease : ease, duration : time };\r\n        Object.keys(pos_1).forEach(function(k) { t_1[k] = pos_1[k]; });\r\n        Object.keys(pos_2).forEach(function(k) { p_1[k] = pos_2[k]; });\r\n        a = { px : p_0.x, py : p_0.y, pz : p_0.z, tx : t_0.x, ty : t_0.y, tz : t_0.z };\r\n        b = { px : p_1.x, py : p_1.y, pz : p_1.z, tx : t_1.x, ty : t_1.y, tz : t_1.z };\r\n        b.ease = ease;\r\n        b.duration = time;\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                controls.enabled = true;\r\n                callback();\r\n            },\r\n            onUpdate : function() {\r\n                controls.target.set(a.tx, a.ty, a.tz);\r\n                controls.object.position.set(a.px, a.py, a.pz);\r\n                controls.update();\r\n            }\r\n        }).fromTo(a, a, b);\r\n    };\r\n    \r\n};\r\n\r\ntweenControls.captureSpot = function() {\r\n    var args = _args(arguments);\r\n    var controls = args.obj[0];\r\n    var scene    = args.obj[1];\r\n    window.addEventListener('dblclick', function() {\r\n        console.log(['TARGET']);\r\n        console.log('x ==> ', controls.target.x);\r\n        console.log('y ==> ', controls.target.y);\r\n        console.log('z ==> ', controls.target.z);\r\n        console.log(['CAMERA']);\r\n        console.log('x ==> ', controls.object.position.x);\r\n        console.log('y ==> ', controls.object.position.y);\r\n        console.log('z ==> ', controls.object.position.z);\r\n        console.log(['SCENE']);\r\n        console.log('x ==> ', scene.rotation.x);\r\n        console.log('y ==> ', scene.rotation.y);\r\n        console.log('z ==> ', scene.rotation.z);\r\n    });\r\n};\r\n\r\nlet tweenObject = function() {\r\n    var args = _args(arguments);\r\n    var obj  = args.obj[0];\r\n    var val  = args.obj[1];\r\n    var ease = args.str[0] || 'power1';\r\n    var time = args.num[0] || 1000;\r\n    var back = args.fun[0] || function() {};\r\n    // prepare\r\n    var a = {}, b = { ease : ease, duration : time / 1000 };\r\n    var arr = ['position', 'rotation', 'scale'];\r\n    arr.forEach(function(type) {\r\n        // defaults\r\n        a[type + 'X'] = b[type + 'X'] = obj[type].x;\r\n        a[type + 'Y'] = b[type + 'Y'] = obj[type].y;\r\n        a[type + 'Z'] = b[type + 'Z'] = obj[type].z;\r\n        // updates\r\n        if(val[type]) {\r\n            if(val[type].x !== undefined) { b[type + 'X'] = val[type].x; }\r\n            if(val[type].y !== undefined) { b[type + 'Y'] = val[type].y; }\r\n            if(val[type].z !== undefined) { b[type + 'Z'] = val[type].z; }\r\n        }\r\n    });\r\n    // tween\r\n    GSAP.timeline({\r\n        onComplete : function() {\r\n            back();\r\n        },\r\n        onUpdate : function() {\r\n            Object.keys(a).forEach(function(key) {\r\n                if(key === '_GSAP') { return; }\r\n                var type = key.substr(0, key.length - 1);\r\n                var axis = key[key.length - 1].toLocaleLowerCase();\r\n                obj[type][axis] = a[key];\r\n            });\r\n        }\r\n    }).fromTo(a, a, b);\r\n};\r\n\r\nlet tweenMaterial = function() {\r\n    var args = _args(arguments);\r\n    var type = args.str[0] || 'VALUE';\r\n    var mesh = args.obj[0];\r\n    var data = args.obj[1];\r\n    var time = args.num[0] || 1000;\r\n    var ease = args.str[1] || 'power1';\r\n    var back = args.fun[0] || function() {};\r\n    var a, b;\r\n\r\n    if(type === 'CLONE') {\r\n        // mesh duplicate\r\n        let new_mesh = mesh.clone(false);\r\n        mesh.add(new_mesh);\r\n        // material duplicate\r\n        new_mesh.material = mesh.material.clone();\r\n        // maps array\r\n        let mprr = [\r\n            'alphaMap', 'aoMap', 'bumpMap', 'displacementMap', 'emissiveMap',\r\n            'envMap', 'lightMap', 'map', 'normalMap', 'roughnessMap'\r\n        ];\r\n        // clone maps\r\n        mprr.forEach(function(map) {\r\n            if(mesh.material[map]) {\r\n                new_mesh.material[map] = mesh.material[map].clone();\r\n                new_mesh.material[map].needsUpdate = true;\r\n            }\r\n        });\r\n        // set maps\r\n        data.forEach(function(key) {\r\n            if(mprr.indexOf(key) > -1) {\r\n                new_mesh.material[key].image = data[key];\r\n            } else {\r\n                new_mesh.material[key] = data[key];\r\n            }\r\n        });\r\n        // transparent\r\n        new_mesh.material.transparent = true;\r\n        new_mesh.material.opacity = 0;\r\n        new_mesh.material.needsUpdate = true;\r\n        // tween\r\n        a = { opacity : 0 };\r\n        b = { opacity : 1, duration : time / 1000, ease : ease };\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                // callback\r\n                mesh.material = new_mesh.material;\r\n                mesh.remove(new_mesh);\r\n                back();\r\n            },\r\n            onUpdate : function() {\r\n                new_mesh.material.opacity = a.opacity;\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    }\r\n\r\n    if(type === 'VALUE') {\r\n        a = {};\r\n        b = { duration : time / 1000, ease : ease };\r\n        Object.keys(data).forEach(function(key) {\r\n            if(typeof mesh.material[key] === 'object') {\r\n                let obj = mesh.material[key];\r\n                Object.keys(obj).forEach(function(sky) {\r\n                    a[key + '.' + sky] = mesh.material[key][sky];\r\n                    b[key + '.' + sky] = data[key][sky];\r\n                });\r\n            } else {\r\n                a[key] = mesh.material[key];\r\n                b[key] = data[key];\r\n            }\r\n        });\r\n      \r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                back();\r\n            },\r\n            onUpdate : function() {\r\n                Object.keys(a).forEach(function(key) {\r\n                    if(key.indexOf('.') > -1) {\r\n                        var t = key.split('.');\r\n                        mesh.material[t[0]][t[1]] = a[key];\r\n                    } else {\r\n                        mesh.material[key] = a[key];\r\n                    }\r\n                });\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    }\r\n\r\n\r\n};\r\n\r\n// ============================================================================\r\n\r\nexport {\r\n    tweenControls,\r\n    tweenMaterial,\r\n    tweenObject\r\n};","import {\r\n    createScene,\r\n    createEffect,\r\n    createEvent,\r\n    createLight,\r\n    createObject\r\n} from './_create';\r\n\r\nimport {\r\n    findAll,\r\n    findById,\r\n    findByName,\r\n    findByType,\r\n    findByProperty,\r\n    findByMaterialName,\r\n    findByMaterialProperty\r\n} from './_find';\r\n\r\nimport {\r\n    loadAll,\r\n    loadAjax,\r\n    loadImage,\r\n    loadBitmap,\r\n    loadModel,\r\n    loadTexture\r\n} from './_load';\r\n\r\nimport {\r\n    setupControls,\r\n    setupObject,\r\n    setupScene,\r\n    setupMaterial\r\n} from './_setup';\r\n\r\nimport {\r\n    tweenControls,\r\n    tweenMaterial,\r\n    tweenObject\r\n} from './_tween';\r\n\r\nimport { THREE, GSAP, TWEEN } from '../import';\r\n\r\nlet TrinityEngine = {\r\n        createScene : createScene,\r\n        createEffect : createEffect,\r\n        createEvent : createEvent,\r\n        createObject : createObject,\r\n        createLight : createLight,\r\n        findAll : findAll,\r\n        findById : findById,\r\n        findByName : findByName,\r\n        findByType : findByType,\r\n        findByProperty : findByProperty,\r\n        findByMaterialName : findByMaterialName,\r\n        findByMaterialProperty : findByMaterialProperty,\r\n        loadAll : loadAll,\r\n        loadAjax : loadAjax,\r\n        loadImage : loadImage,\r\n        loadBitmap : loadBitmap,\r\n        loadModel : loadModel,\r\n        loadTexture : loadTexture,\r\n        setupControls : setupControls,\r\n        setupObject : setupObject,\r\n        setupScene : setupScene,\r\n        setupMaterial : setupMaterial,\r\n        tweenControls : tweenControls,\r\n        tweenMaterial : tweenMaterial,\r\n        tweenObject : tweenObject\r\n};\r\n\r\nexport { TrinityEngine, THREE, GSAP, TWEEN };","import {\r\n    _args\r\n} from '../import';\r\n\r\n// ==========================================================================\r\n\r\nlet findAll = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        out.push(obj);\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n    return out;\r\n};\r\n\r\nlet findById = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var name  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.uuid === name) {\r\n            out.push(obj);\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByName = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var name  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.name === name) {\r\n            out.push(obj);\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByMaterialName = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var name  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.material !== undefined) {\r\n            if(obj.material.name === name) {\r\n                out.push(obj);\r\n            }\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByType = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var type  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.type === type) {\r\n            out.push(obj);\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByProperty = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var data  = args.obj[1];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        Object.keys(data).forEach(function(key) {\r\n            if(obj[key] === data[key]) { out.push(obj); }\r\n        });\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByMaterialProperty = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var data  = args.obj[1];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.material !== undefined) {\r\n            Object.keys(data).forEach(function(key) {\r\n                if(obj.material[key] === data[key]) { out.push(obj); }\r\n            });\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\n// ==========================================================================\r\n\r\nexport {\r\n    findAll,\r\n    findById,\r\n    findByName,\r\n    findByType,\r\n    findByProperty,\r\n    findByMaterialName,\r\n    findByMaterialProperty\r\n};","import { TrinityEngine } from './index';\r\nimport {\r\n    _args\r\n} from '../import';\r\n\r\n// ============================================================================\r\n\r\nlet setupObject = function() {\r\n    var args = _args(arguments);\r\n    var objs = args.obj[0];\r\n    var data = args.obj[1];\r\n    if(Array.isArray(objs) === false) { objs = [objs];  }\r\n\r\n    var orr = ['position', 'rotation', 'scale'];\r\n\r\n    objs.forEach(function(obj) {\r\n        Object.keys(data).forEach(function(key) {\r\n            if(orr.indexOf(key) > -1) {\r\n                if(data[key].x !== undefined) { obj[key].x = data[key].x; }\r\n                if(data[key].y !== undefined) { obj[key].y = data[key].y; }\r\n                if(data[key].z !== undefined) { obj[key].z = data[key].z; }\r\n            } else {\r\n                obj[key] = data[key];\r\n            }\r\n        });\r\n    });\r\n\r\n    if(objs.length === 1) { return objs[0]; }\r\n    else { return objs; }\r\n};\r\n\r\nlet setupMaterial = function() {\r\n    var args = _args(arguments);\r\n    var mats = args.obj[0];\r\n    var data = args.obj[1];\r\n    var txar = [\r\n        'map', 'emissiveMap', 'aoMap', 'bumpMap', 'displacementMap',\r\n        'normalMap', 'roughnessMap'\r\n    ];\r\n    if(Array.isArray(mats) === false) { mats = [mats];  }\r\n    mats.forEach(function(mat) {\r\n        Object.keys(data).forEach(function(key) {\r\n            if(txar.indexOf(key) > -1 && typeof data[key] === 'string') {\r\n                mats[key] = TrinityEngine.loadTexture(data[key]);\r\n            } else {\r\n                mats[key] = data[key];\r\n            }\r\n        });\r\n    });\r\n\r\n    if(mats.length === 1) { return mats[0]; }\r\n    else { return mats; }\r\n};\r\n\r\nlet setupScene = function() {\r\n    var args = _args(arguments);\r\n    var composer = args.obj[0];\r\n    var camera   = args.obj[1];\r\n    var width    = args.num[0];\r\n    var height   = args.num[1];\r\n    composer.setSize(width, height);\r\n    composer.renderer.setSize(width, height);\r\n    camera.aspect = width / height;\r\n    camera.updateProjectionMatrix();\r\n};\r\n\r\nlet setupControls = function() {\r\n    var args = _args(arguments);\r\n    var type     = args.str[0].toUpperCase();\r\n    var controls = args.obj[0];\r\n    var target, position, options;\r\n    // pivot controls\r\n    if(type === 'SHOOT') {\r\n        position = args.obj[1] || { x : 0, y : 0, z : 0 };\r\n        options  = args.obj[2] || {};\r\n\r\n        controls.target.set(\r\n            position.x,\r\n            position.y,\r\n            position.z\r\n        );\r\n        controls.object.position.set(\r\n            position.x,\r\n            position.y,\r\n            position.z + 0.01\r\n        );\r\n        controls.enableZoom  = false;\r\n        controls.rotateSpeed = -0.3;\r\n    }\r\n    // pivot controls\r\n    if(type === 'ORBIT') {\r\n        position = args.obj[1] || { x : 0, y : 0, z : 0 };\r\n        target   = args.obj[2] || { x : 0, y : 0, z : 0 };\r\n        options  = args.obj[3] || {};\r\n\r\n        controls.target.set(\r\n            target.x,\r\n            target.y,\r\n            target.z\r\n        );\r\n        controls.object.position.set(\r\n            position.x,\r\n            position.y,\r\n            position.z\r\n        );\r\n        controls.enableZoom  = true;\r\n        controls.rotateSpeed = 1;\r\n    }\r\n    // exact controls\r\n    if(type === 'EXACT') {\r\n        position = args.obj[1] || { x : 0, y : 0, z : 0 };\r\n        target   = args.obj[2] || { x : 0, y : 0, z : 0 };\r\n        options  = args.obj[3] || {};\r\n\r\n        controls.target.set(\r\n            target.x,\r\n            target.y,\r\n            target.z\r\n        );\r\n        controls.object.position.set(\r\n            position.x,\r\n            position.y,\r\n            position.z\r\n        );\r\n        controls.enableZoom  = false;\r\n        controls.rotateSpeed = -0.3;\r\n    }\r\n\r\n    // manual props\r\n    Object.keys(options).forEach(function(opt) {\r\n        controls[opt] = options[opt];\r\n    });\r\n};\r\n\r\n// ============================================================================\r\n\r\nexport {\r\n    setupControls,\r\n    setupObject,\r\n    setupScene,\r\n    setupMaterial\r\n};","const setup = {};\r\n\r\nsetup['Ford Mustang GT350R'] = {\r\n    file : 'models/ford_mustang_gt350r.glb',\r\n    logo : 'models/ford_mustang_gt350r.png',\r\n    init : {\r\n        lights : [ { x :  1, y : 1, z : 1 }, { x : -1, y : 1, z : 1 } ]\r\n    },\r\n    edit : {\r\n        Paint : {\r\n            icon  : 'images/menu/paint.png',\r\n            focus : { x : -2.16, y : 0.72, z : 1.07 },\r\n            mesh  : ['object001_Material015_0'],\r\n            items : {\r\n                Red    : { bg : '#e80202', trans : { color : '#e80202' } },\r\n                Orange : { bg : '#b26201', trans : { color : '#ff33cc' } },\r\n                Green  : { bg : '#006600', trans : { color : '#003300' } }\r\n            }\r\n        },\r\n        Wheels : {\r\n            icon  : 'images/menu/wheels.png',\r\n            focus : { x : 1.60, y : -1.18, z : -1.63 },\r\n            mesh  : ['wheel003_rim_0001', 'wheel002_rim_0001', 'wheel000_rim_0', 'wheel001_rim_0001'],\r\n            items : {\r\n                Black  : { bg : '#333333', trans : { color : '#131313' } },\r\n                Silver : { bg : '#777777', trans : { color : '#808080' } },\r\n                Copper : { bg : '#331a00', trans : { color : '#1a0d00' } }\r\n            }\r\n        },\r\n        Windows : {\r\n            icon  : 'images/menu/glasses.png',\r\n            focus : { x : 0.96, y : 0.87, z : -0.57 },\r\n            mesh  : ['object_Windows_0'],\r\n            items : {\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Silver : { bg : '#222222', trans : { color : '#030303' } }\r\n            }\r\n        },\r\n        Plastic : {\r\n            icon  : 'images/menu/metal.png',\r\n            focus : { x : 0.42, y : -0.47, z : -2.59 },\r\n            mesh  : ['object008_Shiny_Black_0'],\r\n            items : {\r\n                Silver : { bg : '#000000', trans : { color : '#010101' } },\r\n                Black  : { bg : '#333333', trans : { color : '#111111' } }\r\n            }\r\n        },\r\n        Interior : {\r\n            icon  : 'images/menu/seats.png',\r\n            focus : { x : -1.81, y : -0.13, z : 1.10 },\r\n            mesh  : ['object016_Material013_0'],\r\n            items : {\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Silver : { bg : '#222222', trans : { color : '#222222' } },\r\n                Brown  : { bg : '#331a00', trans : { color : '#180d01' } }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nsetup['McLaren MP4-12C'] = {\r\n    file : 'models/mclaren_mp4_12c.glb',\r\n    logo : 'models/mclaren_mp4_12c.png',\r\n    init : {\r\n        lights : [ { x :  1, y : 1, z : 1 }, { x : -1, y : 1, z : 1 } ]\r\n    },\r\n    edit : {\r\n        Paint : {\r\n            icon  : 'images/menu/paint.png',\r\n            focus : { x : -2.16, y : 0.72, z : 1.07 },\r\n            mesh  : ['object016_Material005_0'],\r\n            items : {\r\n                Orange : { bg : '#ff3e00', trans : { color : '#ff3e00' } },\r\n                Red    : { bg : '#cc0000', trans : { color : '#cc0000' } },\r\n                Green  : { bg : '#006600', trans : { color : '#003300' } },\r\n                Blue   : { bg : '#0033cc', trans : { color : '#0033cc' } }\r\n            }\r\n        },\r\n        Wheels : {\r\n            icon  : 'images/menu/wheels.png',\r\n            focus : { x : 1.60, y : -1.18, z : -1.63 },\r\n            mesh  : ['wheel002_object_Material014_0', 'wheel003_object010_Material014_0', 'wheel000_object002_Material014_0', 'wheel001_object008_Material014_0'],\r\n            items : {\r\n                Light  : { bg : '#333333', trans : { color : '#555555' } },\r\n                Silver : { bg : '#777777', trans : { color : '#FFFFFF' } },\r\n                Black  : { bg : '#111111', trans : { color : '#050505' } },\r\n                Copper : { bg : '#331a00', trans : { color : '#1a0d00' } }\r\n            }\r\n        },\r\n        Windows : {\r\n            icon  : 'images/menu/glasses.png',\r\n            focus : { x : 1.59, y : 1.32, z : 0.20 },\r\n            mesh  : ['object032_object069_Material001_0'],\r\n            items : {\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Silver : { bg : '#222222', trans : { color : '#030303' } }\r\n            }\r\n        },\r\n        Plastic : {\r\n            icon  : 'images/menu/metal.png',\r\n            focus : { x : 0.42, y : -0.47, z : -2.59 },\r\n            mesh  : ['object015_object047_cb_0'],\r\n            items : {\r\n                Silver : { bg : '#555555', trans : { color : '#FFFFFF' } },\r\n                Black  : { bg : '#111111', trans : { color : '#111111' } }\r\n            }\r\n        },\r\n        Interior : {\r\n            icon  : 'images/menu/seats.png',\r\n            focus : { x : -1.81, y : -0.13, z : 1.10 },\r\n            mesh  : ['object000_object074_Material021_0'],\r\n            items : {\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Silver : { bg : '#222222', trans : { color : '#222222' } },\r\n                Brown  : { bg : '#331a00', trans : { color : '#180d01' } }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nsetup['Nissan Z Proto'] = {\r\n    file : 'models/nissan_z_proto.glb',\r\n    logo : 'models/nissan_z_proto.png',\r\n    init : {\r\n        lights : [ { x :  1, y : 1, z : 1 }, { x : -1, y : 1, z : 1 } ]\r\n    },\r\n    edit : {\r\n        Paint : {\r\n            icon  : 'images/menu/paint.png',\r\n            focus : { x : -2.16, y : 0.72, z : 1.07 },\r\n            mesh  : ['Mesh_1'],\r\n            items : {\r\n                Yellow : { bg : '#cca100', trans : { color : '#cca100' } },\r\n                Red    : { bg : '#cc0000', trans : { color : '#cc0000' } },\r\n                Green  : { bg : '#006600', trans : { color : '#003300' } },\r\n                Blue   : { bg : '#3333ff', trans : { color : '#000066' } }\r\n            }\r\n        },\r\n        Wheels : {\r\n            icon  : 'images/menu/wheels.png',\r\n            focus : { x : 1.60, y : -1.18, z : -1.63 },\r\n            mesh  : ['Mesh_7'],\r\n            items : {\r\n                Black  : { bg : '#070301', trans : { color : '#070301' } },\r\n                Silver : { bg : '#777777', trans : { color : '#808080' } },\r\n                Copper : { bg : '#331a00', trans : { color : '#1a0d00' } }\r\n            }\r\n        },\r\n        Plastic : {\r\n            icon  : 'images/menu/metal.png',\r\n            focus : { x : 0.42, y : -0.47, z : -2.59 },\r\n            mesh  : ['Mesh_10'],\r\n            items : {\r\n                Silver : { bg : '#000000', trans : { color : '#000000' } },\r\n                Black  : { bg : '#333333', trans : { color : '#050505' } }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nsetup['Nissan Fairlady Z'] = {\r\n    file : 'models/nissan_fairlady.glb',\r\n    logo : 'models/nissan_fairlady.png',\r\n    init : {\r\n        lights : {\r\n            \"obj_1\" : { x : +0.47, y : -1.15, z : 0.9 },\r\n            \"obj_2\" : { x : -0.43, y : -1.15, z : 0.9 }\r\n        }\r\n    },\r\n    edit : {\r\n        Paint : {\r\n            icon  : 'images/menu/paint.png',\r\n            audio : 'audio/spray.mp3',\r\n            focus : { x : -2.22, y : 0.43, z : 0.42 },\r\n            mesh  : ['Object_17'],\r\n            items : {\r\n                Red   : { bg : '#990000', trans : { color : '#210001' } },\r\n                Green : { bg : '#006600', trans : { color : '#003300' } },\r\n                Blue  : { bg : '#000066', trans : { color : '#00004d' } },\r\n                Gold  : { bg : '#b39800', trans : { color : '#806c00' } }\r\n            }\r\n        },\r\n        Wheels : {\r\n            icon  : 'images/menu/wheels.png',\r\n            audio : 'audio/spray.mp3',\r\n            focus : { x : 1.40, y : -1.06, z : -1.43 },\r\n            mesh  : ['Object_23'],\r\n            items : {\r\n                Black  : { bg : '#111111', trans : { color : '#111111' } },\r\n                Gold   : { bg : '#b39800', trans : { color : '#b39800' } },\r\n                Silver : { bg : '#808080', trans : { color : '#808080' } }\r\n            }\r\n        },\r\n        Metal : {\r\n            icon  : 'images/menu/metal.png',\r\n            audio : 'audio/metal.mp3',\r\n            focus : { x : 0.80, y : -0.93, z : -2.07 },\r\n            mesh  : ['Object_19'],\r\n            items : {\r\n                Black  : { bg : '#040404', trans : { color : '#040404' } },\r\n                Silver : { bg : '#666666', trans : { color : '#666666' } },\r\n                Gold   : { bg : '#b39800', trans : { color : '#332b00' } }\r\n            }\r\n        },\r\n        Frame : {\r\n            icon  : 'images/menu/frame.png',\r\n            audio : 'audio/metal.mp3',\r\n            focus : { x : -1.77, y : -0.38, z : -0.71 },\r\n            mesh  : ['Object_12'],\r\n            items : {\r\n                Silver : { bg : '#424242', trans : { color : '#424242' } },\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Gold   : { bg : '#b39800', trans : { color : '#b39800' } }\r\n            }\r\n        },\r\n        Interior : {\r\n            icon  : 'images/menu/seats.png',\r\n            audio : 'audio/spray.mp3',\r\n            focus : { x : 1.72, y : -0.01, z : 0.29 },\r\n            mesh  : ['Object_28'],\r\n            items : {\r\n                Silver : { bg : '#424242', trans : { color : '#040404' } },\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Brown  : { bg : '#331a00', trans : { color : '#1a0d00' } }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/*\r\nsetup['Chevrolet Corvette C7'] = {\r\n    file : 'models/chevrolet_corvette_c7.glb',\r\n    logo : 'models/chevrolet_corvette_c7..png',\r\n    init : {\r\n        lights : {\r\n            \"obj_1\" : { x : +0.47, y : -1.15, z : 0.9 },\r\n            \"obj_2\" : { x : -0.43, y : -1.1, z : 0.9 }\r\n        }\r\n    },\r\n    edit : {\r\n        Paint : {\r\n            icon  : 'images/menu/paint.png',\r\n            focus : { x : -2.16, y : 0.72, z : 1.07 },\r\n            mesh  : ['CarBody_1_Car_Paint_0001', 'CarBody_1_Car_Paint_0', 'CarBody_1_Car_Paint_0002'],\r\n            items : {\r\n                Blue  : { bg : '#073b64', trans : { color : '#073b64' } },\r\n                Red   : { bg : '#990000', trans : { color : '#210001' } },\r\n                Green : { bg : '#006600', trans : { color : '#003300' } },\r\n                Black : { bg : '#111111', trans : { color : '#000000' } }\r\n            }\r\n        },\r\n        Wheels : {\r\n            icon  : 'images/menu/wheels.png',\r\n            focus : { x : 1.60, y : -1.18, z : -1.63 },\r\n            mesh  : ['Rim_FL_Rim_0', 'Rim_FR_Rim_0', 'Rim_RR_Rim_0', 'Rim_RL_Rim_0'],\r\n            items : {\r\n                Black  : { bg : '#030303', trans : { color : '#030303' } },\r\n                Silver : { bg : '#808080', trans : { color : '#808080' } },\r\n                Copper : { bg : '#331a00', trans : { color : '#1a0d00' } }\r\n            }\r\n        },\r\n        Windows : {\r\n            icon  : 'images/menu/glasses.png',\r\n            focus : { x : 0.96, y : 0.87, z : -0.57 },\r\n            mesh  : ['CarBody_2_Windows_0'],\r\n            items : {\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Silver : { bg : '#222222', trans : { color : '#030303' } }\r\n            }\r\n        },\r\n        Plastic : {\r\n            icon  : 'images/menu/metal.png',\r\n            focus : { x : 0.55, y : -0.94, z : -2.11 },\r\n            mesh  : ['CarBody_2_Plastic_0'],\r\n            items : {\r\n                Silver : { bg : '#222222', trans : { color : '#020202' } },\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } }\r\n            }\r\n        },\r\n        Interior : {\r\n            icon  : 'images/menu/seats.png',\r\n            focus : { x : -1.81, y : -0.13, z : 1.10 },\r\n            mesh  : ['CarBody_2_Interior_0'],\r\n            items : {\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Silver : { bg : '#222222', trans : { color : '#222222' } },\r\n                Brown  : { bg : '#331a00', trans : { color : '#180d01' } }\r\n            }\r\n        }\r\n    }\r\n};\r\n*/\r\n\r\nexport default setup;","import { TrinityEngine, THREE } from \"../../engine/4.0\";\r\nimport \"./arimac.css\";\r\n\r\nlet LoadingScreen = {};\r\n\r\nlet arimac = TrinityEngine.createScene(160, 160, false);\r\narimac.isLoading = true;\r\narimac.controls.enabled = false;\r\n\r\nfunction render() {\r\n    requestAnimationFrame(render);\r\n    if(arimac.isLoading && arimac.logo) {\r\n        arimac.composer.render();\r\n        let r = arimac.logo.rotation;\r\n        let y = r.y % (Math.PI * 2);\r\n        let speed = 0.03;\r\n        if(y > 0.3 && y < 5.8) { speed = 0.07; }\r\n        arimac.logo.rotation.y += speed;\r\n    }\r\n}; render()\r\n\r\nlet light = new THREE.AmbientLight(0xffffff, 0.7);\r\narimac.scene.add(light);\r\n\r\nLoadingScreen.start = function(color, callback = function() {}) {\r\n    // elements and modules setup\r\n    arimac.scene.background = new THREE.Color(color);\r\n    arimac.root = document.querySelector('.arimac_load');\r\n    arimac.root.style.background = color;\r\n    arimac.renderer.domElement.style.background = color;\r\n\r\n    let elem = document.createElement('div');\r\n    elem.className = 'arimac_lval';\r\n    arimac.root.appendChild(elem);\r\n    if(color === '#FFF') {\r\n        arimac.root.setAttribute('class', 'arimac_load arimac_load_white');\r\n    }\r\n    // load logo model\r\n    TrinityEngine.loadModel('models/arimac/logo.fbx', function(logo) {\r\n        arimac.root.appendChild(arimac.renderer.domElement);\r\n        arimac.logo = logo;\r\n        arimac.logo.rotation.y = 5.8;\r\n        arimac.scene.add(logo);\r\n        arimac.logo.scale.set(0.2, 0.2, 0.2);\r\n        arimac.isLoading = true;\r\n        if(color === '#FFF') {\r\n            logo.children[0].material[1].color = new THREE.Color('#131313');\r\n        }\r\n        callback();\r\n    });\r\n    \r\n};\r\n\r\nLoadingScreen.setValue = function(value) {\r\n    // element select\r\n    let root = document.querySelector('.arimac_load');\r\n    let elem = document.querySelector('.arimac_load>.arimac_lval');\r\n    // update\r\n    elem.innerHTML = 'Loading... ' + value + '%';\r\n    // check end\r\n    if(value === 100) {\r\n        setTimeout(function() {\r\n            root.style.opacity = 0;\r\n            setTimeout(function() { root.style.display = 'none'; }, 300);\r\n        }, 1000);\r\n    }\r\n};\r\n\r\nLoadingScreen.end = function() {\r\n    let root = document.querySelector('.arimac_load');\r\n    setTimeout(function() {\r\n        root.style.opacity = 0;\r\n        setTimeout(function() { root.style.display = 'none'; }, 300);\r\n    }, 1000); \r\n};\r\n\r\nexport default LoadingScreen;","import React, { Component } from 'react';\nimport { TrinityEngine, THREE, TWEEN } from \"./engine/4.0\";\nimport setup from './bin/setup';\nimport './bin/main.css';\nimport LoadingScreen from './bin/logo/arimac';\n\nclass App extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            modelIndex : -1,\n            editIndex  : null,\n            switchBusy : false,\n            menuItems  : []\n        }\n        this.lastModel = this.lastModel.bind(this);\n        this.nextModel = this.nextModel.bind(this);\n        this.setEdit   = this.setEdit.bind(this);\n        this.setConf   = this.setConf.bind(this);\n    }\n\n    lastModel() { this.switchModel(-1); }\n    nextModel() { this.switchModel(+1); }\n\n    switchModel(k) {\n        if(this.state.switchBusy) { return; }\n        var n = this.state.modelIndex; n += k;\n        var l = Object.keys(setup).length;\n        if(n >= l) { n = 0; } else if(n <= -1) { n = l - 1; }\n        this.setState({ modelIndex : n, switchBusy : true });\n        var t = this;\n        switchModel(n, function(menuData) {\n            t.setState({ switchBusy : false, menuItems : menuData, editIndex : null });\n        });\n    }\n\n    getLogo() {\n        if(this.state.modelIndex === -1) { return {}; }\n        else {\n            var logo = Object.values(setup)[this.state.modelIndex].logo;\n            return { backgroundImage : 'url('+ logo +')' };\n        }\n    }\n\n    getLoading() {\n        if(this.state.switchBusy) {\n            return <div className=\"Loading\"></div>\n        } else { return []; }\n    }\n\n    setEdit(e) {\n        if(this.state.switchBusy) { return; }\n        var key = e.target.innerHTML;\n        if(this.state.editIndex === key) {\n            this.setState({ editIndex : null });\n            resetPosition();\n        } else {\n            this.setState({ editIndex : key });\n            setPosition(this.state.modelIndex, key);\n        }\n    }\n\n    setConf(e) {\n        if(this.state.switchBusy) { return; }\n        var key = this.state.editIndex;\n        var val = e.target.lang;\n        var obj = Object.values(setup)[this.state.modelIndex].edit[key].mesh;\n        var clr = Object.values(setup)[this.state.modelIndex].edit[key].items[val].trans.color;\n        obj.forEach(function(mesh_name) {\n            var mesh = TrinityEngine.findByName(modules.model, mesh_name);\n            TrinityEngine.tweenMaterial(mesh, { color : new THREE.Color(clr) }, 300)\n        });\n    }\n\n    buildMenu() {\n        var _this = this;\n        var out = [];\n        var obj = this.state.menuItems;\n        Object.keys(obj).forEach(function(key) {\n            var bg = `url(${obj[key].icon})`;\n            var id = ``; if(key === _this.state.editIndex) { id = 'edit_type_open'; }\n            out.push(\n                <div\n                    key={key} id={id} className=\"edit_type\"\n                    style={{backgroundImage : bg}}\n                    onClick={_this.setEdit}>\n                    {key}\n                </div>\n            );\n        });\n        return out;\n    }\n\n    buildEdit() {\n        if(this.state.editIndex === null) { return []; }\n        if(Object.values(setup)[this.state.modelIndex].edit[this.state.editIndex] === undefined) {\n            return [];\n        }\n        var _this = this;\n        var out = [];\n        var obj = Object.values(setup)[this.state.modelIndex].edit[this.state.editIndex].items;\n        Object.keys(obj).forEach(function(key) {\n            out.push(\n                <div\n                    key={key}\n                    style={{backgroundColor : obj[key].bg}}\n                    lang={key}\n                    className=\"edit_item\"\n                    onClick={_this.setConf}>\n                </div>\n            );\n        });\n        return out;\n    }\n\n    componentDidMount() {\n        let _this = this;\n        LoadingScreen.start('#000', function() {\n            _this.nextModel();\n        });\n    }\n\n    render() {\n        var menu_state = '';\n        var edit_state = '';\n        if(this.state.editIndex !== null) {\n            menu_state = 'menu_outer_open';\n            edit_state = 'edit_outer_open';\n        }\n        return (\n            <div>\n                {this.getLoading()}\n                <div className=\"ModelLogo\" style={this.getLogo()}></div>\n                <div className=\"CanvasRoot\"></div>\n                <button className=\"switch switch_l\" onClick={this.lastModel}></button>\n                <button className=\"switch switch_r\" onClick={this.nextModel}></button>\n                <center className=\"edit_outer\" id={ edit_state }>\n                    <div className=\"edit\">{this.buildEdit()}</div>\n                </center>\n                <center className=\"menu_outer\" id={ menu_state }>\n                    <div className=\"menu\">{this.buildMenu()}</div>\n                </center>\n                <div className=\"arimac_load\"></div>\n                <div className=\"arimac_logo arimac_logo_white\"></div>\n            </div>\n        );\n    }\n\n};\n\n// ===================================================================\n\nlet w = window.innerWidth;\nlet h = window.innerHeight;\n\nfunction isMobile() {\n    if(window.innerWidth >= window.innerHeight) {\n        return false\n    } else { return true; }\n};\n\nlet modules = TrinityEngine.createScene(w, h, '#000');\n\n// lights\nvar lights = [\n    new THREE.PointLight(0xffee88, 1, 100, 2),\n    new THREE.PointLight(0xffffff, 1),\n    new THREE.PointLight(0xffffff, 1),\n    new THREE.PointLight(0xffffff, 1),\n    new THREE.PointLight(0xffffff, 1)\n];\n\nmodules.lights = lights;\n\nlights[0].power = 0;\nlights[1].power = 0;\nlights[2].power = 0;\nlights[3].power = 0;\nlights[4].power = 0;\n\nlights[0].position.set(0, 3, 0);\nlights[1].position.set(0, 0, +4);\nlights[2].position.set(0, 0, -4);\nlights[3].position.set(+4, 0, 0);\nlights[4].position.set(-4, 0, 0);\n\nlights.forEach(function(l) { modules.scene.add(l) });\n\nmodules.renderer.physicallyCorrectLights = true;\nmodules.renderer.outputEncoding = THREE.sRGBEncoding;\nmodules.renderer.shadowMap.enabled = true;\nmodules.renderer.toneMapping = THREE.ReinhardToneMapping;\nmodules.renderer.setPixelRatio(window.devicePixelRatio);\nmodules.renderer.toneMappingExposure = Math.pow(0.38, 5.0);\nmodules.renderer.shadowMap.enabled = true;\n\n//ground\nmodules.ground = new THREE.Mesh(\n    new THREE.PlaneGeometry(38, 38),\n    new THREE.MeshStandardMaterial({ transparent: true, opacity: 0.16 })\n);\nmodules.ground.rotation.x = -Math.PI / 2;\nvar tex = new THREE.TextureLoader()\n    .load('textures/mat_floor.jpg');\ntex.wrapS = THREE.RepeatWrapping;\ntex.wrapT = THREE.RepeatWrapping;\ntex.repeat.set(22, 22);\nmodules.ground.material.map = tex;\nmodules.ground.material.bumpMap = tex;\nmodules.ground.material.bumpScale = 0.1;\nmodules.ground.receiveShadow = true;\nmodules.scene.add(modules.ground);\n\nmodules.controls.autoRotate    = true;\nmodules.controls.maxPolarAngle = 1.6;\nmodules.controls.maxDistance   = 4;\nmodules.controls.minDistance   = 2;\nmodules.camera.position.set(1.72, -0.19, 3.67);\nmodules.controls.target.set(0, -1, 0);\nmodules.ground.position.set(0, -1.25, 0);\n\nwindow.addEventListener('load', function() {\n    document.querySelector('.CanvasRoot')\n        .appendChild(modules.renderer.domElement);\n});\n\nwindow.addEventListener('resize', function() {\n    w = window.innerWidth;\n    h = window.innerHeight;\n    modules.renderer.setSize(w, h);\n    modules.camera.aspect = w / h;\n    modules.camera.updateProjectionMatrix();\n    if(modules.model) {\n        if(isMobile()) { modules.model.scale.set(0.5, 0.5, 0.5); }\n        else { modules.model.scale.set(1, 1, 1); }\n    }\n});\n\n// ==================================================================\n\nfunction switchModel(id, callback = function() {}) {\n    if(modules.model) { LightsOff(function() {\n        if(modules.model) { modules.scene.remove(modules.model); }\n    }); }\n    resetPosition(function() {\n        loadModel(id, function() {\n            LightsOn();\n            modules.controls.autoRotate = true;\n            callback(Object.values(setup)[id].edit);\n        });\n    });\n};\n\nfunction loadModel(id, callback = function() {}) {\n    TrinityEngine.loadModel(Object.values(setup)[id].file, function(model) {\n        modules.model = model;\n        model.position.set(0, -1.25, 0);\n        if(isMobile()) { model.scale.set(0.5, 0.5, 0.5); }\n        modules.scene.add(model);\n        LoadingScreen.end();\n        setTimeout(callback, 100);\n    });\n};\n\nfunction resetPosition(callback = function() {}) {\n    var p = { x : 1.72, y : -0.19, z : 3.67 };\n    TrinityEngine.tweenControls('EXACT', modules.controls,\n        { x : 0, y : -1, z : 0 },\n        p, 1000, 'power2'\n    );  modules.controls.autoRotate = true;\n    setTimeout(callback, 1000);\n}\n\nfunction LightsOn(callback = function() {}) {\n    var a = { a : 0, b : 0, c : 0, d : 0, e : 0 };\n    var b = { a : 102500, b : 12021, c : 12021, d : 12021, e : 12021 };\n    new TWEEN.Tween(a).to(b, 700)\n    .onUpdate(function(r) {\n        Object.values(r).forEach(function(v, i) {\n            modules.lights[i].power = v;\n        });\n    }).start();\n    setTimeout(callback, 700);\n};\n\nfunction LightsOff(callback = function() {}) {\n    var a = { a : 102500, b : 12021, c : 12021, d : 12021, e : 12021 };\n    var b = { a : 0, b : 0, c : 0, d : 0, e : 0 };\n    new TWEEN.Tween(a).to(b, 700)\n    .onUpdate(function(r) {\n        Object.values(r).forEach(function(v, i) {\n            modules.lights[i].power = v;\n        });\n    }).start();\n    setTimeout(callback, 700);\n};\n\nfunction setPosition(id, key) {\n    var pos = Object.values(setup)[id].edit[key].focus;\n    TrinityEngine.tweenControls('EXACT', modules.controls,\n        { x : 0, y : -1, z : 0 },\n        pos, 1000, 'power2'\n    ); modules.controls.autoRotate = false; \n}\n\nwindow.getCamPos = function() {\n    var k = '';\n    k += 'x : ' + modules.camera.position.x.toFixed(2);\n    k += ', y : ' + modules.camera.position.y.toFixed(2);\n    k += ', z : ' + modules.camera.position.z.toFixed(2);\n    console.log(k);\n}\n\nfunction render() {\n    requestAnimationFrame(render);\n    TWEEN.update();\n}; render();\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import 'react-app-polyfill/ie11';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}