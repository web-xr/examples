{"version":3,"sources":["engine/three.js/_check.js","engine/import.js","engine/three.js/_create.js","engine/three.js/_load.js","engine/three.js/_tween.js","engine/three.js/index.js","engine/three.js/_export.js","engine/three.js/_eval.js","engine/three.js/_find.js","engine/three.js/_setup.js","engine/immersive-ar/index.js","engine/model-viewer/index.js","engine/eighth-wall/index.js","engine/index.js","modules/bin/structure.js","arimac/index.js","modules/App.js","reportWebVitals.js","index.js"],"names":["checkConsole","window","innerWidth","innerHeight","e","document","createElement","style","position","zIndex","width","height","left","top","background","color","fontFamily","fontSize","lineHeight","overflow","padding","body","marginTop","appendChild","console","log","args","Array","from","arguments","innerHTML","getString","removeOverflow","error","warn","k","forEach","a","JSON","stringify","className","outerHTML","arr","querySelectorAll","i","length","POSTPROCESSING","EffectComposer","RenderPass","ShaderPass","OutlinePass","BloomPass","UnrealBloomPass","GlitchPass","SSAOPass","SSRPass","ReflectorForSSRPass","FilmPass","BokehPass","LOADERS","FilmShader","FXAAShader","SSAOShader","GLTFLoader","FBXLoader","OBJLoader","MTLLoader","DDSLoader","CONTROLS","OrbitControls","PointerLockControls","EXPORTERS","GLTFExporter","USDZExporter","GSAP","gsap","CLOCK","Clock","_args","out","undefined","arg","typ","substr","push","name","str","html","root","obj","querySelector","setAttribute","createEvent","type","toLowerCase","object","callback","fun","isArray","list","uuid","down","last","listen","modules","u","cnv","renderer","domElement","functionMouseDown","cast","functionMouseMove","functionMouseUp","addEventListener","event","sz","getBoundingClientRect","x","layerX","y","layerY","touches","clientX","clientY","xy","THREE","Vector2","caster","Raycaster","setFromCamera","camera","threejs","findByType","scene","intersectObjects","data","f","loadAll","files","progress","loaddata","mngr","check","ready","count","Object","keys","wait","values","isBusy","key","getFileType","path","split","extn","manager","onProgress","n","resp","LoadingManager","url","ext","indexOf","toUpperCase","pop","xyzByDist","p1","p2","d","Math","pow","z","s","tweenControls","offset","time","t_0","t_1","p_0","p_1","b","controls","pos_1","pos_2","ease","t","target","p","enabled","num","duration","timeline","onComplete","update","onUpdate","set","fromTo","startRotation","Euler","copy","rotation","px","py","pz","tx","ty","tz","captureSpot","tweenAnimation","anim","mesh","stop","boo","animations","AnimationClip","findByName","mixr","acts","plays","clock","start","speed","mixer","clipAction","AnimationMixer","play","animate","requestAnimationFrame","getDelta","checkControls","c","checkTransform","r","scale","shiftKey","preventDefault","ctrlKey","PI","checkObjects","property","exportModel","fnc","dne","blob","URL","createObjectURL","parse","then","result","Blob","ArrayBuffer","output","createScene","auto","Scene","PerspectiveCamera","WebGLRenderer","antialias","alpha","light","createLight","add","setSize","Color","enablePan","autoRotate","autoRotateSpeed","enableDamping","dampingFactor","setupControls","render","createEffect","pass","names","options","w","h","composer","addPass","renderPass","edgeStrength","visibleEdgeColor","kernelRadius","minDistance","maxDistance","focus","aperture","maxblur","opt","createObject","opts","grr","mrr","g","m","geo","vrr","mat","Mesh","setupObject","clr","int","pwr","pos","rot","vsb","getHex","DirectionalLight","AmbientLight","PointLight","HemisphereLight","SpotLight","power","visible","createParticles","stat","rots","ax","bx","ay","by","az","bz","dx","dy","dz","objs","randNumber","random","max","min","randObject","floor","rx","ry","rz","ra","rb","rc","robj","clone","material","evalPoints","obj_1","obj_2","rnd","cam","vec_1","vec_2","widthHalf","heightHalf","project","findAll","model","recMesh","children","findById","mult","findByProperty","findByMaterialName","findByMaterialProperty","loadAjax","Date","now","frm","FormData","dat","append","xhr","XMLHttpRequest","open","onreadystatechange","this","readyState","status","responseText","send","loadImage","file","image","Image","crossOrigin","onload","src","loadBitmap","bitmap","ImageBitmapLoader","load","loadModel","loader","mtlfile","lastIndexOf","mtlload","materials","preload","setMaterials","traverse","child","isMesh","opacity","emissive","emissiveMap","map","loadTexture","TextureLoader","tex","wrapS","RepeatWrapping","wrapT","repeat","enableZoom","rotateSpeed","orr","setupScene","splice","aspect","updateProjectionMatrix","setupMaterial","mats","txar","clar","tweenMaterial","back","dispose","mprr","new_mesh","geometry","needsUpdate","transparent","remove","sky","tweenObject","val","axis","toLocaleLowerCase","tweenLight","lght","lgt","XRWebGLLayer","checkAvailability","onSupport","onError","req_1","navigator","xr","req_2","isSessionSupported","req_3","requestSession","element","requiredFeatures","domOverlay","session","configureCanvas","canvas","context","getContext","xrCompatible","updateRenderState","baseLayer","configureScene","matrixAutoUpdate","preserveDrawingBuffer","configureLights","directionalLight","castShadow","planeGeometry","PlaneGeometry","rotateX","shadowMesh","ShadowMaterial","receiveShadow","configureReferenceSpaces","requestReferenceSpace","localReferenceSpace","viewerSpace","requestHitTestSource","space","hitTestSource","immersivear","renderLoop","onHitPoseUpdate","frame","framebuffer","renderState","bindFramebuffer","FRAMEBUFFER","pose","getViewerPose","view","views","viewport","getViewport","matrix","fromArray","transform","projectionMatrix","updateMatrixWorld","hitTestResults","getHitTestResults","hitPose","getPose","eighthwall","defKey","elm","head","TrinityEngine","createView","source","mv","ios","structure","imglink","posits","lights","direct","ambient","configs","crnt","colorThumb","imageThumb","items","cog","GL","Arimac","loadColor","logoColor","display","elem","logo","isLoading","startLoading","updateLoading","value","endLoading","setTimeout","App","props","state","itemID","editID","firstConfig","setItem","bind","setEdit","loadItem","lang","setState","loading","_this","edit","getAttribute","dress","updateModel","buildItemsPanel","buildEditsPanel","Component","sta","itemImage","title","onClick","backgroundImage","buildEditItems","css","cnm","addEventList","dlight","maxPolarAngle","minPolarAngle","disposeItem","intensity","itm","imageData","colorData","loadAllBitmaps","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"gVAyFIA,G,cAAe,SAAfA,IACA,KAAGC,OAAOC,WAAaD,OAAOE,aAA9B,CACA,IAAIC,EAAIC,SAASC,cAAc,OAC/BF,EAAEG,MAAMC,SAAW,QACnBJ,EAAEG,MAAME,OAAS,IACjBL,EAAEG,MAAMG,MAAQ,qBAChBN,EAAEG,MAAMI,OAAS,QACjBP,EAAEG,MAAMK,KAAO,MACfR,EAAEG,MAAMM,IAAM,MACdT,EAAEG,MAAMO,WAAa,OACrBV,EAAEG,MAAMQ,MAAQ,UAChBX,EAAEG,MAAMS,WAAa,WACrBZ,EAAEG,MAAMU,SAAW,OACnBb,EAAEG,MAAMW,WAAa,OACrBd,EAAEG,MAAMY,SAAW,SACnBf,EAAEG,MAAMa,QAAU,OAClBf,SAASgB,KAAKd,MAAMe,UAAY,QAChCjB,SAASgB,KAAKE,YAAYnB,GAE1BoB,QAAQC,IAAM,WACV,IAAIC,EAAOC,MAAMC,KAAKC,WACtBzB,EAAE0B,UAAY9B,EAAa+B,UAAUL,EAAM,WAAatB,EAAE0B,UAC1D9B,EAAagC,kBAGjBR,QAAQS,MAAQ,WACZ,IAAIP,EAAOC,MAAMC,KAAKC,WACtBzB,EAAE0B,UAAY9B,EAAa+B,UAAUL,EAAM,WAAatB,EAAE0B,UAC1D9B,EAAagC,kBAGjBR,QAAQU,KAAO,WACX,IAAIR,EAAOC,MAAMC,KAAKC,WACtBzB,EAAE0B,UAAY9B,EAAa+B,UAAUL,EAAM,UAAYtB,EAAE0B,UACzD9B,EAAagC,qBAKrBhC,EAAa+B,UAAY,SAASL,EAAMX,GACpC,IAAIoB,EAAI,GACRT,EAAKU,SAAQ,SAASC,GAClBF,GAAKG,KAAKC,UAAUF,GAAK,OAE7B,IAAIjC,EAAIC,SAASC,cAAc,OAK/B,OAJAF,EAAEoC,UAAY,cACdpC,EAAEG,MAAMW,WAAa,OACrBd,EAAEG,MAAMQ,MAAQA,EAChBX,EAAE0B,UAAYK,EACP/B,EAAEqC,WAGbzC,EAAagC,eAAiB,WAC1B,IAAIU,EAAMrC,SAASsC,iBAAiB,gBACpC,GAAW,OAARD,EACH,IAAI,IAAIE,EAAIF,EAAIG,OAAS,EAAGD,EAAI,EAAGA,IAC/BF,EAAIE,GAAGH,UAAY,I,yNC7GvBK,G,MAAiB,CACjBC,eAAiBA,IACjBC,WAAaA,IACbC,WAAaA,IACbC,YAAcA,IACdC,UAAYA,IACZC,gBAAkBA,IAClBC,WAAaA,IACbC,SAAWA,IACXC,QAAUA,IACVC,oBAAsBA,IACtBC,SAAWA,IACXC,UAAYA,MASZC,GALaC,IACAC,IACAC,IAGH,CACVC,WAAaA,IACbC,UAAYA,IACZC,UAAYA,IACZC,UAAYA,IACZC,UAAYA,MAGZC,EAAW,CACXC,cAAgBA,IAChBC,oBAAsBA,KAGtBC,EAAY,CACZC,aAAeA,IACfC,aAAeA,KAGfC,EAAOC,IACPC,EAAQC,QAERC,EAAQ,SAASpC,GACpB,IAAIqC,EAAM,CAAE,IAAQ,GAAI,IAAQ,GAAI,IAAQ,GAAI,IAAQ,GAAI,IAAQ,IACpE,QAAWC,IAARtC,EAAqB,OAAOqC,EAC/B,IAAI,IAAInC,EAAI,EAAGA,EAAIF,EAAIG,OAAQD,IAAK,CACnC,IAAIqC,EAAMvC,EAAIE,GACVsC,UAAcD,GAAKE,OAAO,EAAG,QACjBH,IAAbD,EAAIG,KAAsBH,EAAIG,GAAO,IACxCH,EAAIG,GAAKE,KAAKH,GAEf,OAAOF,GAGJzE,EAAgB,WAChB,IAAIoB,EAAOoD,EAAMjD,WACbwD,EAAO3D,EAAK4D,IAAI,IAAM,GACtBC,EAAO7D,EAAK4D,IAAI,IAAM,GACtBE,EAAO9D,EAAK+D,IAAI,IAAMpF,SAASqF,cAAchE,EAAK4D,IAAI,IACtDlF,EAAIC,SAASC,cAAc,OAI/B,OAHAF,EAAEuF,aAAa,QAASN,GACxBjF,EAAE0B,UAAYyD,EACXC,GAAQA,EAAKjE,YAAYnB,GACrBA,GC0BPwF,EAAc,SAAdA,IACA,IAAIlE,EAAOoD,EAAMjD,WACbgE,EAAWnE,EAAK4D,IAAI,GAAGQ,cACvBC,EAAWlE,UAAU,GACrBmE,EAAWtE,EAAKuE,IAAI,IAEK,IAA1BtE,MAAMuE,QAAQH,KACbA,EAAS,CAACA,IAGd,IAAIrD,EAAMkD,EAAYO,KACtBJ,EAAO3D,SAAQ,SAASqD,GACjB/C,EAAImD,UACwBb,IAAxBtC,EAAImD,GAAMJ,EAAIW,QACb1D,EAAImD,GAAMJ,EAAIW,MAAQ,IAE1B1D,EAAImD,GAAMJ,EAAIW,MAAMhB,KAAKY,QAMrCJ,EAAYO,KAAO,CACf,MAAe,GACf,UAAe,GACf,QAAe,GACf,UAAe,GACf,WAAe,GACf,WAAe,IAGnBP,EAAYS,MAAO,EAEnBT,EAAYU,KAAO,CAAEP,OAAS,IAE9BH,EAAYW,OAAS,SAASC,GAC1B,IAAIC,EAAIb,EACJc,EAAMF,EAAQG,SAASC,WAEvBC,EAAoB,SAASzG,GAC7BqG,EAAEJ,MAAO,EAET,IAAIZ,EAAMG,EAAYkB,KAAK1G,EAAGoG,GACnB,OAARf,GACIG,EAAYI,SAAS,YAAaP,EAAKrF,IAG9C2G,EAAoB,SAAS3G,GAE7B,GADAqG,EAAEJ,MAAO,GACK,IAAXI,EAAEJ,KAAgB,CAEjB,IAAIZ,EAAMG,EAAYkB,KAAK1G,EAAGoG,GAC9B,GAAW,OAARf,EAAgB,OAEfG,EAAYI,SAAS,YAAaP,EAAKrF,GACpCqG,EAAEH,KAAKP,OAAOK,OAASX,EAAIM,OAAOK,OAEjCR,EAAYI,SAAS,aAAcS,EAAEH,KAAMlG,GAC3CqG,EAAEH,KAAOb,EAETG,EAAYI,SAAS,aAAcP,EAAKrF,MAMpD4G,EAAkB,SAAS5G,GAC3B,GAAGqG,EAAEJ,KAAM,CAEP,IAAIZ,EAAMG,EAAYkB,KAAK1G,EAAGoG,GAC9B,GAAW,OAARf,EAAgB,OACZG,EAAYI,SAAS,QAASP,EAAKrF,GAE9CqG,EAAEJ,MAAO,GAGbK,EAAIO,iBAAiB,YAAaJ,GAClCH,EAAIO,iBAAiB,eAAgBJ,GAErCH,EAAIO,iBAAiB,YAAaF,GAClCL,EAAIO,iBAAiB,YAAaF,GAElCL,EAAIO,iBAAiB,UAAWD,GAChCN,EAAIO,iBAAiB,aAAcD,IAIvCpB,EAAYkB,KAAO,SAASI,EAAOV,GAE/B,IAAIW,EAAKX,EAAQG,SAASC,WAAWQ,wBAGjCC,EAAIH,EAAMI,OACVC,EAAIL,EAAMM,OAEXN,EAAMO,UACLJ,EAAIH,EAAMO,QAAQ,GAAGC,QACrBH,EAAIL,EAAMO,QAAQ,GAAGE,SAGzB,IAAIC,EAAK,IAAIC,EAAMC,QACnBF,EAAGP,GAAMA,EAAIF,EAAGzG,MAAS,EAAI,EAC7BkH,EAAGL,GAAMA,EAAIJ,EAAGxG,OAAU,EAAI,EAG9B,IAAIoH,EAAS,IAAIF,EAAMG,UACvBD,EAAOE,cAAcL,EAAIpB,EAAQ0B,QACjC,IAAIxF,EAAMyF,EAAQC,WAAW5B,EAAQ6B,MAAO,QAAQ,GAChDtD,EAAMgD,EAAOO,iBAAiB5F,GAClC,OAAGqC,EAAIlC,OAAS,EACLkC,EAAI,GACC,MAGpBa,EAAYI,SAAW,SAASH,EAAM0C,EAAMrB,GACxC,IAAId,EAAOmC,EAAKxC,OAAOK,KACnBD,EAAOP,EAAYO,KAAKN,QACVb,IAAfmB,EAAKC,IAEJD,EAAKC,GAAMhE,SAAQ,SAASoG,GAAKA,EAAED,EAAMrB,OCzOjD,IAAIuB,EAAU,SAAVA,IACA,IAAI/G,EAAOoD,EAAMjD,WACb6G,EAAQhH,EAAK+D,IAAI,GACjBO,EAAWtE,EAAKuE,IAAI,IAAM,aAC1B0C,EAAWjH,EAAKuE,IAAI,IAAM,aAC1B2C,EAAW,CAAEC,KAAO,GAqBxB,SAASC,IACL,IAAIC,GAAQ,EACRC,EAAQ,EACZC,OAAOC,KAAKR,GAAOtG,SAAQ,SAASiD,IACR,IAArBqD,EAAMrD,GAAM8D,OAAiBJ,GAAQ,MAE5CE,OAAOG,OAAOR,GAAUxG,SAAQ,SAASiF,GAAK2B,GAAS3B,KACvDsB,EAASK,GACND,GAASN,EAAQY,SAChBrD,EAAS0C,GACTD,EAAQY,QAAS,IA7BH,IAAnBZ,EAAQY,SACXZ,EAAQY,QAAS,EAGjBJ,OAAOC,KAAKR,GAAOtG,SAAQ,SAASkH,GAChC,IAAIzD,EAAO4C,EAAQc,YAAYb,EAAMY,IACrCZ,EAAMY,GAAO,CAAEH,MAAO,EAAMK,KAAOd,EAAMY,GAAKG,MAAM,KAAK,IACzDf,EAAMY,GAAKzD,KAAO,OAASA,EAAK,GAAKA,EAAKV,OAAO,GAAGW,cACpD4C,EAAMY,GAAKI,KAAO7D,EAClB+C,EAASF,EAAMY,GAAKE,MAAQ,KAIhCf,EAAQkB,QAAQC,WAAa,SAASnD,EAAGoD,GACrCjB,EAASC,KAAOgB,EAChBf,KAmBJG,OAAOC,KAAKR,GAAOtG,SAAQ,SAASiD,GAChC,IAAIQ,EAAO6C,EAAMrD,GAAMQ,KACnB2D,EAAOd,EAAMrD,GAAMmE,KACvBrB,EAAQtC,GAAM2D,GAAM,SAASM,GACzB,IAAIJ,EAAOhB,EAAMrD,GAAMqE,KACX,UAATA,GAA6B,YAATA,IACnBd,EAASF,EAAMrD,IAAS,GAE5BqD,EAAMrD,GAAQyE,EACdhB,YAKZL,EAAQY,QAAU,EAClBZ,EAAQkB,QAAU,IAAI9B,EAAMkC,eAE5BtB,EAAQc,YAAc,SAASS,GAC3B,IAAmBC,EAAfpE,EAAO,OACX,GAAGmE,EAAIE,QAAQ,MAAQ,EAAG,CAEtBD,EAAMD,EAAIP,MAAM,KAAK,GAAGU,cACd,CAAC,QAAS,UAAW,QAAS,SAAU,QAC3CD,QAAQD,IAAQ,IAAKpE,EAAOoE,OAChC,CAEHA,EAAMD,EAAIP,MAAM,KAAKW,MAAMtE,cACjB,CAAC,MAAO,OAAQ,MAAO,OAE1BoE,QAAQD,IAAQ,IAAKpE,EAAO,SADzB,CAAC,MAAO,OAAQ,MAAO,MAAO,OAEjCqE,QAAQD,IAAQ,IAAKpE,EAAO,WAEvC,OAAOA,GC3EX,SAASwE,EAAUC,EAAIC,EAAIC,GACvB,IAAI/D,EAAIgE,KAAKC,IACTD,KAAKC,IAAIH,EAAGlD,EAAIiD,EAAGjD,EAAG,GACtBoD,KAAKC,IAAIH,EAAGhD,EAAI+C,EAAG/C,EAAG,GACtBkD,KAAKC,IAAIH,EAAGI,EAAIL,EAAGK,EAAG,GAC1B,IACeC,GAAfJ,EAAI/D,EAAI+D,GAAe/D,EACvB,MAAO,CACHY,EAAIiD,EAAGjD,EAAIuD,GAAKL,EAAGlD,EAAIiD,EAAGjD,GAC1BE,EAAI+C,EAAG/C,EAAIqD,GAAKL,EAAGhD,EAAI+C,EAAG/C,GAC1BoD,EAAIL,EAAGK,EAAIC,GAAKL,EAAGI,EAAIL,EAAGK,IAIlC,IAAIE,EAAgB,WAChB,IAOIC,EAAQC,EACRC,EAAKC,EAAKC,EAAKC,EAAKX,EAAGnI,EAAG+I,EAR1B1J,EAAOoD,EAAMjD,WACbgE,EAAWnE,EAAK4D,IAAI,GAAG6E,cACvBkB,EAAW3J,EAAK+D,IAAI,GACpB6F,EAAW5J,EAAK+D,IAAI,GACpB8F,EAAW7J,EAAK+D,IAAI,GACpBO,EAAWtE,EAAKuE,IAAI,IAAM,aAC1BuF,EAAW9J,EAAK4D,IAAI,IAAM,SAI1BmG,EAAIJ,EAASK,OACbC,EAAIN,EAAStF,OAAOvF,SAyBxB,GAvBA6K,EAASO,SAAU,EAEP,UAAT/F,IACCkF,EAASrJ,EAAKmK,IAAI,GAAK,IACvBrB,EAAI,CAAEnD,EAAIoE,EAAEpE,EAAIsE,EAAEtE,EAAGE,EAAIkE,EAAElE,EAAIoE,EAAEpE,EAAGoD,EAAIc,EAAEd,EAAIgB,EAAEhB,GAChDK,EAAM,CAAE3D,EAAIoE,EAAEpE,EAAGE,EAAIkE,EAAElE,EAAGoD,EAAIc,EAAEd,GAChCM,EAAM,CAAEO,KAAOA,EAAMM,SAAWf,GAChC9B,OAAOC,KAAKoC,GAAOlJ,SAAQ,SAASD,GAAK8I,EAAI9I,GAAKmJ,EAAMnJ,MAExDuC,EAAKqH,SAAS,CACVC,WAAa,WACTX,EAASO,SAAU,EACnBP,EAASY,SACTjG,KAEJkG,SAAW,WACPb,EAAStF,OAAOvF,SAAS2L,IAAInB,EAAI3D,EAAG2D,EAAIzD,EAAGyD,EAAIL,GAC/CU,EAASK,OAAOS,IAAInB,EAAI3D,EAAImD,EAAEnD,EAAG2D,EAAIzD,EAAIiD,EAAEjD,EAAGyD,EAAIL,EAAIH,EAAEG,GACxDU,EAASY,YAEdG,OAAOpB,EAAKA,EAAKC,IAGZ,UAATpF,EAAkB,CACjBiF,EAASpJ,EAAKmK,IAAI,GAClBd,EAASrJ,EAAKmK,IAAI,GAAK,IACvBb,EAAM,CAAE3D,EAAIoE,EAAEpE,EAAGE,EAAIkE,EAAElE,EAAGoD,EAAIc,EAAEd,GAChCO,EAAM,CAAE7D,EAAIsE,EAAEtE,EAAGE,EAAIoE,EAAEpE,EAAGoD,EAAIgB,EAAEhB,GAChCM,EAAM,CAAEO,KAAOA,EAAMM,SAAWf,GAChC9B,OAAOC,KAAKoC,GAAOlJ,SAAQ,SAASD,GAAK8I,EAAI9I,GAAKmJ,EAAMnJ,MAExDgJ,EAAMd,EAAUa,EAAKD,EAAKH,GAC1B,IAAIuB,GAAgB,IAAIxE,EAAMyE,OAAQC,KAAKlB,EAAStF,OAAOyG,UAE3DnK,EAAI,CAAEoK,GAAKvB,EAAI7D,EAAGqF,GAAKxB,EAAI3D,EAAGoF,GAAKzB,EAAIP,EAAGiC,GAAK5B,EAAI3D,EAAGwF,GAAK7B,EAAIzD,EAAGuF,GAAK9B,EAAIL,IAC3ES,EAAI,CAAEqB,GAAKtB,EAAI9D,EAAGqF,GAAKvB,EAAI5D,EAAGoF,GAAKxB,EAAIR,EAAGiC,GAAK3B,EAAI5D,EAAGwF,GAAK5B,EAAI1D,EAAGuF,GAAK7B,EAAIN,IACzEa,KAAOA,EACTJ,EAAEU,SAAWf,EAEbrG,EAAKqH,SAAS,CACVC,WAAa,WACTX,EAASO,SAAU,EACnB5F,KAEJkG,SAAW,WACPb,EAASK,OAAOS,IAAI9J,EAAEuK,GAAIvK,EAAEwK,GAAIxK,EAAEyK,IAClCzB,EAAStF,OAAOvF,SAAS2L,IAAI9J,EAAEoK,GAAIpK,EAAEqK,GAAIrK,EAAEsK,IAC3CtB,EAASY,SACTZ,EAAStF,OAAOyG,SAASD,KAAKF,MAEnCD,OAAO/J,EAAGA,EAAG+I,GAIR,UAATvF,IACCkF,EAAOrJ,EAAKmK,IAAI,GAAK,IACrBb,EAAM,CAAE3D,EAAIoE,EAAEpE,EAAGE,EAAIkE,EAAElE,EAAGoD,EAAIc,EAAEd,GAChCO,EAAM,CAAE7D,EAAIsE,EAAEtE,EAAGE,EAAIoE,EAAEpE,EAAGoD,EAAIgB,EAAEhB,GAChCQ,EAAM,GACNF,EAAM,CAAEO,KAAOA,EAAMM,SAAWf,GAChC9B,OAAOC,KAAKoC,GAAOlJ,SAAQ,SAASD,GAAK8I,EAAI9I,GAAKmJ,EAAMnJ,MACxD8G,OAAOC,KAAKqC,GAAOnJ,SAAQ,SAASD,GAAKgJ,EAAIhJ,GAAKoJ,EAAMpJ,MACxDE,EAAI,CAAEoK,GAAKvB,EAAI7D,EAAGqF,GAAKxB,EAAI3D,EAAGoF,GAAKzB,EAAIP,EAAGiC,GAAK5B,EAAI3D,EAAGwF,GAAK7B,EAAIzD,EAAGuF,GAAK9B,EAAIL,IAC3ES,EAAI,CAAEqB,GAAKtB,EAAI9D,EAAGqF,GAAKvB,EAAI5D,EAAGoF,GAAKxB,EAAIR,EAAGiC,GAAK3B,EAAI5D,EAAGwF,GAAK5B,EAAI1D,EAAGuF,GAAK7B,EAAIN,IACzEa,KAAOA,EACTJ,EAAEU,SAAWf,EACbrG,EAAKqH,SAAS,CACVC,WAAa,WACTX,EAASO,SAAU,EACnB5F,KAEJkG,SAAW,WACPb,EAASK,OAAOS,IAAI9J,EAAEuK,GAAIvK,EAAEwK,GAAIxK,EAAEyK,IAClCzB,EAAStF,OAAOvF,SAAS2L,IAAI9J,EAAEoK,GAAIpK,EAAEqK,GAAIrK,EAAEsK,IAC3CtB,EAASY,YAEdG,OAAO/J,EAAGA,EAAG+I,KAKxBP,EAAckC,YAAc,WACxB,IAAIrL,EAAOoD,EAAMjD,WACbwJ,EAAW3J,EAAK+D,IAAI,GACxBxF,OAAOgH,iBAAiB,YAAY,WAChCzF,QAAQC,IAAI,CAAC,WACbD,QAAQC,IAAI,SAAU4J,EAASK,OAAOrE,GACtC7F,QAAQC,IAAI,SAAU4J,EAASK,OAAOnE,GACtC/F,QAAQC,IAAI,SAAU4J,EAASK,OAAOf,GACtCnJ,QAAQC,IAAI,CAAC,WACbD,QAAQC,IAAI,SAAU4J,EAAStF,OAAOvF,SAAS6G,GAC/C7F,QAAQC,IAAI,SAAU4J,EAAStF,OAAOvF,SAAS+G,GAC/C/F,QAAQC,IAAI,SAAU4J,EAAStF,OAAOvF,SAASmK,OAIvD,IAgLIqC,EAAiB,SAAjBA,IACA,IAGIC,EAAMlC,EAHNrJ,EAAOoD,EAAMjD,WACbqL,EAAOxL,EAAK+D,IAAI,GAChB0H,EAAOzL,EAAK0L,IAAI,GAGG,IAApB1L,EAAK+D,IAAI5C,QAAoC,IAApBnB,EAAKmK,IAAIhJ,QACjCoK,EAAOC,EAAKG,WAAW3L,EAAKmK,IAAI,IAChCd,EAAOrJ,EAAKmK,IAAI,IACU,IAApBnK,EAAKmK,IAAIhJ,QAAoC,IAApBnB,EAAK4D,IAAIzC,QACxCoK,EAAOpF,EAAMyF,cAAcC,WAAWL,EAAKG,WAAY3L,EAAK4D,IAAI,IAChEyF,EAAOrJ,EAAKmK,IAAI,IACU,IAApBnK,EAAK4D,IAAIzC,QAAoC,IAApBnB,EAAK+D,IAAI5C,QACxCoK,EAAOvL,EAAK+D,IAAI,GAChBsF,EAAOrJ,EAAKmK,IAAI,KAEhBoB,EAAOC,EAAKG,WAAW,GACvBtC,EAAOrJ,EAAKmK,IAAI,IAGpB,IAEI2B,EAAMC,EAFNtH,EAAO6G,EAAeK,WACtBjH,EAAO8G,EAAK9G,KAIhB,QADYpB,IAAT+F,IAAsBA,EAAO,QACpB/F,IAATmI,GAAsBhH,EAAKC,GAK1B,OAJAD,EAAKC,GAAMsH,MAAQP,GACP,IAATA,EAAkBhH,EAAKC,GAAMuH,MAAMR,OAC/BhH,EAAKC,GAAMuH,MAAMC,aACxBzH,EAAKC,GAAMyH,MAAQ9C,GAIpB5E,EAAKC,KACJoH,EAAOrH,EAAKC,IACPyH,MAAQ9C,EACb0C,EAAOD,EAAKM,MAAMC,WAAWd,IAQ7BQ,GANAD,EAAOrH,EAAKC,GAAQ,CAChB0H,MAAQ,IAAIjG,EAAMmG,eAAed,GACjCW,MAAQ9C,EACR2C,OAAQ,EACRC,MAAQ,IAAI/I,IAEJkJ,MAAMC,WAAWd,GAGjCO,EAAKG,MAAMC,QACXH,EAAKQ,QAITjB,EAAeK,WAAa,GAC5BL,EAAekB,QAAU,WACrBC,sBAAsBnB,EAAekB,SACrCjF,OAAOG,OAAO4D,EAAeK,YAAYjL,SAAQ,SAASqD,GACnDA,EAAIiI,OACHjI,EAAIqI,MAAM7B,OAAOxG,EAAIkI,MAAMS,WAAa3I,EAAIoI,WAGrDb,EAAekB,UCvTlB,IAAI/F,EAAU,CACVkG,cLzDgB,SAAShD,GACzB,IAAII,EAAIJ,EAASK,OACb4C,EAAIjD,EAAStF,OAAOvF,SACxBP,OAAOgH,iBAAiB,WAAW,SAAS7G,GACxC,GAAa,MAAVA,EAAEkJ,IAAa,CACd,IAAIjC,EAAI,GACRA,GAAK,MACLA,GAAK,oBAAqBoE,EAAEpE,EAAG,SAAUoE,EAAElE,EAAG,SAAUkE,EAAEd,EAAG,QAC7DtD,GAAK,oBAAqBiH,EAAEjH,EAAG,SAAUiH,EAAE/G,EAAG,SAAU+G,EAAE3D,EAAG,QAC7DtD,GAAK,IACL7F,QAAQC,IAAI4F,QKgDpBrH,aAAeA,EACfuO,eL5CiB,SAASxI,GAC1B,IAAI4F,EAAI5F,EAAOvF,SACXgO,EAAIzI,EAAOyG,SACX5B,EAAI7E,EAAO0I,MACfxO,OAAOgH,iBAAiB,WAAW,SAAS7G,GAExC,GAAa,MAAVA,EAAEkJ,IAAa,CACd,IAAIjC,EAAI,GACRA,GAAK,MACLA,GAAK,sBAAuBsE,EAAEtE,EAAG,SAAUsE,EAAEpE,EAAG,SAAUoE,EAAEhB,EAAG,QAC/DtD,GAAK,sBAAuBmH,EAAEnH,EAAG,SAAUmH,EAAEjH,EAAG,SAAUiH,EAAE7D,EAAG,QAC/DtD,GAAK,sBAAuBuD,EAAEvD,EAAG,SAAUuD,EAAErD,EAAG,SAAUqD,EAAED,EAAG,QAC/DtD,GAAK,IACL7F,QAAQC,IAAI4F,GAGhB,IAAIwG,EAAQ,KACTzN,EAAEsO,WAAYb,EAAQ,IAAMzN,EAAEuO,kBAC9BvO,EAAEwO,UAAYf,EAAQ,GAAKzN,EAAEuO,kBAEnB,MAAVvO,EAAEkJ,KACDvD,EAAO0I,MAAMtC,IACTpG,EAAO0I,MAAMpH,EAAIwG,EACjB9H,EAAO0I,MAAMlH,EAAIsG,EACjB9H,EAAO0I,MAAM9D,EAAIkD,GAIZ,MAAVzN,EAAEkJ,KACDvD,EAAO0I,MAAMtC,IACTpG,EAAO0I,MAAMpH,EAAIwG,EACjB9H,EAAO0I,MAAMlH,EAAIsG,EACjB9H,EAAO0I,MAAM9D,EAAIkD,GAIZ,MAAVzN,EAAEkJ,KACDvD,EAAOyG,SAASL,IACZpG,EAAOyG,SAASnF,EAChBtB,EAAOyG,SAASjF,EAAIkD,KAAKoE,GAAK,EAC9B9I,EAAOyG,SAAS7B,GAIX,MAAVvK,EAAEkJ,KACDvD,EAAOyG,SAASL,IACZpG,EAAOyG,SAASnF,EAChBtB,EAAOyG,SAASjF,EAAIkD,KAAKoE,GAAK,EAC9B9I,EAAOyG,SAAS7B,GAIX,MAAVvK,EAAEkJ,MAAevD,EAAOvF,SAASmK,GAAKkD,GAC5B,MAAVzN,EAAEkJ,MAAevD,EAAOvF,SAASmK,GAAKkD,GAC5B,MAAVzN,EAAEkJ,MAAevD,EAAOvF,SAAS6G,GAAKwG,GAC5B,MAAVzN,EAAEkJ,MAAevD,EAAOvF,SAAS6G,GAAKwG,OKV7CiB,aLee,SAAS/I,EAAQgJ,GAChC5G,EAAQC,WAAWrC,EAAQ,QAAQ,GAAM3D,SAAQ,SAAS8K,GACtD/E,EAAQvC,YAAY,QAASsH,GAAM,SAAS9M,QACxB4E,IAAb+J,EACCvN,QAAQC,IAAIrB,EAAE2F,OAAOgJ,GAAW3O,EAAE2F,OAAQ3F,GACrCoB,QAAQC,IAAIrB,EAAE2F,OAAQ3F,UKnBvC4O,YC7Dc,WACd,IAAItN,EAAOoD,EAAMjD,WACb4D,EAAM/D,EAAK+D,IAAI,GACfwE,EAAMvI,EAAK4D,IAAI,IAAM,OACrB2J,EAAMvN,EAAKuE,IAAI,IAAM,aAGzB,SAASiJ,EAAIC,GACTF,EAAIG,IAAIC,gBAAgBF,IAGjB,UALXlF,EAAMA,EAAIE,iBAMN,IAAI5F,EAAUE,cAAe6K,MAAM7J,GAAK8J,MAAK,SAASC,GAClDN,EAAI,IAAIO,KAAK,CAACD,GAAS,CAAE3J,KAAM,iCAI5B,SAARoE,IACC,IAAI1F,EAAUC,cAAe8K,MAAM7J,GAAK,SAAS+J,GAC7C,GAAGA,aAAkBE,YACjBR,EAAI,IAAIO,KAAK,CAACD,GAAS,CAAE3J,KAAM,kCAC5B,CACH,IAAM8J,EAASrN,KAAKC,UAAWiN,EAAQ,KAAM,GAC7CN,EAAI,IAAIO,KAAK,CAACE,GAAS,CAAE9J,KAAM,qBDuC3CmH,eAAiBA,EACjB4C,YHvDc,WACd,IAAIlO,EAAOoD,EAAMjD,WACbnB,EAASgB,EAAKmK,IAAI,IAAM5L,OAAOC,WAC/BS,EAASe,EAAKmK,IAAI,IAAM5L,OAAOE,YAC/BY,EAASW,EAAK4D,IAAI,GAClBuK,EAASnO,EAAK0L,IAAI,GAElB/E,EAAW,IAAIR,EAAMiI,MACrB5H,EAAW,IAAIL,EAAMkI,kBAAkB,GAAIrP,EAAQC,EAAQ,IAAM,KACjEgG,EAAW,IAAIkB,EAAMmI,cAAc,CAAEC,WAAY,EAAMC,OAAQ,IAC/D7E,EAAW,IAAIjH,EAASC,cAAc6D,EAAQvB,EAASC,YACvDuJ,EAAWhI,EAAQiI,YAAY,UAAW,QAiB9C,GAfA/H,EAAMgI,IAAIF,GACVxJ,EAAS2J,QAAQ5P,EAAOC,QACXqE,IAAVjE,IAAuBsH,EAAMvH,WAAa,IAAI+G,EAAM0I,MAAMxP,IAG7DsK,EAASmF,WAAkB,EAC3BnF,EAASoF,YAAkB,EAC3BpF,EAASqF,gBAAkB,GAC3BrF,EAASsF,eAAkB,EAC3BtF,EAASuF,cAAkB,GAC3BzI,EAAQ0I,cAAc,QAASxF,EAC3B,CAAEhE,EAAI,EAAGE,EAAI,EAAGoD,EAAI,GACpB,CAAEtD,EAAI,EAAGE,EAAI,EAAGoD,EAAI,KAGZ,IAATkF,EAAgB,CAAC,IACPiB,EAAT,SAASA,IACL3C,sBAAsB2C,GACtBzF,EAASY,SACTtF,EAASmK,OAAOzI,EAAOH,IACxB4I,IAGP,IAAItK,EAAU,CACV6B,MAAaA,EACbH,OAAaA,EACbvB,SAAaA,EACb0E,SAAaA,EACb8E,MAAYA,GAOhB,OAHAvK,EAAYW,OAAOC,GAGZA,GGQPuK,aHHe,WACf,IAWIC,EAXAtP,EAAOoD,EAAMjD,WACboP,EAAWvP,EAAK4D,IAChBqB,EAAWjF,EAAK+D,IAAI,GACpB4C,EAAW3G,EAAK+D,IAAI,GACpByC,EAAWxG,EAAK+D,IAAI,GACpByL,EAAWxP,EAAK+D,IAAI,IAAM,GAE1B0L,EAAIxK,EAASC,WAAWlG,MACxB0Q,EAAIzK,EAASC,WAAWjG,OAIxB0Q,EAAW,IAAIvO,EAAeC,eAAe4D,GAC7CmK,EAAW,IAAIhO,EAAeE,WAAWqF,EAAOH,GACpDmJ,EAASC,QAAQR,GAEjB,IAAI/L,EAAM,CAAEsM,SAAWA,EAAUE,WAAaT,GAwC9C,OAtCAG,EAAM7O,SAAQ,SAASiD,GAGnB,GAAY,aAFZA,EAAOA,EAAK8E,gBAGR6G,EAAO,IAAIlO,EAAeI,YAAY,IAAI2E,EAAMC,QAAQqJ,EAAGC,GAAI/I,EAAOH,IACjEsJ,aAAe,EACpBR,EAAKS,iBAAiBtF,IAAI,gBACvB,GAAY,UAAT9G,EACN2L,EAAO,IAAIlO,EAAeM,qBACvB,GAAY,WAATiC,EACN2L,EAAO,IAAIlO,EAAeO,gBACvB,GAAY,SAATgC,GACN2L,EAAO,IAAIlO,EAAeQ,SAAS+E,EAAOH,EAAQiJ,EAAGC,IAChDM,aAAe,GACpBV,EAAKW,YAAc,KACnBX,EAAKY,YAAc,QAChB,GAAY,QAATvM,EACN2L,EAAO,IAAIlO,EAAeS,QAAQuN,EAAQzI,EAAOH,EAAQiJ,EAAGC,OACzD,IAAY,UAAT/L,EAOD,OANL2L,EAAO,IAAIlO,EAAeY,UAAU2E,EAAOH,EAAQ,CAC/C2J,MAAO,EACPC,SAAU,KACVC,QAAS,IACTrR,MAAOyQ,EAAGxQ,OAAQyQ,IAI1BnI,OAAOC,KAAKgI,GAAS9O,SAAQ,SAAS4P,QACdhN,IAAjBkM,EAAQc,KACA,qBAARA,EACChB,EAAKgB,GAAK7F,IAAI+E,EAAQc,IAEtBhB,EAAKgB,GAAOd,EAAQc,OAI5BX,EAASC,QAAQN,MAEdjM,GGrDPa,YAAcA,EACdqM,aHsLe,WACf,IAAIvQ,EAAOoD,EAAMjD,WACb0G,EAAO7G,EAAK+D,IAAI,IAAM,GACtByM,EAAOxQ,EAAK+D,IAAI,GAEhB0M,EAAM,CACN,MACA,SACA,OACA,WACA,eACA,QACA,UACA,cACA,QACA,aACA,aACA,QACA,aACA,OACA,QACA,SACA,cACA,OACA,QACA,YACA,OACA,aAGAC,EAAM,CACN,YACA,aACA,YACA,YACA,eACA,cACA,aACA,aACA,YACA,eACA,eACA,WACA,SACA,YACA,SACA,SACA,UAGAC,EAAI,KAAMC,EAAI,KAId,GAHJrJ,OAAOC,KAAKX,GAAMnG,SAAQ,SAASkH,GAC5B6I,EAAIjI,QAAQZ,IAAQ,IAAK+I,EAAI/I,GAC7B8I,EAAIlI,QAAQZ,IAAQ,IAAKgJ,EAAIhJ,MACvB,OAAN+I,GAAoB,OAANC,EAAjB,CAEJ,IAIIC,EAJAC,EAAMvJ,OAAOG,OAAOb,EAAK8J,IAE7BA,GAAK,WAGa,IAAfG,EAAI3P,OACH0P,EAAM,IAAI1K,EAAMwK,GACK,IAAfG,EAAI3P,OACV0P,EAAM,IAAI1K,EAAMwK,GAAGG,EAAI,IACF,IAAfA,EAAI3P,OACV0P,EAAM,IAAI1K,EAAMwK,GAAGG,EAAI,GAAIA,EAAI,IACV,IAAfA,EAAI3P,OACV0P,EAAM,IAAI1K,EAAMwK,GAAGG,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAClB,IAAfA,EAAI3P,OACV0P,EAAM,IAAI1K,EAAMwK,GAAGG,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,IAC1B,IAAfA,EAAI3P,SACV0P,EAAM,IAAI1K,EAAMwK,GAAGG,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,GAAIA,EAAI,KAG3D,IAAIC,EAAM,IAAI5K,EAAMyK,EAAI,YAAY/J,EAAK+J,IAErCpF,EAAO,IAAIrF,EAAM6K,KAAKH,EAAKE,GAE/B,OADGP,IAAQhF,EAAO/E,EAAQwK,YAAYzF,EAAMgF,IACrChF,IGpQPkD,YHuQc,WACd,IAYID,EAZAzO,EAAOoD,EAAMjD,WACbgE,EAAQnE,EAAK4D,IAAI,IAAM,SACvBsN,EAAQlR,EAAK4D,IAAI,IAAM,OACvBuN,EAAQnR,EAAKmK,IAAI,IAAM,EACvBiH,EAAQpR,EAAKmK,IAAI,GACjBkH,EAAQrR,EAAK+D,IAAI,GACjBuN,EAAQtR,EAAK+D,IAAI,GACjBwN,EAAQvR,EAAK0L,IAAI,GAwBrB,OAtBAwF,EAAM,IAAI/K,EAAM0I,MAAMqC,GAAKM,SAIf,YAHZrN,EAAOA,EAAKsE,eAIRgG,EAAQ,IAAItI,EAAMsL,iBAAiBP,EAAKC,GACzB,YAAThN,EACNsK,EAAQ,IAAItI,EAAMuL,aAAaR,EAAKC,GACrB,UAAThN,EACNsK,EAAQ,IAAItI,EAAMwL,WAAWT,EAAKC,GACnB,eAAThN,EACNsK,EAAQ,IAAItI,EAAMyL,gBAAgBV,EAAKC,GACxB,SAAThN,IACNsK,EAAQ,IAAItI,EAAM0L,UAAUX,SAGrB5N,IAAR8N,IAAqB3C,EAAMqD,MAAQV,QAC3B9N,IAAR+N,GAAqB5C,EAAM3P,SAAS2L,IAAI4G,EAAI1L,EAAG0L,EAAIxL,EAAGwL,EAAIpI,QAClD3F,IAARgO,GAAqB7C,EAAM3D,SAASL,IAAI6G,EAAI3L,EAAG2L,EAAIzL,EAAGyL,EAAIrI,QAClD3F,IAARgO,GAAqB7C,EAAM3D,SAASL,IAAI6G,EAAI3L,EAAG2L,EAAIzL,EAAGyL,EAAIrI,QAClD3F,IAARiO,IAAqB9C,EAAMsD,QAAUR,GAEjC9C,GGtSPuD,gBH2SkB,WAClB,IAAIhS,EAAOoD,EAAMjD,WACb8R,EAAOjS,EAAK4D,IAAI,IAAM,GACtBsO,EAAOlS,EAAK4D,IAAI,IAAM,GACtBuO,EAAOnS,EAAKmK,IAAI,GAChBiI,EAAOpS,EAAKmK,IAAI,GAChBkI,EAAOrS,EAAKmK,IAAI,GAChBmI,EAAOtS,EAAKmK,IAAI,GAChBoI,EAAOvS,EAAKmK,IAAI,GAChBqI,EAAOxS,EAAKmK,IAAI,GAChBsI,EAAOzS,EAAKmK,IAAI,IAAM,EACtBuI,EAAO1S,EAAKmK,IAAI,IAAM,EACtBwI,EAAO3S,EAAKmK,IAAI,IAAM,EACtByI,EAAO5S,EAAK+D,IAShB,SAAS8O,EAAWlS,EAAG+I,GACnB,OAAQX,KAAK+J,UAAY/J,KAAKgK,IAAIpS,EAAG+I,GAAKX,KAAKiK,IAAIrS,EAAG+I,IAAOX,KAAKiK,IAAIrS,EAAG+I,GAG7E,SAASuJ,IACL,OAAOL,EAAK7J,KAAKmK,MAAMnK,KAAK+J,SAAWF,EAAKzR,SAZhDgR,EAAKpJ,KAAKiK,IAAIb,EAAIC,GAAKA,EAAKrJ,KAAKgK,IAAIZ,EAAIC,GACzCC,EAAKtJ,KAAKiK,IAAIX,EAAIC,GAAKA,EAAKvJ,KAAKgK,IAAIV,EAAIC,GACzCC,EAAKxJ,KAAKiK,IAAIT,EAAIC,GAAKA,EAAKzJ,KAAKgK,IAAIR,EAAIC,GAEzCP,EAAOA,EAAKxJ,cACZyJ,EAAOA,EAAKzJ,cAYZ,IAFA,IAAIpF,EAAM,GAEFsC,EAAIwM,EAAIxM,GAAKyM,EAAIzM,GAAK8M,EAC1B,IAAI,IAAI5M,EAAIwM,EAAIxM,GAAKyM,EAAIzM,GAAK6M,EAC1B,IAAI,IAAIzJ,EAAIsJ,EAAItJ,GAAKuJ,EAAIvJ,GAAK0J,EAAI,CAE9B,IAAIQ,EAAKxN,EAAGyN,EAAKvN,EAAGwN,EAAKpK,EACtBgJ,EAAKzJ,QAAQ,MAAQ,IAAK2K,EAAKN,EAAWV,EAAIC,IAC9CH,EAAKzJ,QAAQ,MAAQ,IAAK4K,EAAKP,EAAWR,EAAIC,IAC9CL,EAAKzJ,QAAQ,MAAQ,IAAK6K,EAAKR,EAAWN,EAAIC,IAEjD,IAAIc,EAAK,EAAGC,EAAK,EAAGC,EAAK,EACtBtB,EAAK1J,QAAQ,MAAQ,IAAK8K,EAAKvK,KAAK+J,UACpCZ,EAAK1J,QAAQ,MAAQ,IAAK+K,EAAKxK,KAAK+J,UACpCZ,EAAK1J,QAAQ,MAAQ,IAAKgL,EAAKzK,KAAK+J,UAEvC,IAAIW,EAAOR,IACPlP,EAAM0P,EAAKC,QACf3P,EAAI4P,SAAWF,EAAKE,SAASD,QAC7B3P,EAAIjF,SAAS2L,IAAI0I,EAAIC,EAAIC,GACzBtP,EAAI+G,SAASL,IAAI6I,EAAIC,EAAIC,GACzBnQ,EAAIK,KAAKK,GAKrB,OAAOV,GGlWPuQ,WErEJ,WACI,IAEI7P,EAAK8P,EAAOC,EAAOC,EAAKC,EAFxBhU,EAAOoD,EAAMjD,WACbqD,EAAMxD,EAAK4D,IAAI,GAAG6E,cAEtB,GAAW,YAARjF,EAAmB,CAIlB,IAAIyQ,EAFJJ,EAAQ7T,EAAK+D,IAAI,GAGbmQ,EAFJJ,EAAQ9T,EAAK+D,IAAI,GAOjB,OAHGkQ,EAAMnV,WAAYmV,EAAQJ,EAAM/U,UAChCoV,EAAMpV,WAAYoV,EAAQJ,EAAMhV,UAE5BiK,KAAKC,IACRD,KAAKC,IAAIiL,EAAMtO,EAAIuO,EAAMvO,EAAG,GAC5BoD,KAAKC,IAAIiL,EAAMpO,EAAIqO,EAAMrO,EAAG,GAC5BkD,KAAKC,IAAIiL,EAAMhL,EAAIiL,EAAMjL,EAAG,GAAI,IAEjC,GAAW,WAARzF,EAAkB,CAExBO,EAAM/D,EAAK+D,IAAI,GACfiQ,EAAMhU,EAAK+D,IAAI,GAKf,IAAIoQ,GAJJJ,EAAM/T,EAAK+D,IAAI,IAIKmB,WAAWlG,MAAQ,EACnCoV,EAAaL,EAAI7O,WAAWjG,OAAS,EAErCoS,EAAMtN,EAAIjF,SAAS4U,QAKvB,OAJArC,EAAIgD,QAAQL,GACZ3C,EAAI1L,GAAO0L,EAAI1L,EAAIwO,EAAcA,EACjC9C,EAAIxL,GAAOwL,EAAIxL,EAAIuO,EAAcA,EAE1B/C,EACJ,GAAW,UAAR7N,EAAiB,CACvB,IAAIuQ,EAAM/T,EAAK+D,IAAI,GACfiQ,EAAMhU,EAAK+D,IAAI,GACfA,EAAM/D,EAAK+D,IAAI,GACf4B,EAAI3F,EAAKmK,IAAI,GACbtE,EAAI7F,EAAKmK,IAAI,GAGb1E,EAAKsO,EAAI7O,WAAWQ,wBAEpBQ,EAAK,IAAIC,EAAMC,QACnBF,EAAGP,GAAMA,EAAIF,EAAGzG,MAAS,EAAI,EAC7BkH,EAAGL,GAAMA,EAAIJ,EAAGxG,OAAU,EAAI,EAG9B,IAAIoH,EAAS,IAAIF,EAAMG,UAKvB,OAJAD,EAAOE,cAAcL,EAAI8N,IAEC,IAAvB/T,MAAMuE,QAAQT,KAAkBA,EAAM,CAACA,IAEnCsC,EAAOO,iBAAiB7C,KFcnCuQ,QGlEU,WACV,IAAItU,EAAOoD,EAAMjD,WACboU,EAAQvU,EAAK+D,IAAI,GACjBV,EAAM,GACV,SAASmR,EAAQzQ,GAEb,GADAV,EAAIK,KAAKK,QACWT,IAAjBS,EAAI0Q,SACH,IAAI,IAAIvT,EAAI,EAAGA,EAAI6C,EAAI0Q,SAAStT,OAAQD,IACpCsT,EAAQzQ,EAAI0Q,SAASvT,IAIjC,OADGsT,EAAQD,GACJlR,GHuDPqR,SGpDW,WACX,IAAI1U,EAAOoD,EAAMjD,WACboU,EAAQvU,EAAK+D,IAAI,GACjBJ,EAAQ3D,EAAK4D,IAAI,GACjB+Q,EAAQ3U,EAAK0L,IAAI,GAEjBrI,EAAM,GACV,SAASmR,EAAQzQ,GAIb,GAHGA,EAAIW,OAASf,GACZN,EAAIK,KAAKK,QAEOT,IAAjBS,EAAI0Q,SACH,IAAI,IAAIvT,EAAI,EAAGA,EAAI6C,EAAI0Q,SAAStT,OAAQD,IACpCsT,EAAQzQ,EAAI0Q,SAASvT,IAKjC,OAFGsT,EAAQD,GAERI,EAAetR,EACJA,EAAI,IHkClBwI,WG/Ba,WACb,IAAI7L,EAAOoD,EAAMjD,WACboU,EAAQvU,EAAK+D,IAAI,GACjBJ,EAAQ3D,EAAK4D,IAAI,GACjB+Q,EAAQ3U,EAAK0L,IAAI,GAEjBrI,EAAM,GACV,SAASmR,EAAQzQ,GAIb,GAHGA,EAAIJ,OAASA,GACZN,EAAIK,KAAKK,QAEOT,IAAjBS,EAAI0Q,SACH,IAAI,IAAIvT,EAAI,EAAGA,EAAI6C,EAAI0Q,SAAStT,OAAQD,IACpCsT,EAAQzQ,EAAI0Q,SAASvT,IAKjC,OAFGsT,EAAQD,GAERI,EAAetR,EACJA,EAAI,IHalBqD,WGca,WACb,IAAI1G,EAAOoD,EAAMjD,WACboU,EAAQvU,EAAK+D,IAAI,GACjBI,EAAQnE,EAAK4D,IAAI,GACjB+Q,EAAQ3U,EAAK0L,IAAI,GAEjBrI,EAAM,GACV,SAASmR,EAAQzQ,GAIb,GAHGA,EAAII,OAASA,GACZd,EAAIK,KAAKK,QAEOT,IAAjBS,EAAI0Q,SACH,IAAI,IAAIvT,EAAI,EAAGA,EAAI6C,EAAI0Q,SAAStT,OAAQD,IACpCsT,EAAQzQ,EAAI0Q,SAASvT,IAKjC,OAFGsT,EAAQD,GAERI,EAAetR,EACJA,EAAI,IHhClBuR,eGmCiB,WACjB,IAAI5U,EAAOoD,EAAMjD,WACboU,EAAQvU,EAAK+D,IAAI,GACjB8C,EAAQ7G,EAAK+D,IAAI,GACjB4Q,EAAQ3U,EAAK0L,IAAI,GAEjBrI,EAAM,GACV,SAASmR,EAAQzQ,GAIb,GAHAwD,OAAOC,KAAKX,GAAMnG,SAAQ,SAASkH,GAC5B7D,EAAI6D,KAASf,EAAKe,IAAQvE,EAAIK,KAAKK,WAEtBT,IAAjBS,EAAI0Q,SACH,IAAI,IAAIvT,EAAI,EAAGA,EAAI6C,EAAI0Q,SAAStT,OAAQD,IACpCsT,EAAQzQ,EAAI0Q,SAASvT,IAKjC,OAFGsT,EAAQD,GAERI,EAAetR,EACJA,EAAI,IHrDlBwR,mBGZqB,WACrB,IAAI7U,EAAOoD,EAAMjD,WACboU,EAAQvU,EAAK+D,IAAI,GACjBJ,EAAQ3D,EAAK4D,IAAI,GACjB+Q,EAAQ3U,EAAK0L,IAAI,GAEjBrI,EAAM,GACV,SAASmR,EAAQzQ,GAMb,QALoBT,IAAjBS,EAAI4P,UACA5P,EAAI4P,SAAShQ,OAASA,GACrBN,EAAIK,KAAKK,QAGGT,IAAjBS,EAAI0Q,SACH,IAAI,IAAIvT,EAAI,EAAGA,EAAI6C,EAAI0Q,SAAStT,OAAQD,IACpCsT,EAAQzQ,EAAI0Q,SAASvT,IAKjC,OAFGsT,EAAQD,GAERI,EAAetR,EACJA,EAAI,IHRlByR,uBGuDyB,WACzB,IAAI9U,EAAOoD,EAAMjD,WACboU,EAAQvU,EAAK+D,IAAI,GACjB8C,EAAQ7G,EAAK+D,IAAI,GACjB4Q,EAAQ3U,EAAK0L,IAAI,GAEjBrI,EAAM,GACV,SAASmR,EAAQzQ,GAMb,QALoBT,IAAjBS,EAAI4P,UACHpM,OAAOC,KAAKX,GAAMnG,SAAQ,SAASkH,GAC5B7D,EAAI4P,SAAS/L,KAASf,EAAKe,IAAQvE,EAAIK,KAAKK,WAGnCT,IAAjBS,EAAI0Q,SACH,IAAI,IAAIvT,EAAI,EAAGA,EAAI6C,EAAI0Q,SAAStT,OAAQD,IACpCsT,EAAQzQ,EAAI0Q,SAASvT,IAKjC,OAFGsT,EAAQD,GAERI,EAAetR,EACJA,EAAI,IH3ElB0D,QAAUA,EACVgO,SFmGW,WACX,IAAI/U,EAAOoD,EAAMjD,WACbmI,EAAMtI,EAAK4D,IAAI,GACfG,EAAM/D,EAAK+D,IAAI,IAAM,CAAEpD,EAAI,GAC3B4D,EAAMvE,EAAKuE,IAAI,IAAM,cAEH,IAAtB+D,EAAIE,QAAQ,KAAeF,GAAO,gBAAkB0M,KAAKC,MACrD3M,GAAO,gBAAkB0M,KAAKC,MAErC,IAAIC,EAAM,IAAIC,SACd5N,OAAOC,KAAKzD,GAAKrD,SAAQ,SAASkH,GACjC,IAAIwN,EAAMrR,EAAI6D,GACI,kBAARwN,IAAoBA,EAAMxU,KAAKC,UAAUuU,IACnDF,EAAIG,OAAOzN,EAAKwN,MAGjB,IAAIE,EAAM,IAAIC,eACdD,EAAIE,KAAK,MAAOlN,GAAK,GAClBgN,EAAIG,mBAAqB,WACE,IAApBC,KAAKC,YAAoC,MAAhBD,KAAKE,QACnB,MAAPrR,GAAcA,EAAImR,KAAKG,eAIrCP,EAAIQ,KAAKZ,IE1HNa,UFMY,WACZ,IAAI/V,EAAOoD,EAAMjD,WACb6V,EAAWhW,EAAK4D,IAAI,GACpBU,EAAWtE,EAAKuE,IAAI,IAAM,aAE1B0R,EAAQ,IAAIC,MAChBD,EAAME,YAAc,YACpBF,EAAMG,OAAS,WAAa9R,EAAS2R,IACrCA,EAAMI,IAAML,GEbZM,WFgBa,WACb,IAAItW,EAAOoD,EAAMjD,WACb6V,EAAWhW,EAAK4D,IAAI,GACpBU,EAAWtE,EAAKuE,IAAI,IAAM,aAE1BgS,GAAS,IAAIpQ,EAAMqQ,mBAAoBC,KAAKT,GAAM,SAASO,GAC3DjS,EAASiS,MAEb,OAAOA,GEvBPG,UF0BY,WACZ,IAMIC,EANA3W,EAAOoD,EAAMjD,WACb6V,EAAWhW,EAAK4D,IAAI,GACpBU,EAAWtE,EAAKuE,IAAI,IAAM,aAE1BgE,EAAMyN,EAAKjO,MAAM,KAAKW,MAAMtE,cAGhC,GAAW,QAARmE,EAAe,CAEd,IAAIqO,EAAUZ,EAAKvS,OAAO,EAAGuS,EAAKa,YAAY,SAAW,OAErDC,EAAU,IAAI7U,EAAQO,UAAUuE,EAAQkB,SAiB5C,OAhBA0O,EAAc,IAAI1U,EAAQM,UAAUwE,EAAQkB,cAE5C6O,EAAQL,KAAKG,GAAS,SAASG,GAC3BA,EAAUC,UACVL,EAAOM,aAAaF,GACpBJ,EAAOF,KAAKT,GAAM,SAASzB,GACvBA,EAAM2C,UAAS,SAASC,GACjBA,EAAMC,SACLD,EAAMxD,SAAS0D,QAAU,EACzBF,EAAMxD,SAAS2D,SAAcH,EAAMxD,SAAStU,MAC5C8X,EAAMxD,SAAS4D,YAAcJ,EAAMxD,SAAS6D,QAGpDlT,EAASiQ,SAKH,QAARhM,GAAyB,SAARA,EACvBoO,EAAU,IAAI1U,EAAQI,WAAW0E,EAAQkB,SAC3B,QAARM,EACNoO,EAAS,IAAI1U,EAAQK,UAAUyE,EAAQkB,SAClC3D,EAAS,MAElBqS,EAAOF,KAAKT,GAAM,SAASzB,GACpBA,EAAM5N,QAAS4N,EAAQA,EAAM5N,OAEhC4N,EAAM2C,UAAS,SAASC,GACjBA,EAAMC,SACLD,EAAMxD,SAAS2D,SAAcH,EAAMxD,SAAStU,MAC5C8X,EAAMxD,SAAS4D,YAAcJ,EAAMxD,SAAS6D,QAIpDlT,EAASiQ,OExEbkD,YF4Ec,WACd,IAAIzX,EAAOoD,EAAMjD,WACb6V,EAAWhW,EAAK4D,IAAI,GACpB5E,EAAWgB,EAAKmK,IAAI,IAAM,EAC1BlL,EAAWe,EAAKmK,IAAI,IAAM,EAC1B7F,EAAWtE,EAAKuE,IAAI,IAAM,aAE9B,OAAO,IAAI4B,EAAMuR,cAAc3Q,EAAQkB,SAASwO,KAAKT,GAAM,SAAS2B,GAEnD,IAAV3Y,GAA0B,IAAXC,IACd0Y,EAAIC,MAAQzR,EAAM0R,eAClBF,EAAIG,MAAQ3R,EAAM0R,eAClBF,EAAII,OAAOtN,IAAIzL,EAAOC,IAG1BqF,EAASqT,OE1FbxI,cIbgB,WAChB,IAGInF,EAAQlL,EAAU0Q,EAHlBxP,EAAOoD,EAAMjD,WACbgE,EAAWnE,EAAK4D,IAAI,GAAG6E,cACvBkB,EAAW3J,EAAK+D,IAAI,GAGZ,UAATI,IACCqL,EAAWxP,EAAK+D,IAAI,IAAM,GAC1BjF,EAAWkB,EAAK+D,IAAI,IAAM,CAAE4B,EAAI,EAAGE,EAAI,EAAGoD,EAAI,GAE9CU,EAASK,OAAOS,IACZ3L,EAAS6G,EACT7G,EAAS+G,EACT/G,EAASmK,GAEbU,EAAStF,OAAOvF,SAAS2L,IACrB3L,EAAS6G,EACT7G,EAAS+G,EACT/G,EAASmK,EAAI,KAEjBU,EAASqO,YAAc,EACvBrO,EAASsO,aAAe,IAGhB,UAAT9T,IACC6F,EAAWhK,EAAK+D,IAAI,IAAM,CAAE4B,EAAI,EAAGE,EAAI,EAAGoD,EAAI,GAC9CnK,EAAWkB,EAAK+D,IAAI,IAAM,CAAE4B,EAAI,EAAGE,EAAI,EAAGoD,EAAI,GAC9CuG,EAAWxP,EAAK+D,IAAI,IAAM,GAE1B4F,EAASK,OAAOS,IACZT,EAAOrE,EACPqE,EAAOnE,EACPmE,EAAOf,GAEXU,EAAStF,OAAOvF,SAAS2L,IACrB3L,EAAS6G,EACT7G,EAAS+G,EACT/G,EAASmK,GAEbU,EAASqO,YAAc,EACvBrO,EAASsO,YAAc,GAGf,UAAT9T,IACC6F,EAAWhK,EAAK+D,IAAI,IAAM,CAAE4B,EAAI,EAAGE,EAAI,EAAGoD,EAAI,GAC9CnK,EAAWkB,EAAK+D,IAAI,IAAM,CAAE4B,EAAI,EAAGE,EAAI,EAAGoD,EAAI,GAC9CuG,EAAWxP,EAAK+D,IAAI,IAAM,GAE1B4F,EAASK,OAAOS,IACZT,EAAOrE,EACPqE,EAAOnE,EACPmE,EAAOf,GAEXU,EAAStF,OAAOvF,SAAS2L,IACrB3L,EAAS6G,EACT7G,EAAS+G,EACT/G,EAASmK,GAEbU,EAASqO,YAAc,EACvBrO,EAASsO,aAAe,IAI5B1Q,OAAOC,KAAKgI,GAAS9O,SAAQ,SAAS4P,GAClC3G,EAAS2G,GAAOd,EAAQc,MAG5B3G,EAASY,UJrDT0G,YIjFc,WACd,IAAIjR,EAAOoD,EAAMjD,WACbyS,EAAO5S,EAAK+D,IAAI,GAChB8C,EAAO7G,EAAK+D,IAAI,IACO,IAAxB9D,MAAMuE,QAAQoO,KAAmBA,EAAO,CAACA,IAE5C,IAAIsF,EAAM,CAAC,WAAY,WAAY,SAcnC,OAZAtF,EAAKlS,SAAQ,SAASqD,GAClBwD,OAAOC,KAAKX,GAAMnG,SAAQ,SAASkH,GAC5BsQ,EAAI1P,QAAQZ,IAAQ,QACAtE,IAAhBuD,EAAKe,GAAKjC,IAAmB5B,EAAI6D,GAAKjC,EAAIkB,EAAKe,GAAKjC,QACpCrC,IAAhBuD,EAAKe,GAAK/B,IAAmB9B,EAAI6D,GAAK/B,EAAIgB,EAAKe,GAAK/B,QACpCvC,IAAhBuD,EAAKe,GAAKqB,IAAmBlF,EAAI6D,GAAKqB,EAAIpC,EAAKe,GAAKqB,IAEvDlF,EAAI6D,GAAOf,EAAKe,SAKT,IAAhBgL,EAAKzR,OAAuByR,EAAK,GACtBA,GJ6DduF,WI5Ba,WACb,IAAInY,EAAOoD,EAAMjD,WACb8E,EAAWjF,EAAK+D,IAAI,GACpByC,EAAWxG,EAAK+D,IAAI,GACpB4L,EAAW3P,EAAK+D,IAAIqU,OAAO,GAC3BpZ,EAAWgB,EAAKmK,IAAI,IAAM5L,OAAOC,WACjCS,EAAWe,EAAKmK,IAAI,IAAM5L,OAAOE,YACrCwG,EAAS2J,QAAQ5P,EAAOC,GACxB0Q,EAASjP,SAAQ,SAASkM,GAAKA,EAAEgC,QAAQ5P,EAAOC,MAChDuH,EAAO6R,OAASrZ,EAAQC,EACxBuH,EAAO8R,0BJmBPC,cI3DgB,WAChB,IAAIvY,EAAOoD,EAAMjD,WACbqY,EAAOxY,EAAK+D,IAAI,GAChB8C,EAAO7G,EAAK+D,IAAI,GAChB0U,EAAO,CACP,WAAY,QAAS,UAAW,kBAAmB,cACnD,SAAU,WAAY,MAAO,YAAa,gBAE1CC,EAAO,CACP,QAAS,WAAY,YAiBzB,OAf2B,IAAxBzY,MAAMuE,QAAQgU,KAAmBA,EAAO,CAACA,IAC5CA,EAAK9X,SAAQ,SAASqQ,GAClBxJ,OAAOC,KAAKX,GAAMnG,SAAQ,SAASkH,GAC5B8Q,EAAKlQ,QAAQZ,IAAQ,EAEpBmJ,EAAInJ,GAAO,IAAIzB,EAAM0I,MAAMhI,EAAKe,IAC1B6Q,EAAKjQ,QAAQZ,IAAQ,GAA0B,kBAAdf,EAAKe,GAE5CmJ,EAAInJ,GAAOnB,EAAQgR,YAAY5Q,EAAKe,IAEpCmJ,EAAInJ,GAAOf,EAAKe,SAKT,IAAhB4Q,EAAKrX,OAAuBqX,EAAK,GACtBA,GJiCdrP,cAAgBA,EAChBwP,cDiFgB,WAChB,IAOIhY,EAAG+I,EAPH1J,EAAOoD,EAAMjD,WACbgE,EAAOnE,EAAK4D,IAAI,IAAM,QACtB4H,EAAOxL,EAAK+D,IAAI,GAChB8C,EAAO7G,EAAK+D,IAAI,GAChBsF,EAAOrJ,EAAKmK,IAAI,IAAM,IACtBL,EAAO9J,EAAK4D,IAAI,IAAM,SACtBgV,EAAO5Y,EAAKuE,IAAI,IAAM,aAG1B,GAAY,UAATJ,EAAkB,KA2BR0U,EAAT,SAAiB9U,GACb+U,EAAKpY,SAAQ,SAAS8W,GACfzT,EAAI4P,SAAS6D,IACZuB,EAASpF,SAAS6D,GAAKqB,aAG/B9U,EAAI4P,SAASkF,UACb9U,EAAIiV,SAASH,WAhCbE,EAAWvN,EAAKkI,OAAM,GAC1BlI,EAAKmD,IAAIoK,GAETA,EAASpF,SAAWnI,EAAKmI,SAASD,QAElC,IAAIoF,EAAO,CACP,WAAY,QAAS,UAAW,kBAAmB,cACnD,SAAU,WAAY,MAAO,YAAa,gBAG9CA,EAAKpY,SAAQ,SAAS8W,GACfhM,EAAKmI,SAAS6D,KACbuB,EAASpF,SAAS6D,GAAOhM,EAAKmI,SAAS6D,GAAK9D,QAC5CqF,EAASpF,SAAS6D,GAAKyB,aAAc,MAI7C1R,OAAOC,KAAKX,GAAMnG,SAAQ,SAASkH,GAC5BkR,EAAKtQ,QAAQZ,IAAQ,EACpBmR,EAASpF,SAAS/L,GAAKqO,MAAQpP,EAAKe,GAEpCmR,EAASpF,SAAS/L,GAAOf,EAAKe,MActCmR,EAASpF,SAASuF,aAAc,EAChCH,EAASpF,SAAS0D,QAAU,EAC5B0B,EAASpF,SAASsF,aAAc,EAEhCtY,EAAI,CAAE0W,QAAU,GAChB3N,EAAI,CAAE2N,QAAU,EAAGjN,SAAWf,EAAO,IAAMS,KAAOA,GAClD9G,EAAKqH,SAAS,CACVC,WAAa,WAETkB,EAAKmI,SAAWoF,EAASpF,SACzBnI,EAAK2N,OAAOJ,GACZF,EAAQE,GACRH,KAEJpO,SAAW,WACPuO,EAASpF,SAAS0D,QAAU1W,EAAE0W,WAEnC3M,OAAO/J,EAAGA,EAAG+I,GAIR,UAATvF,IACCxD,EAAI,GACJ+I,EAAI,CAAEU,SAAWf,EAAO,IAAMS,KAAOA,GACrCvC,OAAOC,KAAKX,GAAMnG,SAAQ,SAASkH,GAC/B,GAAiC,kBAAvB4D,EAAKmI,SAAS/L,GAAmB,CACvC,IAAI7D,EAAMyH,EAAKmI,SAAS/L,GACxBL,OAAOC,KAAKzD,GAAKrD,SAAQ,SAAS0Y,GAC9BzY,EAAEiH,EAAM,IAAMwR,GAAO5N,EAAKmI,SAAS/L,GAAKwR,GACxC1P,EAAE9B,EAAM,IAAMwR,GAAOvS,EAAKe,GAAKwR,WAGnCzY,EAAEiH,GAAO4D,EAAKmI,SAAS/L,GACvB8B,EAAE9B,GAAOf,EAAKe,MAItB5E,EAAKqH,SAAS,CACVC,WAAa,WACTsO,KAEJpO,SAAW,WACPjD,OAAOC,KAAK7G,GAAGD,SAAQ,SAASkH,GAC5B,GAAGA,EAAIY,QAAQ,MAAQ,EAAG,CACtB,IAAIuB,EAAInC,EAAIG,MAAM,KAClByD,EAAKmI,SAAS5J,EAAE,IAAIA,EAAE,IAAMpJ,EAAEiH,QAE9B4D,EAAKmI,SAAS/L,GAAOjH,EAAEiH,SAIpC8C,OAAO/J,EAAGA,EAAG+I,KClLpB2P,YD0Cc,WACd,IAAIrZ,EAAOoD,EAAMjD,WACb4D,EAAO/D,EAAK+D,IAAI,GAChBuV,EAAOtZ,EAAK+D,IAAI,GAChB+F,EAAO9J,EAAK4D,IAAI,IAAM,SACtByF,EAAOrJ,EAAKmK,IAAI,IAAM,IACtByO,EAAO5Y,EAAKuE,IAAI,IAAM,aAEtB5D,EAAI,GAAI+I,EAAI,CAAEI,KAAOA,EAAMM,SAAWf,EAAO,KAC7CrI,EAAM,CAAC,WAAY,WAAY,SACnCA,EAAIN,SAAQ,SAASyD,GAEjBxD,EAAEwD,EAAO,KAAOuF,EAAEvF,EAAO,KAAOJ,EAAII,GAAMwB,EAC1ChF,EAAEwD,EAAO,KAAOuF,EAAEvF,EAAO,KAAOJ,EAAII,GAAM0B,EAC1ClF,EAAEwD,EAAO,KAAOuF,EAAEvF,EAAO,KAAOJ,EAAII,GAAM8E,EAEvCqQ,EAAInV,UACgBb,IAAhBgW,EAAInV,GAAMwB,IAAmB+D,EAAEvF,EAAO,KAAOmV,EAAInV,GAAMwB,QACvCrC,IAAhBgW,EAAInV,GAAM0B,IAAmB6D,EAAEvF,EAAO,KAAOmV,EAAInV,GAAM0B,QACvCvC,IAAhBgW,EAAInV,GAAM8E,IAAmBS,EAAEvF,EAAO,KAAOmV,EAAInV,GAAM8E,OAIlEjG,EAAKqH,SAAS,CACVC,WAAa,WACTsO,KAEJpO,SAAW,WACPjD,OAAOC,KAAK7G,GAAGD,SAAQ,SAASkH,GAC5B,GAAW,UAARA,GAA2B,UAARA,EAAtB,CACA,IAAIzD,EAAOyD,EAAInE,OAAO,EAAGmE,EAAIzG,OAAS,GAClCoY,EAAO3R,EAAIA,EAAIzG,OAAS,GAAGqY,oBAC/BzV,EAAII,GAAMoV,GAAQ5Y,EAAEiH,UAG7B8C,OAAO/J,EAAGA,EAAG+I,IC5EhB+P,WDuLa,WACb,IAAIzZ,EAAOoD,EAAMjD,WACbuZ,EAAO1Z,EAAK+D,IAAI,GAChB8C,EAAO7G,EAAK+D,IAAI,GAChBsF,EAAOrJ,EAAKmK,IAAI,IAAM,IACtBL,EAAO9J,EAAK4D,IAAI,IAAM,SACtBgV,EAAO5Y,EAAKuE,IAAI,IAAM,cAEC,IAAxBtE,MAAMuE,QAAQkV,KAAmBA,EAAO,CAACA,IAE5CA,EAAKhZ,SAAQ,SAASiZ,EAAKzY,GACvB,IAAIP,EAAI,GAAI+I,EAAI,CAAEU,SAAWf,EAAO,IAAMS,KAAOA,GAEjDvC,OAAOC,KAAKX,GAAMnG,SAAQ,SAASkH,GAC/BjH,EAAEiH,GAAO8R,EAAK9R,GACd8B,EAAE9B,GAAOf,EAAKe,QACAtE,IAAX3C,EAAEiH,KAAuBjH,EAAEiH,GAAO,MAGzC5E,EAAKqH,SAAS,CACVC,WAAa,WACNpJ,IAAMwY,EAAKvY,OAAS,GAAKyX,KAEhCpO,SAAW,WACPjD,OAAOC,KAAK7G,GAAGD,SAAQ,SAASkH,GAC5B+R,EAAI/R,GAAOjH,EAAEiH,SAGtB8C,OAAO/J,EAAGA,EAAG+I,Q,0BM7SpBkQ,GAAerb,OAAOqb,aAEtBC,GAAiB,yCAAG,WAAOC,EAAWC,GAAlB,oBAAApZ,EAAA,6DAEhBqZ,EAAQC,UAAUC,GAClBC,EAAQF,UAAUC,GAAGE,mBAHL,SAIFH,UAAUC,GAAGE,mBAAmB,gBAJ9B,OAIhBC,EAJgB,OAKjBL,GAASG,GAASE,EACjBP,IACKC,IAPW,2CAAH,wDAWjBO,GAAc,yCAAG,WAAOC,EAASjW,GAAhB,gBAAA3D,EAAA,+EAGSsZ,UAAUC,GAAGI,eAAe,eAAgB,CAC9DE,iBAAmB,CAAC,WAAY,eAChCC,WAAa,CAAE3W,KAAOyW,KALb,OAGPG,EAHO,OAQbC,GAAgBJ,EAASG,EAASpW,GARrB,gDASJxE,QAAQS,MAAR,MATI,yDAAH,wDAadoa,GAAe,yCAAG,WAAOJ,EAASG,EAASpW,GAAzB,kBAAA3D,EAAA,6DACZia,EAASjc,SAASC,cAAc,UAChCic,EAAUD,EAAOE,WAAW,QAAS,CAAEC,cAAe,IAC5DL,EAAQM,kBAAkB,CACxBC,UAAY,IAAIrB,GAAac,EAASG,KAJtB,SAOZK,GACFX,EACAG,EACAE,EACAC,EACAvW,GAZc,2CAAH,0DAiBf4W,GAAc,yCAAG,WAAOX,EAASG,EAASE,EAAQC,EAASvW,GAA1C,oBAAA3D,EAAA,6DACXgG,EAAS,IAAIR,EAAMiI,OACnB5H,EAAS,IAAIL,EAAMkI,mBAClB8M,kBAAmB,EACpBlW,EAAW,IAAIkB,EAAMmI,cAAc,CACrCE,OAAU,EACV4M,uBAAwB,EACxBR,OAAUA,EACVC,QAAUA,IARG,SAYXQ,GACFd,EACAG,EACAE,EACAC,EACAlU,EACAH,EACAvB,EACAX,GApBa,2CAAH,8DAyBd+W,GAAe,yCAAG,WAAOd,EAASG,EAASE,EAAQC,EAASlU,EAAOH,EAAQvB,EAAUX,GAAnE,sBAAA3D,EAAA,6DACZ8N,EAAQ,IAAItI,EAAMuL,aAAa,SAAU,KACzC4J,EAAmB,IAAInV,EAAMsL,iBAAiB,SAAU,KAC7C3S,SAAS2L,IAAI,GAAI,GAAI,IAEtC6Q,EAAiBC,YAAa,GAExBC,EAAgB,IAAIrV,EAAMsV,cAAc,IAAM,MAEtCC,SAAS3S,KAAKoE,GAAK,IAG3BwO,EAAa,IAAIxV,EAAM6K,KAAKwK,EAAe,IAAIrV,EAAMyV,eAAe,CACxEvc,MAAO,QACPgY,QAAS,OAIA1T,KAAO,aAClBgY,EAAWE,eAAgB,EAC3BF,EAAW7c,SAAS+G,EAAI,IAExBc,EAAMgI,IAAIgN,GACVhV,EAAMgI,IAAIF,GACV9H,EAAMgI,IAAI2M,GAxBQ,UA0BZQ,GACFvB,EACAG,EACAE,EACAC,EACAlU,EACAH,EACAvB,EACAX,GAlCc,4CAAH,oEAuCfwX,GAAwB,yCAAG,WAAOvB,EAASG,EAASE,EAAQC,EAASlU,EAAOH,EAAQvB,EAAUX,GAAnE,oBAAA3D,EAAA,sEAEO+Z,EAAQqB,sBAAsB,SAFrC,cAErBC,EAFqB,gBAIDtB,EAAQqB,sBAAsB,UAJ7B,cAIrBE,EAJqB,gBAMCvB,EAAQwB,qBAAqB,CACrDC,MAAQF,IAPe,cAMrBG,EANqB,iBAUrB9X,EAAS,CACXiW,QAAUA,EACVG,QAAUA,EACVE,OAASA,EACTC,QAAUA,EACVlU,MAAQA,EACRH,OAASA,EACTvB,SAAWA,EACX+W,oBAAsBA,EACtBC,YAAcA,EACdG,cAAgBA,IApBO,4CAAH,oEAiExBC,GAAc,CACdxC,qBACAS,kBACAgC,WA5Ca,SAASvY,GAAuC,IAAlCwY,EAAiC,uDAAf,aAEzC7B,EAAU3W,EAAI2W,QACd/T,EAAQ5C,EAAI4C,MACZH,EAASzC,EAAIyC,OACbvB,EAAWlB,EAAIkB,SACf4V,EAAU9W,EAAI8W,QACdmB,EAAsBjY,EAAIiY,oBAC1BI,EAAgBrY,EAAIqY,cAGxB,SAAShN,EAAO/F,EAAMmT,GAClB9B,EAAQjO,sBAAsB2C,GAE9B,IAAMqN,EAAc/B,EAAQgC,YAAYzB,UAAUwB,YAClD5B,EAAQ8B,gBAAgB9B,EAAQ+B,YAAaH,GAE7C,IAAMI,EAAOL,EAAMM,cAAcd,GACjC,GAAGa,EAAM,CACL,IAAME,EAAOF,EAAKG,MAAM,GAClBC,EAAWvC,EAAQgC,YAAYzB,UAAUiC,YAAYH,GAC3D9X,EAAS2J,QAAQqO,EAASje,MAAOie,EAAShe,QAE1CuH,EAAO2W,OAAOC,UAAUL,EAAKM,UAAUF,QACvC3W,EAAO8W,iBAAiBF,UAAUL,EAAKO,kBACvC9W,EAAO+W,mBAAkB,GAEzB,IAAMC,EAAiBhB,EAAMiB,kBAAkBrB,GAC/C,GAAGoB,EAAerc,OAAS,EAAG,CAC9B,IAAMuc,EAAUF,EAAe,GAAGG,QAAQ3B,GAEtCO,EAAgBmB,GAGpBzY,EAASmK,OAAOzI,EAAOH,IAI/BkU,EAAQjO,sBAAsB2C,KCxK9BhM,I,OAAQ,SAASpC,GACpB,IAAIqC,EAAM,CAAE,IAAQ,GAAI,IAAQ,GAAI,IAAQ,GAAI,IAAQ,GAAI,IAAQ,IACpE,QAAWC,IAARtC,EAAqB,OAAOqC,EAC/B,IAAI,IAAInC,EAAI,EAAGA,EAAIF,EAAIG,OAAQD,IAAK,CACnC,IAAIqC,EAAMvC,EAAIE,GACVsC,UAAcD,GAAKE,OAAO,EAAG,QACjBH,IAAbD,EAAIG,KAAsBH,EAAIG,GAAO,IACxCH,EAAIG,GAAKE,KAAKH,GAEf,OAAOF,ICVJua,GAAa,CAEjBA,OAAuB,yEAGvBA,QAAqB,WAEjB,IAAI5d,EAAOoD,EAAMjD,WACbyH,EAAM5H,EAAK4D,IAAI,IAAMga,GAAWC,OAChCtQ,EAAMvN,EAAKuE,IAAI,IAAM,aAErBuZ,EAAMnf,SAASC,cAAc,UACjCkf,EAAI7Z,aAAa,MAAO,mCAAqC2D,GAC7DkW,EAAIvY,iBAAiB,QAAQ,WACf5G,SAASqF,cAAc,iBAC7BuB,iBAAiB,QAAQ,WACzBqY,GAAU,IAAUrf,OAAM,IAC1BgP,EAAIhP,OAAM,WAGlBI,SAASof,KAAKle,YAAYie,KCL1BE,GAAgB,CAChB,WAAavX,EACb,eAAiB4V,GACjB,eFqDc,CACd4B,WA/Ca,WAGb,IAAIje,EAAOoD,GAAMjD,WACb+d,EAASle,EAAK+D,IAAI,IAAM,GAExBoa,EAAKxf,SAASC,cAAc,gBAShC,OAPAuf,EAAGla,aAAa,MAAOia,EAAO7H,KAC9B8H,EAAGla,aAAa,UAAWia,EAAOE,KAElCD,EAAGla,aAAa,MAAM,GACtBka,EAAGla,aAAa,WAAY,SAC5Bka,EAAGla,aAAa,eAAgB,SAChCka,EAAGla,aAAa,mBAAmB,GAC5Bka,IErBP,cAAgBP,ICrBpB,IAAIS,GAAY,CAEhBA,YAA2B,CACvB,KAAU,UACV,MAAU,UACV,IAAU,WAGdA,MAAqB,IAGrBA,GAAS,MAAU,mBAAqB,CAEpCC,QAAU,2CAEVtH,QAAU,CACNkH,OAAS,4CACfK,OAAS,CACRxR,MAAW,CAAEpH,EAAI,EAAGE,EAAI,EAAGoD,EAAI,GAC/BnK,SAAW,CAAE6G,EAAI,EAAGE,EAAI,EAAGoD,EAAI,IAEhCuV,OAAS,CAAEC,OAAU,GAAKC,QAAU,KAGlCC,QAAU,CAEN,MAAU,CACNnT,KAAO,CAAC,WAAY,YACpBoT,KAAO,KACPna,KAAO,CACH,MAAU,CAAEpF,MAAQ,UAAWwf,WAAa,QAC5C,KAAU,CAAExf,MAAQ,WACpB,MAAU,CAAEA,MAAQ,WACpB,MAAU,CAAEA,MAAQ,aAI5B,MAAU,CACNmM,KAAO,CAAC,YACRoT,KAAO,KACPna,KAAO,CACH,aAAe,CACXqa,WAAa,iDACb7I,MAAQ,kDAEZ,YAAc,CACV6I,WAAa,iDACb7I,MAAQ,kDAEZ,YAAc,CACV6I,WAAa,iDACb7I,MAAQ,kDAEZ,WAAe,CACX6I,WAAa,iDACb7I,MAAQ,sDAU5BoI,GAAS,MAAU,yBAA2B,CAE1CC,QAAU,yCAEVtH,QAAU,CACNkH,OAAS,0CACfK,OAAS,CACRxR,MAAW,CAAEpH,EAAI,IAAKE,EAAI,IAAKoD,EAAI,KACnCnK,SAAW,CAAE6G,EAAI,EAAGE,GAAK,IAAKoD,EAAI,IAEnCuV,OAAS,CAAEC,OAAU,EAAGC,QAAU,IAGhCC,QAAU,CAEN,OAAW,CACPnT,KAAO,CAAC,gBACRoT,KAAO,KACPna,KAAO,CACH,MAAU,CACrBoa,WAAa,UACb5I,MAAQ,6CAEG,MAAU,CACrB4I,WAAa,UACb5I,MAAQ,6CACG,MAAU,CACrB4I,WAAa,UACb5I,MAAQ,+CAKL,MAAU,CACNzK,KAAO,CAAC,gBACRoT,KAAO,KACPna,KAAO,CACH,KAAS,CACpBoa,WAAa,UACb5I,MAAQ,4CAEG,OAAW,CACtB4I,WAAa,UACb5I,MAAQ,4CAEG,KAAS,CACpB4I,WAAa,UACb5I,MAAQ,4CAEG,MAAU,CACrB4I,WAAa,UACb5I,MAAQ,8CAKL,MAAU,CACNzK,KAAO,CAAC,gBACRoT,KAAO,KACPna,KAAO,CACH,MAAU,CACrBoa,WAAa,UACb5I,MAAQ,4CAEG,KAAS,CACpB4I,WAAa,UACb5I,MAAQ,gDA0Bb1O,OAAOG,OAAO2W,GAAUU,OAAOre,SAAQ,SAASqD,GAC/CwD,OAAOG,OAAO3D,EAAI4a,SAASje,SAAQ,SAASse,GAC3CA,EAAIJ,KAAOrX,OAAOC,KAAKwX,EAAIva,MAAM,SAIpB4Z,U,OC/Jf9f,OAAOgH,iBAAiB,eAAe,SAAS7G,GAE5C,OADAA,EAAEuO,kBACK,KAGX,IAAIgS,GAAKjB,GAAc,YAEnBkB,GAAS,GAGbA,GAAOhT,MAAQ,SAASiT,EAAWC,EAAW9a,GAG1C6a,EAAYA,EAAU1W,cAAchF,OAAO,EAAG,GAC9C2b,EAAYA,EAAU3W,cAAchF,OAAO,EAAG,GAQ9C7E,EAAc,cAAe,GAAI,SACjCA,EAPW,eAAiB,CACpB,OAAS,oBACT,OAAS,qBACXwgB,GAImB,GAAI,SAwBjC,SAAsB/f,GAAkC,IAA3BiF,EAA0B,uDAAf,aAEpCQ,GAAQ6B,MAAMvH,WAAa,IAAI+G,EAAM0I,MAAMxP,GAC3CyF,GAAQhB,KAAOnF,SAASqF,cAAc,gBACtCc,GAAQhB,KAAKjF,MAAMO,WAAaC,EAChCyF,GAAQG,SAASC,WAAWrG,MAAMO,WAAaC,EAE/CV,SAASqF,cAAc,gBAAgBnF,MAAMwgB,QAAU,QACvDva,GAAQhB,KAAKjF,MAAMwgB,QAAU,QAE7B,IAAIC,EAAO3gB,SAASC,cAAc,OAClC0gB,EAAKxe,UAAY,cACjBgE,GAAQhB,KAAKjE,YAAYyf,GAEZ,SAAVjgB,GACCyF,GAAQhB,KAAKG,aAAa,QAAS,iCAGvCgb,GAAGvI,UAAU,0BAA0B,SAAS6I,GAC5Cza,GAAQhB,KAAKjE,YAAYiF,GAAQG,SAASC,YAC1CJ,GAAQya,KAAOA,EACfza,GAAQya,KAAKzU,SAASjF,EAAI,IAC1Bf,GAAQ6B,MAAMgI,IAAI4Q,GAClBza,GAAQya,KAAKxS,MAAMtC,IAAI,GAAK,GAAK,IACjC3F,GAAQ0a,WAAY,EACP,SAAVngB,IACCkgB,EAAK9K,SAAS,GAAGd,SAAS,GAAGtU,MAAQ,IAAI8G,EAAM0I,MAAM,YAEzDvK,OAlDJmb,CAAaN,EAAW7a,IAG5B,IAAIQ,GAAUma,GAAG/Q,YAAY,IAAK,KAAK,GAEvCpJ,GAAQ0a,WAAY,EACpB1a,GAAQ6E,SAASO,SAAU,EAE3B,SAASkF,IAEL,GADA3C,sBAAsB2C,GACnBtK,GAAQ0a,WAAa1a,GAAQya,KAAM,CAClCza,GAAQG,SAASmK,OAAOtK,GAAQ6B,MAAO7B,GAAQ0B,QAC/C,IACIX,EADIf,GAAQya,KAAKzU,SACXjF,GAAe,EAAVkD,KAAKoE,IAChBhB,EAAQ,IACTtG,EAAI,IAAOA,EAAI,MAAOsG,EAAQ,KACjCrH,GAAQya,KAAKzU,SAASjF,GAAKsG,GAEhCiD,GAEHtK,GAAQ6B,MAAMgI,IAAI,IAAIxI,EAAMuL,aAAa,SAAU,KAkCnDwN,GAAOQ,cAAgB,SAASC,GAEjBhhB,SAASqF,cAAc,6BAE7B5D,UAAY,cAAgBuf,EAAQ,IAEtCA,GAAS,KAAOT,GAAOU,cAG9BV,GAAOU,WAAa,WAAoC,IAA3Btb,EAA0B,uDAAf,aAChCR,EAAOnF,SAASqF,cAAc,gBAClC6b,YAAW,WACP/b,EAAKjF,MAAMwY,QAAU,EACrBwI,YAAW,WACP/b,EAAKjF,MAAMwgB,QAAU,OAAQ/a,MAC9B,OACJ,MAGQ4a,U,SC/FXD,GAAKjB,GAAc,YAEjB8B,G,kDAEL,WAAYC,GAAQ,IAAD,8BAClB,cAAMA,IACDC,MAAQ,CACZC,OAAS1Y,OAAOC,KAAK6W,GAAUU,OAAO,GACtCmB,OAASC,GAAY5Y,OAAOC,KAAK6W,GAAUU,OAAO,KAEnD,EAAKqB,QAAU,EAAKA,QAAQC,KAAb,gBACf,EAAKC,QAAU,EAAKA,QAAQD,KAAb,gBAPG,E,qDAUnB,WACCnB,GAAOhT,MAAM,OAAQ,QACrB,IAAIpI,EAAOnF,SAASqF,cAAc,SAClCc,GAAQG,SAASC,WAAWpE,UAAY,SACxCgD,EAAKjE,YAAYiF,GAAQG,SAASC,YAClCqb,GAAS7K,KAAKsK,S,qBAGf,SAAQthB,GAEP6I,OAAOG,OAAO2W,GAAUU,OAAOre,SAAQ,SAASqD,GAC/CwD,OAAOG,OAAO3D,EAAI4a,SAASje,SAAQ,SAASse,GAC3CA,EAAIJ,KAAOrX,OAAOC,KAAKwX,EAAIva,MAAM,SAInC,IAAId,EAAOjF,EAAEsL,OAAOwW,KAEpB9K,KAAK+K,SAAS,CAAER,OAAStc,EAAMuc,OAASC,GAAYxc,KAAS,WAC5D4c,GAAS7K,KAAKsK,Y,qBAIhB,SAAQthB,GAEP,IAAGgiB,GAAH,CAEA,IAAI3c,EAAMrF,EAAEsL,OACR2W,EAAQjL,KACRkL,EAAO7c,EAAI8c,aAAa,QACxBld,EAAOI,EAAI8c,aAAa,QAC5BxC,GAAUU,MAAMrJ,KAAKsK,MAAMC,QAAQtB,QAAQiC,GAAMhC,KAAOjb,EACxD+R,KAAK+K,SAAS,CAAEP,OAASvc,IAAQ,YA6InC,SAAqBA,EAAMid,EAAM/Z,GAChC,IAAI9C,EAAMsa,GAAUU,MAAMpb,GAAMgb,QAAQiC,GAAMnc,KAAKoC,GAC/CuO,EAAM,GACN1E,EAAM2N,GAAUU,MAAMpb,GAAMgb,QAAQiC,GAAMpV,KAC9CjE,OAAOC,KAAKzD,GAAKrD,SAAQ,SAASkH,GACtB,cAARA,GACFwN,EAAG,IAAUrR,EAAI6D,GACjBwN,EAAG,YAAkBrR,EAAI6D,IACR,cAARA,IACTwN,EAAG,MAAerR,EAAI6D,GACtBwN,EAAG,SAAerR,EAAI6D,OAGxB8I,EAAIhQ,SAAQ,SAASiD,GACpB,IAAI6H,EAAOyT,GAAGpT,WAAWiV,GAAOnd,GAChCsb,GAAGtG,cAAc,QAASnN,EAAM4J,EAAK,QA3JpC2L,CAAYJ,EAAMX,MAAMC,OAAQW,EAAMjd,S,oBAIxC,WACC,OACC,iCACC,sBAAK7C,UAAU,YACf,uBAAKA,UAAU,cAAf,UACC,sBAAKA,UAAU,aAAf,SAA8BkgB,GAAgBtL,QAC9C,sBAAK5U,UAAU,aAAf,SAA8BmgB,GAAgBvL,kB,GAvDjCwL,aA+DdR,IAAU,EAEVP,GAAc,SAASxc,GAC1B,OAAO4D,OAAOC,KAAK6W,GAAUU,MAAMpb,GAAMgb,SAAS,IAG/CqC,GAAkB,SAASL,GAC9B,IAAIQ,EAAMR,EAAMX,MACZ3c,EAAM,GAgBV,OAfAkE,OAAOC,KAAK6W,GAAUU,OAAOre,SAAQ,SAASiD,EAAMzC,GACnD,IAAIJ,EAAY,OACb6C,IAASwd,EAAIlB,SAAUnf,EAAY,mBACtC,IAAIsgB,EAAY,OAAQ/C,GAAUU,MAAMpb,GAAM2a,QAAS,IACvDjb,EAAIK,KACH,sBAEC8c,KAAO7c,EACP0d,MAAQ1d,EACR7C,UAAYA,EACZwgB,QAAUX,EAAMP,QAChBvhB,MAAQ,CAAE0iB,gBAAkBH,IALtBlgB,OASFmC,GAGJ4d,GAAkB,SAASN,GAC9B,IAAIQ,EAAMR,EAAMX,MACZjc,EAAMsa,GAAUU,MAAMoC,EAAIlB,QAAQtB,QAClCtb,EAAM,GAWV,OAVAkE,OAAOC,KAAKzD,GAAKrD,SAAQ,SAASkgB,EAAM1f,GACvCmC,EAAIK,KACH,uBAAK5C,UAAU,OAAf,UACC,sBAAKA,UAAU,UAAf,SAA2B8f,IAC3B,sBAAK9f,UAAU,UAAf,SACG0gB,GAAeb,EAAOC,OAHC1f,OAQtBmC,GAGJme,GAAiB,SAASb,EAAOC,GACpC,IAAIO,EAAMR,EAAMX,MACZjc,EAAMsa,GAAUU,MAAMoC,EAAIlB,QAAQtB,QAAQiC,GAAMnc,KAChDpB,EAAM,GA+BV,OA9BAkE,OAAOC,KAAKzD,GAAKrD,SAAQ,SAASiD,EAAMzC,GACvC,IAAIugB,EAAM,GAEP1d,EAAIJ,GAAMtE,QACZoiB,EAAG,gBAAsB1d,EAAIJ,GAAMtE,OAEjC0E,EAAIJ,GAAMmb,aACZ2C,EAAG,gBAAsB,OAAQ1d,EAAIJ,GAAMmb,WAAY,KAErD/a,EAAIJ,GAAMkb,aACZ4C,EAAG,gBAAsB1d,EAAIJ,GAAMkb,YAEpC,IAAI6C,EAAM,OACN9C,EAAOP,GAAUU,MAAMoC,EAAIlB,QAAQtB,QAAQiC,GAAMhC,KAClDjb,IAASib,IAAQ8C,EAAM,mBACd,OAAT9C,GAAuB,IAAN1d,IACnBwgB,EAAM,mBAEPre,EAAIK,KACH,uBAAK5C,UAAU,WAAf,UACA,sBACCA,UAAW4gB,EACX7iB,MAAO4iB,EACPJ,MAAO1d,EACPid,KAAMA,EACNjd,KAAMA,EACN2d,QAASX,EAAML,UACP3c,IARsBzC,OAW1BmC,GAKJyB,GAAUma,GAAG/Q,eHjIjB,WACC,IAAI3K,EAAMtD,MAAMC,KAAKC,WACjB4D,EAAMR,EAAI,GACVvC,EAAMuC,EAAI6U,OAAO,EAAG7U,EAAIpC,OAAS,GACjCoM,EAAMhK,EAAImF,MACI,kBAAR3E,IAAoBA,EAAMpF,SAASqF,cAAcD,IAC3D/C,EAAIN,SAAQ,SAAS8C,GACpBO,EAAIwB,iBAAiB/B,EAAK+J,MG4H5BoU,CAAapjB,OAAQ,OAAQ,UAAU,WACtC,IAAImR,EAAInR,OAAOE,YACXgR,EAAQ,GAAJC,EACLnR,OAAOE,YAAcF,OAAOC,aAE9BkR,EAAQ,IADRD,EAAIlR,OAAOC,aAGZygB,GAAG9G,WAAWrT,GAAQG,SAAUH,GAAQ0B,OAAQiJ,EAAGC,MAGpD5K,GAAO,OAAama,GAAGvQ,YAAY,SAAU,EAAG,CAAE/I,EAAI,GAAIE,EAAI,GAAIoD,EAAI,IACtEnE,GAAQ6B,MAAMgI,IAAI7J,GAAQ8c,QAE1B9c,GAAQ6E,SAASqO,YAAa,EAC9BlT,GAAQ6E,SAASkY,cAAgB9Y,KAAKoE,GAAK,EAC3CrI,GAAQ6E,SAASmY,cAAgB/Y,KAAKoE,GAAK,EAI3C,IAAI2T,GAAQ,KAEZ,SAASP,GAASY,GACjBT,IAAU,EACV/hB,SAASqF,cAAc,YAAYnF,MAAMwgB,QAAU,QACnD,IAAItb,EAAMsa,GAAUU,MAAMoC,EAAIlB,QAAQjJ,QACtCiI,GAAGvI,UAAU3S,EAAIma,QAAQ,SAAS3J,GACjCwN,GAAYjB,IACZA,GAASvM,EACT0K,GAAGhO,YAAY6P,GAAO/c,EAAIwa,QAC1BzZ,GAAQ8c,OAAOI,UAAYje,EAAIya,OAAOC,OACtC3Z,GAAQ2J,MAAMuT,UAAYje,EAAIya,OAAOE,QACrC5Z,GAAQ6B,MAAMgI,IAAImS,IAClBviB,OAAOuiB,MAAQA,GAwBjB,SAAwBnd,GACvB,IAAII,EAAMsa,GAAUU,MAAMpb,GAAMgb,QAChCpX,OAAOC,KAAKzD,GAAKrD,SAAQ,SAASkgB,GACjC7c,EAAI6c,GAAMhC,KAAO,KACjBrX,OAAOG,OAAO3D,EAAI6c,GAAMnc,MAAM/D,SAAQ,SAASuhB,GAC3CA,EAAIhM,MACNgJ,GAAG3I,WAAW2L,EAAIhM,OAAO,SAASuB,GACjCyK,EAAIC,UAAY1K,EAChBkJ,IAAU,EACV/hB,SAASqF,cAAc,YAAYnF,MAAMwgB,QAAU,UAE3C4C,EAAI5iB,QACb4iB,EAAIE,UAAY,IAAIhc,EAAM0I,MAAMoT,EAAI5iB,cAKvCwgB,WAAWX,GAAOU,WAAY,KAxC7BwC,CAAejB,EAAIlB,WA4CrB,SAAS8B,GAAYhe,GAEP,OAAV+c,KAEHhc,GAAQ6B,MAAMwS,OAAO2H,IAErB/c,EAAI0Q,SAAS/T,QAAQqhB,IAElBhe,EAAIiV,UAAYjV,EAAIiV,SAASH,SAAW9U,EAAIiV,SAASH,UAErD9U,EAAI4P,UAAY5P,EAAI4P,SAASkF,UAE/B,CAAE,WAAY,QAAS,UACrB,kBAAmB,cACnB,SAAU,WAAY,MACtB,YAAa,gBAAiBnY,SAAQ,SAAS8W,GAC7CzT,EAAI4P,SAAS6D,IAAQzT,EAAI4P,SAAS6D,GAAKqB,SACzC9U,EAAI4P,SAAS6D,GAAKqB,aAIpB9U,EAAI4P,SAASkF,YAIAiH,UCvPAuC,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB1U,MAAK,YAAkD,IAA/C2U,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASzT,OACP,eAAC,IAAM0T,WAAP,UACE,eAAC,GAAD,MAEFnkB,SAASokB,eAAe,SAM1BV,O","file":"static/js/main.ce8470df.chunk.js","sourcesContent":["import { threejs } from \".\";\r\n\r\nlet checkControls = function(controls) {\r\n    let t = controls.target;\r\n    let c = controls.object.position;\r\n    window.addEventListener('keydown', function(e) {\r\n        if(e.key === '`') {\r\n            let x = '';\r\n            x += '{\\n';\r\n            x += '  target : { x : '+ t.x +', y : '+ t.y +', z : '+ t.z +' },\\n';\r\n            x += '  camera : { x : '+ c.x +', y : '+ c.y +', z : '+ c.z +' },\\n';\r\n            x += '}';\r\n            console.log(x);\r\n        };\r\n    });\r\n};\r\n\r\nlet checkTransform = function(object) {\r\n    let p = object.position;\r\n    let r = object.rotation;\r\n    let s = object.scale;\r\n    window.addEventListener('keydown', function(e) {\r\n        \r\n        if(e.key === '`') {\r\n            let x = '';\r\n            x += '{\\n';\r\n            x += '  position : { x : '+ p.x +', y : '+ p.y +', z : '+ p.z +' },\\n';\r\n            x += '  rotation : { x : '+ r.x +', y : '+ r.y +', z : '+ r.z +' },\\n';\r\n            x += '  scale    : { x : '+ s.x +', y : '+ s.y +', z : '+ s.z +' },\\n';\r\n            x += '}';\r\n            console.log(x);\r\n        };\r\n\r\n        let speed = 0.001;\r\n        if(e.shiftKey) { speed = 0.01; e.preventDefault(); }\r\n        if(e.ctrlKey)  { speed = 0.1; e.preventDefault(); }\r\n\r\n        if(e.key === '+') {\r\n            object.scale.set(\r\n                object.scale.x + speed,\r\n                object.scale.y + speed,\r\n                object.scale.z + speed\r\n            );\r\n        }\r\n\r\n        if(e.key === '-') {\r\n            object.scale.set(\r\n                object.scale.x - speed,\r\n                object.scale.y - speed,\r\n                object.scale.z - speed\r\n            );\r\n        }\r\n\r\n        if(e.key === '*') {\r\n            object.rotation.set(\r\n                object.rotation.x,\r\n                object.rotation.y + Math.PI / 4,\r\n                object.rotation.z\r\n            );\r\n        }\r\n\r\n        if(e.key === '/') {\r\n            object.rotation.set(\r\n                object.rotation.x,\r\n                object.rotation.y - Math.PI / 4,\r\n                object.rotation.z\r\n            );\r\n        }\r\n\r\n        if(e.key === '2') { object.position.z += speed; }\r\n        if(e.key === '8') { object.position.z -= speed; }\r\n        if(e.key === '6') { object.position.x += speed; }\r\n        if(e.key === '4') { object.position.x -= speed; }\r\n\r\n    });\r\n};\r\n\r\nlet checkObjects = function(object, property) {\r\n    threejs.findByType(object, 'Mesh', true).forEach(function(mesh) {\r\n        threejs.createEvent('click', mesh, function(e) {\r\n            if(property !== undefined) {\r\n                console.log(e.object[property], e.object, e);\r\n            } else { console.log(e.object, e); }\r\n        });\r\n    });\r\n};\r\n\r\n\r\n\r\nlet checkConsole = function() {\r\n    if(window.innerWidth > window.innerHeight) { return; }\r\n    var e = document.createElement('div');\r\n    e.style.position = 'fixed';\r\n    e.style.zIndex = 100;\r\n    e.style.width = 'calc(100vw - 20px)';\r\n    e.style.height = '112px';\r\n    e.style.left = '0px';\r\n    e.style.top = '0px';\r\n    e.style.background = '#222';\r\n    e.style.color = '#ffffff';\r\n    e.style.fontFamily = 'Consolas';\r\n    e.style.fontSize = '10px';\r\n    e.style.lineHeight = '16px';\r\n    e.style.overflow = 'hidden';\r\n    e.style.padding = '10px'\r\n    document.body.style.marginTop = '130px';\r\n    document.body.appendChild(e);\r\n\r\n    console.log = function() {\r\n        var args = Array.from(arguments);\r\n        e.innerHTML = checkConsole.getString(args, '#0099ff') + e.innerHTML;\r\n        checkConsole.removeOverflow();\r\n    };\r\n\r\n    console.error = function() {\r\n        var args = Array.from(arguments);\r\n        e.innerHTML = checkConsole.getString(args, '#ff0000') + e.innerHTML;\r\n        checkConsole.removeOverflow();\r\n    };\r\n\r\n    console.warn = function() {\r\n        var args = Array.from(arguments);\r\n        e.innerHTML = checkConsole.getString(args, 'yellow') + e.innerHTML;\r\n        checkConsole.removeOverflow();\r\n    };\r\n\r\n};\r\n\r\ncheckConsole.getString = function(args, color) {\r\n    var k = '';\r\n    args.forEach(function(a) {\r\n        k += JSON.stringify(a) + ' ';\r\n    });\r\n    var e = document.createElement('div');\r\n    e.className = 'trinity-log';\r\n    e.style.lineHeight = '16px';\r\n    e.style.color = color;\r\n    e.innerHTML = k;\r\n    return e.outerHTML;\r\n};\r\n\r\ncheckConsole.removeOverflow = function() {\r\n    var arr = document.querySelectorAll('.trinity-log');\r\n    if(arr === null) { return; }\r\n    for(var i = arr.length - 1; i > 6; i--) {\r\n        arr[i].outerHTML = '';\r\n    };\r\n};\r\n\r\nexport {\r\n    checkControls,\r\n    checkConsole,\r\n    checkTransform,\r\n    checkObjects\r\n};","import * as THREE from \"three\";\r\nimport gsap from 'gsap';\r\n// loaders\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader';\r\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\r\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader';\r\nimport { DDSLoader } from 'three/examples/jsm/loaders/DDSLoader';\r\n// controls\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport { PointerLockControls } from 'three/examples/jsm/controls/PointerLockControls';\r\n// postprocessing\r\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer\";\r\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass\";\r\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass\";\r\nimport { OutlinePass } from \"three/examples/jsm/postprocessing/OutlinePass\";\r\nimport { BloomPass } from \"three/examples/jsm/postprocessing/BloomPass\";\r\nimport { UnrealBloomPass } from \"three/examples/jsm/postprocessing/UnrealBloomPass\";\r\nimport { GlitchPass } from \"three/examples/jsm/postprocessing/GlitchPass\";\r\nimport { SSAOPass } from \"three/examples/jsm/postprocessing/SSAOPass\";\r\nimport { SSRPass } from \"three/examples/jsm/postprocessing/SSRPass\";\r\nimport { FilmPass } from \"three/examples/jsm/postprocessing/FilmPass\";\r\nimport { BokehPass } from \"three/examples/jsm/postprocessing/BokehPass\";\r\nimport { ReflectorForSSRPass } from \"three/examples/jsm/objects/ReflectorForSSRPass\";\r\n// shaders\r\nimport { FilmShader } from \"three/examples/jsm/shaders/FilmShader\";\r\nimport { FXAAShader } from \"three/examples/jsm/shaders/FXAAShader\";\r\nimport { SSAOShader } from \"three/examples/jsm/shaders/SSAOShader\";\r\n// exporters\r\nimport { GLTFExporter } from \"three/examples/jsm/exporters/GLTFExporter\";\r\nimport { USDZExporter } from \"three/examples/jsm/exporters/USDZExporter\";\r\n// gui\r\nimport { GUI } from \"three/examples/jsm/libs/dat.gui.module\";\r\n\r\nimport { Clock } from \"three\";\r\n\r\nlet POSTPROCESSING = {\r\n    EffectComposer : EffectComposer,\r\n    RenderPass : RenderPass,\r\n    ShaderPass : ShaderPass,\r\n    OutlinePass : OutlinePass,\r\n    BloomPass : BloomPass,\r\n    UnrealBloomPass : UnrealBloomPass,\r\n    GlitchPass : GlitchPass,\r\n    SSAOPass : SSAOPass,\r\n    SSRPass : SSRPass,\r\n    ReflectorForSSRPass : ReflectorForSSRPass,\r\n    FilmPass : FilmPass,\r\n    BokehPass : BokehPass\r\n};\r\n\r\nlet SHADERS = {\r\n    FilmShader : FilmShader,\r\n    FXAAShader : FXAAShader,\r\n    SSAOShader : SSAOShader\r\n};\r\n\r\nlet LOADERS = {\r\n    GLTFLoader : GLTFLoader,\r\n    FBXLoader : FBXLoader,\r\n    OBJLoader : OBJLoader,\r\n    MTLLoader : MTLLoader,\r\n    DDSLoader : DDSLoader\r\n};\r\n\r\nlet CONTROLS = {\r\n    OrbitControls : OrbitControls,\r\n    PointerLockControls : PointerLockControls\r\n};\r\n\r\nlet EXPORTERS = {\r\n    GLTFExporter : GLTFExporter,\r\n    USDZExporter : USDZExporter\r\n};\r\n\r\nlet GSAP = gsap;\r\nlet CLOCK = Clock;\r\n\r\nlet _args = function(arr) {\r\n\tvar out = { \"obj\" : [], \"str\" : [], \"num\" : [], \"fun\" : [], \"boo\" : [] };\r\n\tif(arr === undefined) { return out; }\r\n\tfor(var i = 0; i < arr.length; i++) {\r\n\t\tvar arg = arr[i];\r\n\t\tvar typ = (typeof arg).substr(0, 3);\r\n\t\tif(out[typ] === undefined) { out[typ] = []; }\r\n\t\tout[typ].push(arg);\r\n\t}\r\n\treturn out;\r\n};\r\n\r\nlet createElement = function() {\r\n    let args = _args(arguments);\r\n    let name = args.str[0] || '';\r\n    let html = args.str[1] || '';\r\n    let root = args.obj[0] || document.querySelector(args.str[2]);\r\n    let e = document.createElement('div');\r\n    e.setAttribute('class', name);\r\n    e.innerHTML = html;\r\n    if(root) { root.appendChild(e); }\r\n    return e;\r\n};\r\n\r\nexport {\r\n    THREE,\r\n    LOADERS,\r\n    CONTROLS,\r\n    POSTPROCESSING,\r\n    SHADERS,\r\n    EXPORTERS,\r\n    GSAP,\r\n    CLOCK,\r\n    GUI,\r\n    _args,\r\n    createElement\r\n};","import { threejs } from './index';\r\nimport {\r\n    THREE,\r\n    POSTPROCESSING,\r\n    CONTROLS,\r\n    _args\r\n} from '../import';\r\n\r\n// ==========================================================================\r\n\r\nlet createScene = function() {\r\n    var args = _args(arguments);\r\n    var width  = args.num[0] || window.innerWidth;\r\n    var height = args.num[1] || window.innerHeight;\r\n    var color  = args.str[0];\r\n    var auto   = args.boo[0];\r\n    // modules\r\n    var scene    = new THREE.Scene();\r\n    var camera   = new THREE.PerspectiveCamera(45, width / height, 0.01, 1000);\r\n    var renderer = new THREE.WebGLRenderer({ antialias : true, alpha : true });\r\n    var controls = new CONTROLS.OrbitControls(camera, renderer.domElement);\r\n    var light    = threejs.createLight('AMBIENT', '#FFF');\r\n    // setup\r\n    scene.add(light);\r\n    renderer.setSize(width, height);\r\n    if(color !== undefined) { scene.background = new THREE.Color(color); }\r\n    else {  }\r\n    // controls\r\n    controls.enablePan       = false;\r\n    controls.autoRotate      = false;\r\n    controls.autoRotateSpeed = 0.8;\r\n    controls.enableDamping   = true;\r\n    controls.dampingFactor   = 0.1;\r\n    threejs.setupControls('ORBIT', controls,\r\n        { x : 0, y : 0, z : 0 },\r\n        { x : 0, y : 0, z : 5 }\r\n    );\r\n    // render\r\n    if(auto !== false) {\r\n        function render() {\r\n            requestAnimationFrame(render);\r\n            controls.update();\r\n            renderer.render(scene, camera);\r\n        }; render();\r\n    }\r\n\r\n    let modules = {\r\n        scene      : scene,\r\n        camera     : camera,\r\n        renderer   : renderer,\r\n        controls   : controls,\r\n        light      :light\r\n    };\r\n\r\n    // user events init\r\n    createEvent.listen(modules);\r\n\r\n    // return\r\n    return modules;\r\n};\r\n\r\n// ==========================================================================\r\n\r\nlet createEffect = function() {\r\n    var args = _args(arguments);\r\n    var names    = args.str;\r\n    var renderer = args.obj[0];\r\n    var scene    = args.obj[1];\r\n    var camera   = args.obj[2];\r\n    var options  = args.obj[3] || {};\r\n\r\n    var w = renderer.domElement.width;\r\n    var h = renderer.domElement.height;\r\n\r\n    // composer and render pass\r\n    var pass;\r\n    let composer = new POSTPROCESSING.EffectComposer(renderer);\r\n    let render   = new POSTPROCESSING.RenderPass(scene, camera);\r\n    composer.addPass(render);\r\n    // output\r\n    let out = { composer : composer, renderPass : render };\r\n    // for each pass\r\n    names.forEach(function(name) {\r\n        name = name.toUpperCase();\r\n        // select pass\r\n        if(name === 'OUTLINE') {\r\n            pass = new POSTPROCESSING.OutlinePass(new THREE.Vector2(w, h), scene, camera);\r\n            pass.edgeStrength = 3;\r\n            pass.visibleEdgeColor.set('#FFFFFF');\r\n        } else if(name === 'BLOOM') {\r\n            pass = new POSTPROCESSING.UnrealBloomPass();\r\n        } else if(name === 'GLITCH') {\r\n            pass = new POSTPROCESSING.GlitchPass();\r\n        } else if(name === 'SSAO') {\r\n            pass = new POSTPROCESSING.SSAOPass(scene, camera, w, h);\r\n            pass.kernelRadius = 0.2;\r\n            pass.minDistance = 0.0001;\r\n            pass.maxDistance = 0.3;\r\n        } else if(name === 'SSR') {\r\n            pass = new POSTPROCESSING.SSRPass(render, scene, camera, w, h);\r\n        } else if(name === 'BOKEH') {\r\n            pass = new POSTPROCESSING.BokehPass(scene, camera, {\r\n                focus: 4.0,\r\n                aperture: 0.0001,\r\n                maxblur: 0.01,\r\n                width: w, height: h\r\n            });\r\n        } else { return; }\r\n        // options\r\n        Object.keys(options).forEach(function(opt) {\r\n            if(options[opt] === undefined) { return; }\r\n            if(opt === 'visibleEdgeColor') {\r\n                pass[opt].set(options[opt]);\r\n            } else {\r\n                pass[opt] = options[opt];\r\n            }\r\n        });\r\n        // add pass\r\n        composer.addPass(pass);\r\n    });\r\n    return out;\r\n};\r\n\r\n// ==============================================================================\r\n\r\nlet createEvent = function() {\r\n    var args = _args(arguments);\r\n    var type     = args.str[0].toLowerCase();\r\n    var object   = arguments[1];\r\n    var callback = args.fun[0];\r\n\r\n    if(Array.isArray(object) === false) {\r\n        object = [object];\r\n    }\r\n\r\n    var arr = createEvent.list;\r\n    object.forEach(function(obj) {\r\n        if(arr[type]) {\r\n            if(arr[type][obj.uuid] === undefined) {\r\n                arr[type][obj.uuid] = [];\r\n            }\r\n            arr[type][obj.uuid].push(callback);\r\n        }\r\n    });\r\n\r\n};\r\n\r\ncreateEvent.list = {\r\n    'click'      : {},\r\n    'mousedown'  : {},\r\n    'mouseup'    : {},\r\n    'mousemove'  : {},\r\n    'mouseenter' : {},\r\n    'mouseleave' : {}\r\n};\r\n\r\ncreateEvent.down = false;\r\n\r\ncreateEvent.last = { object : {} };\r\n\r\ncreateEvent.listen = function(modules) {\r\n    let u = createEvent;\r\n    let cnv = modules.renderer.domElement;\r\n\r\n    let functionMouseDown = function(e) {\r\n        u.down = true;\r\n        // mousedown\r\n        var obj = createEvent.cast(e, modules);\r\n        if(obj === null) { return; }\r\n        else { createEvent.callback('mousedown', obj, e); }\r\n    }\r\n\r\n    let functionMouseMove = function(e) {\r\n        u.down = false;\r\n        if(u.down === false) {\r\n            // mousemove\r\n            var obj = createEvent.cast(e, modules);\r\n            if(obj === null) { return; }\r\n            else {\r\n                createEvent.callback('mousemove', obj, e);\r\n                if(u.last.object.uuid !== obj.object.uuid) {\r\n                    // mouseleave\r\n                    createEvent.callback('mouseleave', u.last, e);\r\n                    u.last = obj;\r\n                    // mouseenter\r\n                    createEvent.callback('mouseenter', obj, e);\r\n                };\r\n            }\r\n        }\r\n    };\r\n\r\n    let functionMouseUp = function(e) {\r\n        if(u.down) {\r\n            // click\r\n            var obj = createEvent.cast(e, modules);\r\n            if(obj === null) { return; }\r\n            else { createEvent.callback('click', obj, e); }\r\n        }\r\n        u.down = false;\r\n    };\r\n\r\n    cnv.addEventListener('mousedown', functionMouseDown);\r\n    cnv.addEventListener('ontouchstart', functionMouseDown);\r\n\r\n    cnv.addEventListener('mousemove', functionMouseMove);\r\n    cnv.addEventListener('touchmove', functionMouseMove);\r\n\r\n    cnv.addEventListener('mouseup', functionMouseUp);\r\n    cnv.addEventListener('ontouchend', functionMouseUp);\r\n\r\n};\r\n\r\ncreateEvent.cast = function(event, modules) {\r\n    // positions\r\n    let sz = modules.renderer.domElement.getBoundingClientRect();\r\n\r\n    // desktop\r\n    let x = event.layerX;\r\n    let y = event.layerY;\r\n    // mobile\r\n    if(event.touches) {\r\n        x = event.touches[0].clientX;\r\n        y = event.touches[0].clientY;\r\n    };\r\n\r\n    let xy = new THREE.Vector2();\r\n    xy.x = +(x / sz.width) * 2 - 1;\r\n    xy.y = -(y / sz.height) * 2 + 1;\r\n\r\n    // raycaster\r\n    let caster = new THREE.Raycaster();\r\n    caster.setFromCamera(xy, modules.camera);\r\n    let arr = threejs.findByType(modules.scene, 'Mesh', true);\r\n    let out = caster.intersectObjects(arr);\r\n    if(out.length > 0) {\r\n        return out[0];\r\n    } else { return null; }\r\n};\r\n\r\ncreateEvent.callback = function(type, data, event) {\r\n    var uuid = data.object.uuid;\r\n    var list = createEvent.list[type];\r\n    if(list[uuid] === undefined) { return; }\r\n    else {\r\n        list[uuid].forEach(function(f) { f(data, event); });\r\n    }\r\n};\r\n\r\n// ==========================================================================\r\n\r\nlet createObject = function() {\r\n    var args = _args(arguments);\r\n    var data = args.obj[0] || {};\r\n    var opts = args.obj[1];\r\n\r\n    var grr = [\r\n        'Box',\r\n        'Circle',\r\n        'Cone',\r\n        'Cylinder',\r\n        'Dodecahedron',\r\n        'Edges',\r\n        'Extrude',\r\n        'Icosahedron',\r\n        'Lathe',\r\n        'Octahedron',\r\n        'Parametric',\r\n        'Plane',\r\n        'Polyhedron',\r\n        'Ring',\r\n        'Shape',\r\n        'Sphere',\r\n        'Tetrahedron',\r\n        'Text',\r\n        'Torus',\r\n        'TorusKnot',\r\n        'Tube',\r\n        'Wireframe'\r\n    ];\r\n\r\n    var mrr = [\r\n        'LineBasic',\r\n        'LineDashed',\r\n        'MeshBasic',\r\n        'MeshDepth',\r\n        'MeshDistance',\r\n        'MeshLambert',\r\n        'MeshMatcap',\r\n        'MeshNormal',\r\n        'MeshPhong',\r\n        'MeshPhysical',\r\n        'MeshStandard',\r\n        'MeshToon',\r\n        'Points',\r\n        'RawShader',\r\n        'Shader',\r\n        'Shadow',\r\n        'Sprite'\r\n    ];\r\n\r\n    var g = null, m = null;\r\n    Object.keys(data).forEach(function(key) {\r\n        if(grr.indexOf(key) > -1) { g = key; };\r\n        if(mrr.indexOf(key) > -1) { m = key; };\r\n    }); if(g === null || m === null) { return; }\r\n\r\n    var vrr = Object.values(data[g]);\r\n\r\n    g += 'Geometry'\r\n\r\n    var geo;\r\n    if(vrr.length === 0) {\r\n        geo = new THREE[g]();\r\n    } else if(vrr.length === 1) {\r\n        geo = new THREE[g](vrr[0]);\r\n    } else if(vrr.length === 2) {\r\n        geo = new THREE[g](vrr[0], vrr[1]);\r\n    } else if(vrr.length === 3) {\r\n        geo = new THREE[g](vrr[0], vrr[1], vrr[2]);\r\n    } else if(vrr.length === 4) {\r\n        geo = new THREE[g](vrr[0], vrr[1], vrr[2], vrr[3]);\r\n    } else if(vrr.length === 5) {\r\n        geo = new THREE[g](vrr[0], vrr[1], vrr[2], vrr[3], vrr[5]);\r\n    }\r\n\r\n    var mat = new THREE[m + 'Material'](data[m]);\r\n\r\n    var mesh = new THREE.Mesh(geo, mat);\r\n    if(opts) { mesh = threejs.setupObject(mesh, opts); }\r\n    return mesh;\r\n};\r\n\r\nlet createLight = function() {\r\n    var args = _args(arguments);\r\n    var type  = args.str[0] || 'DIRECT';\r\n    var clr   = args.str[1] || '#FFF';\r\n    var int   = args.num[0] || 1;\r\n    var pwr   = args.num[1];\r\n    var pos   = args.obj[0];\r\n    var rot   = args.obj[1];\r\n    var vsb   = args.boo[0];\r\n\r\n    clr = new THREE.Color(clr).getHex();\r\n    type = type.toUpperCase();\r\n\r\n    var light;\r\n    if(type === 'DIRECT') {\r\n        light = new THREE.DirectionalLight(clr, int);\r\n    } else if(type === 'AMBIENT') {\r\n        light = new THREE.AmbientLight(clr, int);\r\n    } else if(type === 'POINT') {\r\n        light = new THREE.PointLight(clr, int);\r\n    } else if(type === 'HEMISPHERE') {\r\n        light = new THREE.HemisphereLight(clr, int);\r\n    } else if(type === 'SPOT') {\r\n        light = new THREE.SpotLight(clr);\r\n    }\r\n    \r\n    if(pwr !== undefined) { light.power = pwr; };\r\n    if(pos !== undefined) { light.position.set(pos.x, pos.y, pos.z); };\r\n    if(rot !== undefined) { light.rotation.set(rot.x, rot.y, rot.z); };\r\n    if(rot !== undefined) { light.rotation.set(rot.x, rot.y, rot.z); };\r\n    if(vsb !== undefined) { light.visible = vsb };\r\n\r\n    return light;\r\n};\r\n\r\n// ==========================================================================\r\n\r\nlet createParticles = function() {\r\n    var args = _args(arguments);\r\n    var stat = args.str[0] || \"\";\r\n    var rots = args.str[1] || \"\";\r\n    var ax   = args.num[0];\r\n    var bx   = args.num[1];\r\n    var ay   = args.num[2];\r\n    var by   = args.num[3];\r\n    var az   = args.num[4];\r\n    var bz   = args.num[5];\r\n    var dx   = args.num[6] || 1;\r\n    var dy   = args.num[7] || 1;\r\n    var dz   = args.num[8] || 1;\r\n    var objs = args.obj;\r\n\r\n    ax = Math.min(ax, bx); bx = Math.max(ax, bx);\r\n    ay = Math.min(ay, by); by = Math.max(ay, by);\r\n    az = Math.min(az, bz); bz = Math.max(az, bz);\r\n\r\n    stat = stat.toUpperCase();\r\n    rots = rots.toUpperCase();\r\n\r\n    function randNumber(a, b) {\r\n        return (Math.random() * (Math.max(a, b) - Math.min(a, b))) + Math.min(a, b);\r\n    };\r\n\r\n    function randObject() {\r\n        return objs[Math.floor(Math.random() * objs.length)];\r\n    };\r\n\r\n    var out = [];\r\n\r\n    for(var x = ax; x <= bx; x += dx) {\r\n        for(var y = ay; y <= by; y += dy) {\r\n            for(var z = az; z <= bz; z += dz) {\r\n                // position\r\n                var rx = x, ry = y, rz = z;\r\n                if(stat.indexOf('X') > -1) { rx = randNumber(ax, bx); }\r\n                if(stat.indexOf('Y') > -1) { ry = randNumber(ay, by); }\r\n                if(stat.indexOf('Z') > -1) { rz = randNumber(az, bz); }\r\n                // rotation\r\n                var ra = 0, rb = 0, rc = 0;\r\n                if(rots.indexOf('X') > -1) { ra = Math.random(); }\r\n                if(rots.indexOf('Y') > -1) { rb = Math.random(); }\r\n                if(rots.indexOf('Z') > -1) { rc = Math.random(); }\r\n                // clone and setup\r\n                var robj = randObject();\r\n                var obj = robj.clone();\r\n                obj.material = robj.material.clone();\r\n                obj.position.set(rx, ry, rz);\r\n                obj.rotation.set(ra, rb, rc);\r\n                out.push(obj);\r\n            };\r\n        };\r\n    };\r\n\r\n    return out;\r\n\r\n};\r\n\r\n// ==========================================================================\r\n\r\nexport {\r\n    createScene,\r\n    createEffect,\r\n    createEvent,\r\n    createLight,\r\n    createObject,\r\n    createParticles\r\n};","import {\r\n    threejs\r\n} from './index';\r\nimport {\r\n    THREE,\r\n    LOADERS,\r\n    _args\r\n} from '../import';\r\n\r\n// ============================================================================\r\n\r\nlet loadAll = function() {\r\n    var args = _args(arguments);\r\n    var files = args.obj[0];\r\n    var callback = args.fun[0] || function() {};\r\n    var progress = args.fun[1] || function() {};\r\n    var loaddata = { mngr : 0 };\r\n\r\n    if(loadAll.isBusy === true) { return; }\r\n    loadAll.isBusy = true;\r\n\r\n    // prepare\r\n    Object.keys(files).forEach(function(key) {\r\n        var type = loadAll.getFileType(files[key]);\r\n        files[key] = { wait : true, path : files[key].split('#')[0] };\r\n        files[key].type = 'load' + type[0] + type.substr(1).toLowerCase();\r\n        files[key].extn = type;\r\n        loaddata[files[key].path] = 0;\r\n    });\r\n\r\n    // manager callback\r\n    loadAll.manager.onProgress = function(u, n) {\r\n        loaddata.mngr = n;\r\n        check();\r\n    };\r\n    \r\n    // checker\r\n    function check() {\r\n        var ready = true;\r\n        var count = 0;\r\n        Object.keys(files).forEach(function(name) {\r\n            if(files[name].wait === true) { ready = false; }\r\n        });\r\n        Object.values(loaddata).forEach(function(x) { count += x; });\r\n        progress(count);\r\n        if(ready && loadAll.isBusy) {\r\n            callback(files);\r\n            loadAll.isBusy = false;\r\n        }\r\n    };\r\n\r\n    // load\r\n    Object.keys(files).forEach(function(name) {\r\n        var type = files[name].type;\r\n        var path = files[name].path;\r\n        threejs[type](path, function(resp) {\r\n            var extn = files[name].extn;\r\n            if(extn !== 'MODEL' && extn !== 'TEXTURE') {\r\n                loaddata[files[name]] = 1;\r\n            }\r\n            files[name] = resp;\r\n            check();\r\n        });\r\n    });\r\n};\r\n\r\nloadAll.isBusy  = false;\r\nloadAll.manager = new THREE.LoadingManager();\r\n\r\nloadAll.getFileType = function(url) {\r\n    var type = 'AJAX', ext;\r\n    if(url.indexOf('#') > -1) {\r\n        // manual\r\n        ext = url.split('#')[1].toUpperCase();\r\n        var arr = ['MODEL', 'TEXTURE', 'IMAGE', 'BITMAP', 'AJAX']\r\n        if(arr.indexOf(ext) > -1) { type = ext; }\r\n    } else {\r\n        // auto\r\n        ext = url.split('.').pop().toLowerCase();\r\n        var e_1 = ['glb', 'gltf', 'fbx', 'obj'];\r\n        var e_2 = ['jpg', 'jpeg', 'png', 'gif', 'bmp'];\r\n        if(e_1.indexOf(ext) > -1) { type = 'MODEL'; }\r\n        if(e_2.indexOf(ext) > -1) { type = 'TEXTURE'; }\r\n    }\r\n    return type;\r\n};\r\n\r\nlet loadImage = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var callback = args.fun[0] || function() {};\r\n\r\n    var image = new Image();\r\n    image.crossOrigin = 'anonymous';\r\n    image.onload = function() { callback(image); }\r\n    image.src = file;\r\n}\r\n\r\nlet loadBitmap = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var callback = args.fun[0] || function() {};\r\n\r\n    let bitmap = new THREE.ImageBitmapLoader().load(file, function(bitmap) {\r\n        callback(bitmap);\r\n    });\r\n    return bitmap;\r\n};\r\n\r\nlet loadModel = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var callback = args.fun[0] || function() {};\r\n    // get extension\r\n    var ext = file.split('.').pop().toLowerCase();\r\n    // select loader\r\n    var loader;\r\n    if(ext === 'obj') {\r\n\r\n        var mtlfile = file.substr(0, file.lastIndexOf('.obj')) + '.mtl';\r\n\r\n        var mtlload = new LOADERS.MTLLoader(loadAll.manager);\r\n        loader      = new LOADERS.OBJLoader(loadAll.manager);\r\n\r\n        mtlload.load(mtlfile, function(materials) {\r\n            materials.preload();\r\n            loader.setMaterials(materials);\r\n            loader.load(file, function(model) {\r\n                model.traverse(function(child) {\r\n                    if(child.isMesh) {\r\n                        child.material.opacity = 1;\r\n                        child.material.emissive    = child.material.color;\r\n                        child.material.emissiveMap = child.material.map;\r\n                    }\r\n                });\r\n                callback(model);\r\n            });\r\n        });\r\n        return;\r\n\r\n    } else if(ext === 'glb' || ext === 'gltf') {\r\n        loader  = new LOADERS.GLTFLoader(loadAll.manager);\r\n    } else if(ext === 'fbx') {\r\n        loader = new LOADERS.FBXLoader(loadAll.manager);\r\n    } else { callback(null); }\r\n    // load and callback\r\n    loader.load(file, function(model) {\r\n        if(model.scene) { model = model.scene; }\r\n        // texture map fix\r\n        model.traverse(function(child) {\r\n            if(child.isMesh) {\r\n                child.material.emissive    = child.material.color;\r\n                child.material.emissiveMap = child.material.map;\r\n            }\r\n        });\r\n        // return\r\n        callback(model);\r\n    });\r\n};\r\n\r\nlet loadTexture = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var width    = args.num[0] || 0;\r\n    var height   = args.num[1] || 0;\r\n    var callback = args.fun[0] || function() {};\r\n    // texture loader\r\n    return new THREE.TextureLoader(loadAll.manager).load(file, function(tex) {\r\n        // pattern texture\r\n        if(width !== 0 || height !== 0) {\r\n            tex.wrapS = THREE.RepeatWrapping;\r\n            tex.wrapT = THREE.RepeatWrapping;\r\n            tex.repeat.set(width, height);\r\n        };\r\n        // return\r\n        callback(tex);\r\n    });\r\n};\r\n\r\nlet loadAjax = function() {\r\n    var args = _args(arguments);\r\n    var url = args.str[0];\r\n    var obj = args.obj[0] || { a : 1 };\r\n    var fun = args.fun[0] || function() {};\r\n\r\n\tif(url.indexOf('?') === -1) { url += '?dnjs_ajax_t=' + Date.now(); }\r\n\telse { url += '&dnjs_ajax_t=' + Date.now(); }\r\n\r\n\tvar frm = new FormData();\r\n\tObject.keys(obj).forEach(function(key) {\r\n\t\tvar dat = obj[key];\r\n\t\tif(typeof dat === 'object') { dat = JSON.stringify(dat); }\r\n\t\tfrm.append(key, dat);\r\n\t});\r\n\r\n\tvar xhr = new XMLHttpRequest();\r\n\txhr.open('GET', url, true);\r\n    xhr.onreadystatechange = function() {\r\n        if(this.readyState === 4 && this.status === 200) {\r\n            if(fun != null) {fun(this.responseText); }\r\n        }\r\n    };\r\n\r\n\txhr.send(frm);\r\n\r\n};\r\n\r\n// ============================================================================\r\n\r\nexport {\r\n    loadAll,\r\n    loadAjax,\r\n    loadImage,\r\n    loadBitmap,\r\n    loadModel,\r\n    loadTexture\r\n};","import {\r\n    THREE,\r\n    GSAP,\r\n    CLOCK,\r\n    _args\r\n} from '../import';\r\n\r\n// ============================================================================\r\n\r\nfunction xyzByDist(p1, p2, d) {\r\n    var u = Math.pow(\r\n        Math.pow(p2.x - p1.x, 2) +\r\n        Math.pow(p2.y - p1.y, 2) +\r\n        Math.pow(p2.z - p1.z, 2),\r\n    0.5);\r\n    d = u - d; var s = d / u;\r\n    return {\r\n        x : p1.x + s * (p2.x - p1.x),\r\n        y : p1.y + s * (p2.y - p1.y),\r\n        z : p1.z + s * (p2.z - p1.z)\r\n    }\r\n};\r\n\r\nlet tweenControls = function() {\r\n    var args = _args(arguments);\r\n    var type     = args.str[0].toUpperCase();\r\n    var controls = args.obj[0];\r\n    var pos_1    = args.obj[1];\r\n    var pos_2    = args.obj[2];\r\n    var callback = args.fun[0] || function() {};\r\n    var ease     = args.str[1] || 'power1';\r\n    var offset, time;\r\n    var t_0, t_1, p_0, p_1, d, a, b;\r\n\r\n    var t = controls.target;\r\n    var p = controls.object.position;\r\n\r\n    controls.enabled = false;\r\n\r\n    if(type === 'FIXED') {\r\n        time   = args.num[0] / 1000;\r\n        d = { x : t.x - p.x, y : t.y - p.y, z : t.z - p.z };\r\n        t_0 = { x : t.x, y : t.y, z : t.z };\r\n        t_1 = { ease : ease, duration : time };\r\n        Object.keys(pos_1).forEach(function(k) { t_1[k] = pos_1[k]; });\r\n\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                controls.enabled = true;\r\n                controls.update();\r\n                callback();\r\n            },\r\n            onUpdate : function() {\r\n                controls.object.position.set(t_0.x, t_0.y, t_0.z);\r\n                controls.target.set(t_0.x + d.x, t_0.y + d.y, t_0.z + d.z);\r\n                controls.update();\r\n            }\r\n        }).fromTo(t_0, t_0, t_1);\r\n    };\r\n\r\n    if(type === 'LOOSE') {\r\n        offset = args.num[0];\r\n        time   = args.num[1] / 1000;\r\n        t_0 = { x : t.x, y : t.y, z : t.z };\r\n        p_0 = { x : p.x, y : p.y, z : p.z };\r\n        t_1 = { ease : ease, duration : time };\r\n        Object.keys(pos_1).forEach(function(k) { t_1[k] = pos_1[k]; });\r\n\r\n        p_1 = xyzByDist(p_0, t_1, offset);\r\n        var startRotation = new THREE.Euler().copy(controls.object.rotation);\r\n        \r\n        a = { px : p_0.x, py : p_0.y, pz : p_0.z, tx : t_0.x, ty : t_0.y, tz : t_0.z };\r\n        b = { px : p_1.x, py : p_1.y, pz : p_1.z, tx : t_1.x, ty : t_1.y, tz : t_1.z };\r\n        b.ease = ease;\r\n        b.duration = time;\r\n\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                controls.enabled = true;\r\n                callback();\r\n            },\r\n            onUpdate : function() {\r\n                controls.target.set(a.tx, a.ty, a.tz);\r\n                controls.object.position.set(a.px, a.py, a.pz);\r\n                controls.update();\r\n                controls.object.rotation.copy(startRotation);\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    };\r\n\r\n    if(type === 'EXACT') {\r\n        time = args.num[0] / 1000;\r\n        t_0 = { x : t.x, y : t.y, z : t.z };\r\n        p_0 = { x : p.x, y : p.y, z : p.z };\r\n        p_1 = { };\r\n        t_1 = { ease : ease, duration : time };\r\n        Object.keys(pos_1).forEach(function(k) { t_1[k] = pos_1[k]; });\r\n        Object.keys(pos_2).forEach(function(k) { p_1[k] = pos_2[k]; });\r\n        a = { px : p_0.x, py : p_0.y, pz : p_0.z, tx : t_0.x, ty : t_0.y, tz : t_0.z };\r\n        b = { px : p_1.x, py : p_1.y, pz : p_1.z, tx : t_1.x, ty : t_1.y, tz : t_1.z };\r\n        b.ease = ease;\r\n        b.duration = time;\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                controls.enabled = true;\r\n                callback();\r\n            },\r\n            onUpdate : function() {\r\n                controls.target.set(a.tx, a.ty, a.tz);\r\n                controls.object.position.set(a.px, a.py, a.pz);\r\n                controls.update();\r\n            }\r\n        }).fromTo(a, a, b);\r\n    };\r\n    \r\n};\r\n\r\ntweenControls.captureSpot = function() {\r\n    var args = _args(arguments);\r\n    var controls = args.obj[0];\r\n    window.addEventListener('dblclick', function() {\r\n        console.log(['TARGET']);\r\n        console.log('x ==> ', controls.target.x);\r\n        console.log('y ==> ', controls.target.y);\r\n        console.log('z ==> ', controls.target.z);\r\n        console.log(['CAMERA']);\r\n        console.log('x ==> ', controls.object.position.x);\r\n        console.log('y ==> ', controls.object.position.y);\r\n        console.log('z ==> ', controls.object.position.z);\r\n    });\r\n};\r\n\r\nlet tweenObject = function() {\r\n    var args = _args(arguments);\r\n    var obj  = args.obj[0];\r\n    var val  = args.obj[1];\r\n    var ease = args.str[0] || 'power1';\r\n    var time = args.num[0] || 1000;\r\n    var back = args.fun[0] || function() {};\r\n    // prepare\r\n    var a = {}, b = { ease : ease, duration : time / 1000 };\r\n    var arr = ['position', 'rotation', 'scale'];\r\n    arr.forEach(function(type) {\r\n        // defaults\r\n        a[type + 'X'] = b[type + 'X'] = obj[type].x;\r\n        a[type + 'Y'] = b[type + 'Y'] = obj[type].y;\r\n        a[type + 'Z'] = b[type + 'Z'] = obj[type].z;\r\n        // updates\r\n        if(val[type]) {\r\n            if(val[type].x !== undefined) { b[type + 'X'] = val[type].x; }\r\n            if(val[type].y !== undefined) { b[type + 'Y'] = val[type].y; }\r\n            if(val[type].z !== undefined) { b[type + 'Z'] = val[type].z; }\r\n        }\r\n    });\r\n    // tween\r\n    GSAP.timeline({\r\n        onComplete : function() {\r\n            back();\r\n        },\r\n        onUpdate : function() {\r\n            Object.keys(a).forEach(function(key) {\r\n                if(key === '_GSAP' || key === '_gsap') { return; }\r\n                var type = key.substr(0, key.length - 1);\r\n                var axis = key[key.length - 1].toLocaleLowerCase();\r\n                obj[type][axis] = a[key];\r\n            });\r\n        }\r\n    }).fromTo(a, a, b);\r\n};\r\n\r\nlet tweenMaterial = function() {\r\n    var args = _args(arguments);\r\n    var type = args.str[0] || 'VALUE';\r\n    var mesh = args.obj[0];\r\n    var data = args.obj[1];\r\n    var time = args.num[0] || 1000;\r\n    var ease = args.str[1] || 'power1';\r\n    var back = args.fun[0] || function() {};\r\n    var a, b;\r\n\r\n    if(type === 'CLONE') {\r\n        // mesh duplicate\r\n        let new_mesh = mesh.clone(false);\r\n        mesh.add(new_mesh);\r\n        // material duplicate\r\n        new_mesh.material = mesh.material.clone();\r\n        // maps array\r\n        let mprr = [\r\n            'alphaMap', 'aoMap', 'bumpMap', 'displacementMap', 'emissiveMap',\r\n            'envMap', 'lightMap', 'map', 'normalMap', 'roughnessMap'\r\n        ];\r\n        // clone maps\r\n        mprr.forEach(function(map) {\r\n            if(mesh.material[map]) {\r\n                new_mesh.material[map] = mesh.material[map].clone();\r\n                new_mesh.material[map].needsUpdate = true;\r\n            }\r\n        });\r\n        // set maps\r\n        Object.keys(data).forEach(function(key) {\r\n            if(mprr.indexOf(key) > -1) {\r\n                new_mesh.material[key].image = data[key];\r\n            } else {\r\n                new_mesh.material[key] = data[key];\r\n            }\r\n        });\r\n        // dispose function\r\n        function dispose(obj) {\r\n            mprr.forEach(function(map) {\r\n                if(obj.material[map]) {\r\n                    new_mesh.material[map].dispose();\r\n                }\r\n            });\r\n            obj.material.dispose();\r\n            obj.geometry.dispose();\r\n        };\r\n        // transparent\r\n        new_mesh.material.transparent = true;\r\n        new_mesh.material.opacity = 0;\r\n        new_mesh.material.needsUpdate = true;\r\n        // tween\r\n        a = { opacity : 0 };\r\n        b = { opacity : 1, duration : time / 1000, ease : ease };\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                // callback\r\n                mesh.material = new_mesh.material;\r\n                mesh.remove(new_mesh);\r\n                dispose(new_mesh);\r\n                back();\r\n            },\r\n            onUpdate : function() {\r\n                new_mesh.material.opacity = a.opacity;\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    }\r\n\r\n    if(type === 'VALUE') {\r\n        a = {};\r\n        b = { duration : time / 1000, ease : ease };\r\n        Object.keys(data).forEach(function(key) {\r\n            if(typeof mesh.material[key] === 'object') {\r\n                let obj = mesh.material[key];\r\n                Object.keys(obj).forEach(function(sky) {\r\n                    a[key + '.' + sky] = mesh.material[key][sky];\r\n                    b[key + '.' + sky] = data[key][sky];\r\n                });\r\n            } else {\r\n                a[key] = mesh.material[key];\r\n                b[key] = data[key];\r\n            }\r\n        });\r\n      \r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                back();\r\n            },\r\n            onUpdate : function() {\r\n                Object.keys(a).forEach(function(key) {\r\n                    if(key.indexOf('.') > -1) {\r\n                        var t = key.split('.');\r\n                        mesh.material[t[0]][t[1]] = a[key];\r\n                    } else {\r\n                        mesh.material[key] = a[key];\r\n                    }\r\n                });\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    }\r\n\r\n};\r\n\r\nlet tweenLight = function() {\r\n    var args = _args(arguments);\r\n    var lght = args.obj[0];\r\n    var data = args.obj[1];\r\n    var time = args.num[0] || 1000;\r\n    var ease = args.str[0] || 'power1';\r\n    var back = args.fun[0] || function() {};\r\n\r\n    if(Array.isArray(lght) === false) { lght = [lght]; }\r\n\r\n    lght.forEach(function(lgt, i) {\r\n        var a = {}, b = { duration : time / 1000, ease : ease };\r\n    \r\n        Object.keys(data).forEach(function(key) {\r\n            a[key] = lght[key];\r\n            b[key] = data[key];\r\n            if(a[key] === undefined) {  a[key] = 0; }\r\n        });\r\n        \r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                if(i === lght.length - 1) { back(); }\r\n            },\r\n            onUpdate : function() {\r\n                Object.keys(a).forEach(function(key) {\r\n                    lgt[key] = a[key];\r\n                });\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    });\r\n\r\n};\r\n\r\nlet tweenAnimation = function() {\r\n    let args = _args(arguments);\r\n    let mesh = args.obj[0];\r\n    let stop = args.boo[0];\r\n    let anim, time;\r\n    // select animation and speed time\r\n    if(args.obj.length === 1 && args.num.length === 2) {\r\n        anim = mesh.animations[args.num[0]];\r\n        time = args.num[1];\r\n    } else if(args.num.length === 1 && args.str.length === 1) {\r\n        anim = THREE.AnimationClip.findByName(mesh.animations, args.str[0]);\r\n        time = args.num[0];\r\n    } else if(args.str.length === 0 && args.obj.length === 2) {\r\n        anim = args.obj[1];\r\n        time = args.num[0];\r\n    } else {\r\n        anim = mesh.animations[0];\r\n        time = args.num[0];\r\n    }\r\n\r\n    let list = tweenAnimation.animations;\r\n    var uuid = mesh.uuid;\r\n    let mixr, acts;\r\n\r\n    if(time === undefined) { time = 1; }\r\n    if(stop !== undefined && list[uuid]) {\r\n        list[uuid].plays = stop;\r\n        if(stop === false) { list[uuid].clock.stop(); }\r\n        else { list[uuid].clock.start(); }\r\n        list[uuid].speed = time;\r\n        return;\r\n    }\r\n\r\n    if(list[uuid]) {\r\n        mixr = list[uuid];\r\n        mixr.speed = time;\r\n        acts = mixr.mixer.clipAction(anim);\r\n    } else {\r\n        mixr = list[uuid] = {\r\n            mixer : new THREE.AnimationMixer(mesh),\r\n            speed : time,\r\n            plays : true,\r\n            clock : new CLOCK()\r\n        };\r\n        acts = mixr.mixer.clipAction(anim);\r\n    };\r\n\r\n    mixr.clock.start();\r\n    acts.play();\r\n\r\n};\r\n\r\ntweenAnimation.animations = {};\r\ntweenAnimation.animate = function() {\r\n    requestAnimationFrame(tweenAnimation.animate);\r\n    Object.values(tweenAnimation.animations).forEach(function(obj) {\r\n        if(obj.plays) {\r\n            obj.mixer.update(obj.clock.getDelta() * obj.speed);\r\n        }\r\n    });\r\n}; tweenAnimation.animate();\r\n\r\n// ============================================================================\r\n\r\nexport {\r\n    tweenAnimation,\r\n    tweenControls,\r\n    tweenMaterial,\r\n    tweenObject,\r\n    tweenLight\r\n};","import {\r\n    checkControls,\r\n    checkConsole,\r\n    checkTransform,\r\n    checkObjects\r\n} from \"./_check\";\r\n\r\nimport {\r\n    createScene,\r\n    createEffect,\r\n    createEvent,\r\n    createLight,\r\n    createObject,\r\n    createParticles\r\n} from './_create';\r\n\r\nimport {\r\n    exportModel\r\n} from './_export';\r\n\r\nimport {\r\n    findAll,\r\n    findById,\r\n    findByName,\r\n    findByType,\r\n    findByProperty,\r\n    findByMaterialName,\r\n    findByMaterialProperty\r\n} from './_find';\r\n\r\nimport {\r\n    evalPoints\r\n} from './_eval';\r\n\r\nimport {\r\n    loadAll,\r\n    loadAjax,\r\n    loadImage,\r\n    loadBitmap,\r\n    loadModel,\r\n    loadTexture\r\n} from './_load';\r\n\r\nimport {\r\n    setupControls,\r\n    setupObject,\r\n    setupScene,\r\n    setupMaterial\r\n} from './_setup';\r\n\r\nimport {\r\n    tweenAnimation,\r\n    tweenControls,\r\n    tweenMaterial,\r\n    tweenObject,\r\n    tweenLight\r\n} from './_tween';\r\n\r\nlet threejs = {\r\n    checkControls : checkControls,\r\n    checkConsole : checkConsole,\r\n    checkTransform : checkTransform,\r\n    checkObjects : checkObjects,\r\n    exportModel : exportModel,\r\n    tweenAnimation : tweenAnimation,\r\n    createScene : createScene,\r\n    createEffect : createEffect,\r\n    createEvent : createEvent,\r\n    createObject : createObject,\r\n    createLight : createLight,\r\n    createParticles : createParticles,\r\n    evalPoints : evalPoints,\r\n    findAll : findAll,\r\n    findById : findById,\r\n    findByName : findByName,\r\n    findByType : findByType,\r\n    findByProperty : findByProperty,\r\n    findByMaterialName : findByMaterialName,\r\n    findByMaterialProperty : findByMaterialProperty,\r\n    loadAll : loadAll,\r\n    loadAjax : loadAjax,\r\n    loadImage : loadImage,\r\n    loadBitmap : loadBitmap,\r\n    loadModel : loadModel,\r\n    loadTexture : loadTexture,\r\n    setupControls : setupControls,\r\n    setupObject : setupObject,\r\n    setupScene : setupScene,\r\n    setupMaterial : setupMaterial,\r\n    tweenControls : tweenControls,\r\n    tweenMaterial : tweenMaterial,\r\n    tweenObject : tweenObject,\r\n    tweenLight : tweenLight\r\n};\r\n\r\nexport { threejs };","import { _args, EXPORTERS } from \"../import\";\r\n\r\nlet exportModel = function() {\r\n    let args = _args(arguments);\r\n    let obj = args.obj[0];\r\n    let ext = args.str[0] || 'GLTF';\r\n    let fnc = args.fun[0] || function() {};\r\n\r\n    ext = ext.toUpperCase();\r\n    function dne(blob) {\r\n        fnc(URL.createObjectURL(blob));\r\n    };\r\n\r\n    if(ext === 'USDZ') {\r\n        new EXPORTERS.USDZExporter().parse(obj).then(function(result) {\r\n            dne(new Blob([result], { type: 'application/octet-stream' }));\r\n        });\r\n    }\r\n\r\n    if(ext === 'GLTF') {\r\n        new EXPORTERS.GLTFExporter().parse(obj, function(result) {\r\n            if(result instanceof ArrayBuffer) {\r\n                dne(new Blob([result], { type: 'application/octet-stream' }));\r\n            } else {\r\n                const output = JSON.stringify( result, null, 2 );\r\n                dne(new Blob([output], { type: 'text/plain' }));\r\n            }\r\n        });\r\n    }\r\n\r\n};\r\n\r\nexport {\r\n    exportModel\r\n};","import { _args, THREE } from '../import';\r\n\r\nfunction evalPoints() {\r\n    var args = _args(arguments);\r\n    let typ = args.str[0].toUpperCase();\r\n    let obj, obj_1, obj_2, rnd, cam;\r\n    if(typ === 'BETWEEN') {\r\n        // variables\r\n        obj_1 = args.obj[0];\r\n        obj_2 = args.obj[1];\r\n        let vec_1 = obj_1;\r\n        let vec_2 = obj_2;\r\n        // get points\r\n        if(vec_1.position) { vec_1 = obj_1.position; }\r\n        if(vec_2.position) { vec_2 = obj_2.position; }\r\n        // calulation\r\n        return Math.pow(\r\n            Math.pow(vec_1.x - vec_2.x, 2) +\r\n            Math.pow(vec_1.y - vec_2.y, 2) +\r\n            Math.pow(vec_1.z - vec_2.z, 2), 0.5\r\n        );\r\n    } else if(typ === 'SCREEN') {\r\n        // variables\r\n        obj = args.obj[0];\r\n        cam = args.obj[1];\r\n        rnd = args.obj[2];\r\n        // project\r\n\r\n        // screen size\r\n        let widthHalf = rnd.domElement.width / 2;\r\n        let heightHalf = rnd.domElement.height / 2;\r\n        // position\r\n        let pos = obj.position.clone();\r\n        pos.project(cam);\r\n        pos.x = + (pos.x * widthHalf)  + widthHalf;\r\n        pos.y = - (pos.y * heightHalf) + heightHalf;\r\n\r\n        return pos;\r\n    } else if(typ === 'WORLD') {\r\n        let rnd = args.obj[0];\r\n        let cam = args.obj[1];\r\n        let obj = args.obj[2];\r\n        let x = args.num[0];\r\n        let y = args.num[1];\r\n\r\n        // positions\r\n        let sz = rnd.domElement.getBoundingClientRect();\r\n\r\n        let xy = new THREE.Vector2();\r\n        xy.x = +(x / sz.width) * 2 - 1;\r\n        xy.y = -(y / sz.height) * 2 + 1;\r\n\r\n        // raycaster\r\n        let caster = new THREE.Raycaster();\r\n        caster.setFromCamera(xy, cam);\r\n\r\n        if(Array.isArray(obj) === false) { obj = [obj]; }\r\n\r\n        return caster.intersectObjects(obj);\r\n    }\r\n};\r\n\r\nexport {\r\n    evalPoints\r\n};","import {\r\n    _args\r\n} from '../import';\r\n\r\n// ==========================================================================\r\n\r\nlet findAll = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        out.push(obj);\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n    return out;\r\n};\r\n\r\nlet findById = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var name  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.uuid === name) {\r\n            out.push(obj);\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByName = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var name  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.name === name) {\r\n            out.push(obj);\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByMaterialName = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var name  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.material !== undefined) {\r\n            if(obj.material.name === name) {\r\n                out.push(obj);\r\n            }\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByType = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var type  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.type === type) {\r\n            out.push(obj);\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByProperty = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var data  = args.obj[1];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        Object.keys(data).forEach(function(key) {\r\n            if(obj[key] === data[key]) { out.push(obj); }\r\n        });\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByMaterialProperty = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var data  = args.obj[1];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.material !== undefined) {\r\n            Object.keys(data).forEach(function(key) {\r\n                if(obj.material[key] === data[key]) { out.push(obj); }\r\n            });\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\n// ==========================================================================\r\n\r\nexport {\r\n    findAll,\r\n    findById,\r\n    findByName,\r\n    findByType,\r\n    findByProperty,\r\n    findByMaterialName,\r\n    findByMaterialProperty\r\n};","import { threejs } from './index';\r\nimport { _args, THREE } from '../import';\r\n\r\n// ============================================================================\r\n\r\nlet setupObject = function() {\r\n    var args = _args(arguments);\r\n    var objs = args.obj[0];\r\n    var data = args.obj[1];\r\n    if(Array.isArray(objs) === false) { objs = [objs];  }\r\n\r\n    var orr = ['position', 'rotation', 'scale'];\r\n\r\n    objs.forEach(function(obj) {\r\n        Object.keys(data).forEach(function(key) {\r\n            if(orr.indexOf(key) > -1) {\r\n                if(data[key].x !== undefined) { obj[key].x = data[key].x; }\r\n                if(data[key].y !== undefined) { obj[key].y = data[key].y; }\r\n                if(data[key].z !== undefined) { obj[key].z = data[key].z; }\r\n            } else {\r\n                obj[key] = data[key];\r\n            }\r\n        });\r\n    });\r\n\r\n    if(objs.length === 1) { return objs[0]; }\r\n    else { return objs; }\r\n};\r\n\r\nlet setupMaterial = function() {\r\n    var args = _args(arguments);\r\n    var mats = args.obj[0];\r\n    var data = args.obj[1];\r\n    var txar = [\r\n        'alphaMap', 'aoMap', 'bumpMap', 'displacementMap', 'emissiveMap',\r\n        'envMap', 'lightMap', 'map', 'normalMap', 'roughnessMap'\r\n    ];\r\n    var clar = [\r\n        'color', 'emissive', 'specular'\r\n    ];\r\n    if(Array.isArray(mats) === false) { mats = [mats];  }\r\n    mats.forEach(function(mat) {\r\n        Object.keys(data).forEach(function(key) {\r\n            if(clar.indexOf(key) > -1) {\r\n                // color\r\n                mat[key] = new THREE.Color(data[key]);\r\n            } else if(txar.indexOf(key) > -1 && typeof data[key] === 'string') {\r\n                // texture url\r\n                mat[key] = threejs.loadTexture(data[key]);\r\n            } else {\r\n                mat[key] = data[key];\r\n            }\r\n        });\r\n    });\r\n\r\n    if(mats.length === 1) { return mats[0]; }\r\n    else { return mats; }\r\n};\r\n\r\nlet setupScene = function() {\r\n    var args = _args(arguments);\r\n    var renderer = args.obj[0];\r\n    var camera   = args.obj[1];\r\n    var composer = args.obj.splice(2);\r\n    var width    = args.num[0] || window.innerWidth;\r\n    var height   = args.num[1] || window.innerHeight;\r\n    renderer.setSize(width, height);\r\n    composer.forEach(function(c) { c.setSize(width, height); })\r\n    camera.aspect = width / height;\r\n    camera.updateProjectionMatrix();\r\n};\r\n\r\nlet setupControls = function() {\r\n    var args = _args(arguments);\r\n    var type     = args.str[0].toUpperCase();\r\n    var controls = args.obj[0];\r\n    var target, position, options;\r\n    // pivot controls\r\n    if(type === 'SHOOT') {\r\n        options  = args.obj[1] || {};\r\n        position = args.obj[2] || { x : 0, y : 0, z : 0 };\r\n\r\n        controls.target.set(\r\n            position.x,\r\n            position.y,\r\n            position.z\r\n        );\r\n        controls.object.position.set(\r\n            position.x,\r\n            position.y,\r\n            position.z + 0.01\r\n        );\r\n        controls.enableZoom  = false;\r\n        controls.rotateSpeed = -0.3;\r\n    }\r\n    // pivot controls\r\n    if(type === 'ORBIT') {\r\n        target   = args.obj[1] || { x : 0, y : 0, z : 0 };\r\n        position = args.obj[2] || { x : 0, y : 0, z : 0 };\r\n        options  = args.obj[3] || {};\r\n\r\n        controls.target.set(\r\n            target.x,\r\n            target.y,\r\n            target.z\r\n        );\r\n        controls.object.position.set(\r\n            position.x,\r\n            position.y,\r\n            position.z\r\n        );\r\n        controls.enableZoom  = true;\r\n        controls.rotateSpeed = 1;\r\n    }\r\n    // exact controls\r\n    if(type === 'EXACT') {\r\n        target   = args.obj[1] || { x : 0, y : 0, z : 0 };\r\n        position = args.obj[2] || { x : 0, y : 0, z : 0 };\r\n        options  = args.obj[3] || {};\r\n\r\n        controls.target.set(\r\n            target.x,\r\n            target.y,\r\n            target.z\r\n        );\r\n        controls.object.position.set(\r\n            position.x,\r\n            position.y,\r\n            position.z\r\n        );\r\n        controls.enableZoom  = false;\r\n        controls.rotateSpeed = -0.3;\r\n    }\r\n\r\n    // manual props\r\n    Object.keys(options).forEach(function(opt) {\r\n        controls[opt] = options[opt];\r\n    });\r\n\r\n    controls.update();\r\n};\r\n\r\n// ============================================================================\r\n\r\nexport {\r\n    setupControls,\r\n    setupObject,\r\n    setupScene,\r\n    setupMaterial\r\n};","import { THREE } from '../import';\r\n\r\nlet XRWebGLLayer = window.XRWebGLLayer;\r\n\r\nlet checkAvailability = async (onSupport, onError) => {\r\n    // each state check\r\n    var req_1 = navigator.xr;\r\n    var req_2 = navigator.xr.isSessionSupported;\r\n    var req_3 = await navigator.xr.isSessionSupported(\"immersive-ar\");\r\n    if(req_1 && req_2 && req_3) {\r\n        onSupport();\r\n    } else { onError(); }\r\n};\r\n\r\n// request API session\r\nlet requestSession = async (element, callback) => {\r\n    try {\r\n        // initalize XR session\r\n        const session = await navigator.xr.requestSession(\"immersive-ar\", {\r\n            requiredFeatures : ['hit-test', 'dom-overlay'],\r\n            domOverlay : { root : element }\r\n        });\r\n        // next step\r\n        configureCanvas(element, session, callback);\r\n    } catch(e) { console.error(e); }\r\n};\r\n\r\n// create canvas and configure context\r\nlet configureCanvas = async (element, session, callback) => {\r\n    const canvas = document.createElement(\"canvas\");\r\n    const context = canvas.getContext(\"webgl\", { xrCompatible : true });\r\n    session.updateRenderState({\r\n      baseLayer : new XRWebGLLayer(session, context)\r\n    });\r\n    // next step\r\n    await configureScene(\r\n        element,\r\n        session,\r\n        canvas,\r\n        context,\r\n        callback\r\n    );\r\n};\r\n\r\n// create Three.js modules and connect with context\r\nlet configureScene = async (element, session, canvas, context, callback) => {\r\n    const scene  = new THREE.Scene();\r\n    const camera = new THREE.PerspectiveCamera();\r\n    camera.matrixAutoUpdate = false;\r\n    const renderer = new THREE.WebGLRenderer({\r\n        alpha   : true,\r\n        preserveDrawingBuffer : true,\r\n        canvas  : canvas,\r\n        context : context\r\n    });\r\n\r\n    // next step\r\n    await configureLights(\r\n        element,\r\n        session,\r\n        canvas,\r\n        context,\r\n        scene,\r\n        camera,\r\n        renderer,\r\n        callback\r\n    );\r\n};\r\n\r\n// add light system to scene\r\nlet configureLights = async (element, session, canvas, context, scene, camera, renderer, callback) => {\r\n    const light = new THREE.AmbientLight(0xffffff, 0.5);\r\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.3);\r\n    directionalLight.position.set(10, 15, 10);\r\n    // We want this light to cast shadow.\r\n    directionalLight.castShadow = true;\r\n    // Make a large plane to receive our shadows\r\n    const planeGeometry = new THREE.PlaneGeometry(2000, 2000);\r\n    // Rotate our plane to be parallel to the floor\r\n    planeGeometry.rotateX(-Math.PI / 2);\r\n    // Create a mesh with a shadow material, resulting in a mesh\r\n    // that only renders shadows once we flip the `receiveShadow` property.\r\n    const shadowMesh = new THREE.Mesh(planeGeometry, new THREE.ShadowMaterial({\r\n      color: 0x111111,\r\n      opacity: 0.2,\r\n    }));\r\n    // Give it a name so we can reference it later, and set `receiveShadow`\r\n    // to true so that it can render our model's shadow.\r\n    shadowMesh.name = 'shadowMesh';\r\n    shadowMesh.receiveShadow = true;\r\n    shadowMesh.position.y = 10000;\r\n    // Add lights and shadow material to scene.\r\n    scene.add(shadowMesh);\r\n    scene.add(light);\r\n    scene.add(directionalLight);\r\n    // next step\r\n    await configureReferenceSpaces(\r\n        element,\r\n        session,\r\n        canvas,\r\n        context,\r\n        scene,\r\n        camera,\r\n        renderer,\r\n        callback\r\n    );\r\n};\r\n\r\n// strat WebXR API\r\nlet configureReferenceSpaces = async (element, session, canvas, context, scene, camera, renderer, callback) => {\r\n    // Setup an XRReferenceSpace using the \"local\" coordinate system.\r\n    const localReferenceSpace = await session.requestReferenceSpace('local');\r\n    // Create another XRReferenceSpace that has the viewer as the origin.\r\n    const viewerSpace = await session.requestReferenceSpace('viewer');\r\n    // Perform hit testing using the viewer as origin.\r\n    const hitTestSource = await session.requestHitTestSource({\r\n        space : viewerSpace\r\n    });\r\n    // next step\r\n    await callback({\r\n        element : element,\r\n        session : session,\r\n        canvas : canvas,\r\n        context : context,\r\n        scene : scene,\r\n        camera : camera,\r\n        renderer : renderer,\r\n        localReferenceSpace : localReferenceSpace,\r\n        viewerSpace : viewerSpace,\r\n        hitTestSource : hitTestSource\r\n    });\r\n};\r\n\r\nlet renderLoop = function(obj, onHitPoseUpdate = function() {}) {\r\n    \r\n    let session = obj.session;\r\n    let scene = obj.scene;\r\n    let camera = obj.camera;\r\n    let renderer = obj.renderer;\r\n    let context = obj.context;\r\n    let localReferenceSpace = obj.localReferenceSpace;\r\n    let hitTestSource = obj.hitTestSource;\r\n    \r\n    \r\n    function render(time, frame) {\r\n        session.requestAnimationFrame(render);\r\n        // bind the graphics framebuffer to the baseLayer's framebuffer.\r\n        const framebuffer = session.renderState.baseLayer.framebuffer;\r\n        context.bindFramebuffer(context.FRAMEBUFFER, framebuffer);\r\n        // get pose of the device\r\n        const pose = frame.getViewerPose(localReferenceSpace);\r\n        if(pose) {\r\n            const view = pose.views[0];\r\n            const viewport = session.renderState.baseLayer.getViewport(view);\r\n            renderer.setSize(viewport.width, viewport.height)\r\n            // update camera\r\n            camera.matrix.fromArray(view.transform.matrix)\r\n            camera.projectionMatrix.fromArray(view.projectionMatrix);\r\n            camera.updateMatrixWorld(true);\r\n            // get retical hit result\r\n            const hitTestResults = frame.getHitTestResults(hitTestSource);\r\n            if(hitTestResults.length > 0) {\r\n            const hitPose = hitTestResults[0].getPose(localReferenceSpace);\r\n                // callback position\r\n                onHitPoseUpdate(hitPose);\r\n            }\r\n            // render to canvas\r\n            renderer.render(scene, camera);\r\n        }\r\n    };\r\n    // frame request loop\r\n    session.requestAnimationFrame(render);\r\n};\r\n\r\nlet immersivear = {\r\n    checkAvailability,\r\n    requestSession,\r\n    renderLoop\r\n};\r\n\r\nexport { immersivear };","//import { _args } from '../import';\r\nimport './index.css';\r\n\r\nlet _args = function(arr) {\r\n\tvar out = { \"obj\" : [], \"str\" : [], \"num\" : [], \"fun\" : [], \"boo\" : [] };\r\n\tif(arr === undefined) { return out; }\r\n\tfor(var i = 0; i < arr.length; i++) {\r\n\t\tvar arg = arr[i];\r\n\t\tvar typ = (typeof arg).substr(0, 3);\r\n\t\tif(out[typ] === undefined) { out[typ] = []; }\r\n\t\tout[typ].push(arg);\r\n\t}\r\n\treturn out;\r\n};\r\n\r\n\r\n// import model-viewer script once\r\nlet initialize = function() {\r\n    if(initialize.done) { return; }\r\n    let e = document.createElement('script');\r\n    //let j = 'https://unpkg.com/@google/model-viewer@1.8.0/dist/model-viewer-umd.js';\r\n    let j = 'libs/model-viewer-umd.js';\r\n    e.setAttribute('src', j);\r\n    document.head.appendChild(e);\r\n    initialize.done = true;\r\n}; initialize.done = false;\r\n\r\nlet createView = function() {\r\n    // initialize\r\n    //initialize();\r\n    let args = _args(arguments);\r\n    let source = args.obj[0] || {};\r\n    // create element\r\n    let mv = document.createElement('model-viewer');\r\n    // sources\r\n    mv.setAttribute('src', source.src);\r\n    mv.setAttribute('ios-src', source.ios);\r\n    // options\r\n    mv.setAttribute('ar', true);\r\n    mv.setAttribute('ar-modes', 'webxr');\r\n    mv.setAttribute('ar-placement', 'floor');\r\n    mv.setAttribute('camera-controls', true);\r\n    return mv;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet modelviewer = {\r\n    createView\r\n};\r\n\r\nexport { modelviewer };","import { _args } from '../import';\r\n\r\nlet eighthwall = {};\r\n\r\neighthwall['defKey'] = 'wKxXNqnWJdnghWrHvYPiJXcN1RxZEyYvYX6dh'\r\n                     + 'io0pdWbrWh1dJK7kQPo4Z0OIeimYYEqkw';\r\n\r\neighthwall.request = function() {\r\n    // values\r\n    let args = _args(arguments);\r\n    let key = args.str[0] || eighthwall.defKey;\r\n    let fnc = args.fun[0] || function() {};\r\n    // script element\r\n    let elm = document.createElement('script');\r\n    elm.setAttribute('src', '//apps.8thwall.com/xrweb?appKey=' + key);\r\n    elm.addEventListener('load', function() {\r\n        let wxr = document.querySelector('script[async]');\r\n        wxr.addEventListener('load', function() {\r\n            eighthwall['XR8'] = window['XR8'];\r\n            fnc(window['XR8']);\r\n        });\r\n    });\r\n    document.head.appendChild(elm);\r\n};\r\n\r\nexport { eighthwall };","import { threejs } from './three.js';\r\nimport { immersivear } from './immersive-ar';\r\nimport { modelviewer } from './model-viewer';\r\nimport { eighthwall } from './eighth-wall';\r\n\r\nimport {\r\n    THREE,\r\n    GSAP,\r\n    GUI,\r\n    POSTPROCESSING,\r\n    SHADERS,\r\n    LOADERS,\r\n    CONTROLS,\r\n    CLOCK,\r\n    createElement\r\n} from './import';\r\n\r\nlet TrinityEngine = {\r\n    \"three.js\" : threejs,\r\n    \"immersive-ar\" : immersivear,\r\n    \"model-viewer\" : modelviewer,\r\n    \"eighth-wall\" : eighthwall\r\n};\r\n\r\n// ================================================================================\r\n\r\nfunction addEventList() {\r\n\tlet arg = Array.from(arguments);\r\n\tlet obj = arg[0];\r\n\tlet arr = arg.splice(1, arg.length - 2);\r\n\tlet fnc = arg.pop();\r\n\tif(typeof obj === 'string') { obj = document.querySelector(obj); }\r\n\tarr.forEach(function(typ) {\r\n\t\tobj.addEventListener(typ, fnc);\r\n\t});\r\n};\r\n\r\nfunction querySelector(e) {\r\n    return document.querySelector(e);\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport {\r\n    TrinityEngine,\r\n    THREE,\r\n    GSAP,\r\n    GUI,\r\n    POSTPROCESSING,\r\n    SHADERS,\r\n    LOADERS,\r\n    CONTROLS,\r\n    CLOCK,\r\n    createElement,\r\n    addEventList,\r\n    querySelector\r\n};","let structure = {};\r\n\r\nstructure['backgrounds'] = {\r\n    'Blue'  : '#023d4f',\r\n    'Green' : '#194d33',\r\n    'Red'   : '#800000'\r\n}\r\n\r\nstructure['items'] = {};\r\n\r\n\r\nstructure['items']['T-Shirt & Skirt'] = {\r\n\r\n    imglink : 'models/suits/skirt_and_t_shirt/scene.png',\r\n\r\n    preload : {\r\n        source : 'models/suits/skirt_and_t_shirt/scene.gltf',\r\n\t\tposits : {\r\n\t\t\tscale    : { x : 1, y : 1, z : 1 },\r\n\t\t\tposition : { x : 0, y : 0, z : 0 }\r\n\t\t},\r\n\t\tlights : { direct  : 0.4, ambient : 0.1 }\r\n    },\r\n\r\n    configs : {\r\n\r\n        \"Shirt\" : {\r\n            mesh : ['Object_5', 'Object_3'],\r\n            crnt : null,\r\n            list : {\r\n                'Black' : { color : '#000000', colorThumb : '#222' },\r\n                'Blue'  : { color : '#141439' },\r\n                'Green' : { color : '#003300' },\r\n                'Brwon' : { color : '#330000' }\r\n            }\r\n        },\r\n\r\n        \"Skirt\" : {\r\n            mesh : ['Object_4'],\r\n            crnt : null,\r\n            list : {\r\n                'White Dots' : {\r\n                    imageThumb : 'models/suits/skirt_and_t_shirt/skirt_mat_1.png',\r\n                    image : 'models/suits/skirt_and_t_shirt/skirt_mat_1.png'\r\n                },\r\n                'Design #1' : {\r\n                    imageThumb : 'models/suits/skirt_and_t_shirt/skirt_mat_2.png',\r\n                    image : 'models/suits/skirt_and_t_shirt/skirt_mat_2.png'\r\n                },\r\n                'Design #2' : {\r\n                    imageThumb : 'models/suits/skirt_and_t_shirt/skirt_mat_3.png',\r\n                    image : 'models/suits/skirt_and_t_shirt/skirt_mat_3.png'\r\n                },\r\n                'Sunflowers' : {\r\n                    imageThumb : 'models/suits/skirt_and_t_shirt/skirt_mat_4.png',\r\n                    image : 'models/suits/skirt_and_t_shirt/skirt_mat_4.png'\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n};\r\n\r\n\r\nstructure['items']['Jacket, Pants & Shoes'] = {\r\n\r\n    imglink : 'models/suits/shirt_and_pants/scene.png',\r\n\r\n    preload : {\r\n        source : 'models/suits/shirt_and_pants/scene.gltf',\r\n\t\tposits : {\r\n\t\t\tscale    : { x : 1.9, y : 1.9, z : 1.9 },\r\n\t\t\tposition : { x : 0, y : -1.4, z : 0 }\r\n\t\t},\r\n\t\tlights : { direct  : 1, ambient : 2 }\r\n    },\r\n\r\n    configs : {\r\n\r\n        \"Jacket\" : {\r\n            mesh : ['default007_0'],\r\n            crnt : null,\r\n            list : {\r\n                'Brown' : {\r\n\t\t\t\t\tcolorThumb : '#736555',\r\n\t\t\t\t\timage : 'models/suits/shirt_and_pants/jacket_1.png'\r\n\t\t\t\t},\r\n                'Green' : {\r\n\t\t\t\t\tcolorThumb : '#577256',\r\n\t\t\t\t\timage : 'models/suits/shirt_and_pants/jacket_2.png' },\r\n                'Black' : {\r\n\t\t\t\t\tcolorThumb : '#181517',\r\n\t\t\t\t\timage : 'models/suits/shirt_and_pants/jacket_3.png'\r\n\t\t\t\t}\r\n            }\r\n        },\r\n\r\n        \"Pants\" : {\r\n            mesh : ['default004_0'],\r\n            crnt : null,\r\n            list : {\r\n                'Blue' : {\r\n\t\t\t\t\tcolorThumb : '#2c2f5d',\r\n\t\t\t\t\timage : 'models/suits/shirt_and_pants/pants_1.png'\r\n\t\t\t\t},\r\n                'Yellow' : {\r\n\t\t\t\t\tcolorThumb : '#6c6b53',\r\n\t\t\t\t\timage : 'models/suits/shirt_and_pants/pants_2.png'\r\n\t\t\t\t},\r\n                'Pink' : {\r\n\t\t\t\t\tcolorThumb : '#734749',\r\n\t\t\t\t\timage : 'models/suits/shirt_and_pants/pants_3.png'\r\n\t\t\t\t},\r\n                'Black' : {\r\n\t\t\t\t\tcolorThumb : '#181517',\r\n\t\t\t\t\timage : 'models/suits/shirt_and_pants/pants_4.png'\r\n\t\t\t\t}\r\n            }\r\n        },\r\n\r\n        \"Shoes\" : {\r\n            mesh : ['default002_0'],\r\n            crnt : null,\r\n            list : {\r\n                'Brown' : {\r\n\t\t\t\t\tcolorThumb : '#301c0d',\r\n\t\t\t\t\timage : 'models/suits/shirt_and_pants/shoes_1.png'\r\n\t\t\t\t},\r\n                'Gray' : {\r\n\t\t\t\t\tcolorThumb : '#212223',\r\n\t\t\t\t\timage : 'models/suits/shirt_and_pants/shoes_2.png'\r\n\t\t\t\t}\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nObject.values(structure.items).forEach(function(obj) {\r\n\tObject.values(obj.configs).forEach(function(cog) {\r\n\t\tcog.crnt = Object.keys(cog.list)[0];\r\n\t});\r\n});\r\n\r\nexport default structure;","import { TrinityEngine, THREE, createElement } from \"../engine\";\r\nimport \"./index.css\"\r\n\r\n// prevent context menu\r\nwindow.addEventListener('contextmenu', function(e) {\r\n    e.preventDefault();\r\n    return false;\r\n});\r\n\r\nlet GL = TrinityEngine[\"three.js\"];\r\n\r\nlet Arimac = {};\r\n\r\n// setup and create elements\r\nArimac.start = function(loadColor, logoColor, callback) {\r\n\r\n    // store colors\r\n    loadColor = loadColor.toUpperCase().substr(0, 4);\r\n    logoColor = logoColor.toUpperCase().substr(0, 4);\r\n    function getLogo() {\r\n        return 'arimac_logo ' + {\r\n            '#FFF' : 'arimac_logo_white',\r\n            '#000' : 'arimac_logo_black'\r\n        }[logoColor];\r\n    };\r\n    // create elements\r\n    createElement('arimac_load', '', '#root');\r\n    createElement(getLogo(), '', '#root');\r\n\r\n    startLoading(loadColor, callback);\r\n};\r\n\r\nlet modules = GL.createScene(160, 160, false);\r\n\r\nmodules.isLoading = true;\r\nmodules.controls.enabled = false;\r\n\r\nfunction render() {\r\n    requestAnimationFrame(render);\r\n    if(modules.isLoading && modules.logo) {\r\n        modules.renderer.render(modules.scene, modules.camera);\r\n        let r = modules.logo.rotation;\r\n        let y = r.y % (Math.PI * 2);\r\n        let speed = 0.03;\r\n        if(y > 0.3 && y < 5.8) { speed = 0.07; }\r\n        modules.logo.rotation.y += speed;\r\n    }\r\n}; render();\r\n\r\nmodules.scene.add(new THREE.AmbientLight(0xffffff, 0.7));\r\n\r\nfunction startLoading(color, callback = function() {}) {\r\n    // elements and modules setup\r\n    modules.scene.background = new THREE.Color(color);\r\n    modules.root = document.querySelector('.arimac_load');\r\n    modules.root.style.background = color;\r\n    modules.renderer.domElement.style.background = color;\r\n\r\n    document.querySelector('.arimac_logo').style.display = 'block';\r\n    modules.root.style.display = 'block';\r\n\r\n    let elem = document.createElement('div');\r\n    elem.className = 'arimac_lval';\r\n    modules.root.appendChild(elem);\r\n    \r\n    if(color === '#FFF') {\r\n        modules.root.setAttribute('class', 'arimac_load arimac_load_white');\r\n    }\r\n    // load logo model\r\n    GL.loadModel('models/arimac/logo.fbx', function(logo) {\r\n        modules.root.appendChild(modules.renderer.domElement);\r\n        modules.logo = logo;\r\n        modules.logo.rotation.y = 5.8;\r\n        modules.scene.add(logo);\r\n        modules.logo.scale.set(0.2, 0.2, 0.2);\r\n        modules.isLoading = true;\r\n        if(color === '#FFF') {\r\n            logo.children[0].material[1].color = new THREE.Color('#131313');\r\n        }\r\n        callback();\r\n    });\r\n};\r\n\r\nArimac.updateLoading = function(value) {\r\n    // element select\r\n    let elem = document.querySelector('.arimac_load>.arimac_lval');\r\n    // update\r\n    elem.innerHTML = 'Loading... ' + value + '%';\r\n    // check end\r\n    if(value >= 100) { Arimac.endLoading(); }\r\n};\r\n\r\nArimac.endLoading = function(callback = function() {}) {\r\n    let root = document.querySelector('.arimac_load');\r\n    setTimeout(function() {\r\n        root.style.opacity = 0;\r\n        setTimeout(function() {\r\n            root.style.display = 'none'; callback();\r\n        }, 300);\r\n    }, 1000); \r\n}\r\n\r\nexport default Arimac;","import { Component } from \"react\";\nimport \"./App.css\";\nimport \"./bin/gride.css\";\nimport { TrinityEngine, THREE, addEventList } from \"../engine\";\nimport structure from './bin/structure.js';\nimport Arimac from '../arimac';\n\nlet GL = TrinityEngine[\"three.js\"];\n\nclass App extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\titemID : Object.keys(structure.items)[0],\n\t\t\teditID : firstConfig(Object.keys(structure.items)[0])\n\t\t};\n\t\tthis.setItem = this.setItem.bind(this);\n\t\tthis.setEdit = this.setEdit.bind(this);\n\t};\n\n\tcomponentDidMount() {\n\t\tArimac.start('#FFF', '#000');\n\t\tlet root = document.querySelector('#root');\n\t\tmodules.renderer.domElement.className = 'canvas';\n\t\troot.appendChild(modules.renderer.domElement);\n\t\tloadItem(this.state);\n\t};\n\n\tsetItem(e) {\n\n\t\tObject.values(structure.items).forEach(function(obj) {\n\t\t\tObject.values(obj.configs).forEach(function(cog) {\n\t\t\t\tcog.crnt = Object.keys(cog.list)[0];\n\t\t\t});\n\t\t});\n\n\t\tlet name = e.target.lang;\n\n\t\tthis.setState({ itemID : name, editID : firstConfig(name) }, function() {\n\t\t\tloadItem(this.state);\n\t\t});\n\t};\n\n\tsetEdit(e) {\n\n\t\tif(loading) { return; }\n\n\t\tlet obj = e.target;\n\t\tlet _this = this;\n\t\tlet edit = obj.getAttribute('edit');\n\t\tlet name = obj.getAttribute('name');\n\t\tstructure.items[this.state.itemID].configs[edit].crnt = name;\n\t\tthis.setState({ editID : name }, function() {\n\t\t\tupdateModel(_this.state.itemID, edit, name)\n\t\t});\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"loading\"></div>\n\t\t\t\t<div className=\"configPanel\">\n\t\t\t\t\t<div className=\"itemsPanel\">{ buildItemsPanel(this) }</div>\n\t\t\t\t\t<div className=\"editsPanel\">{ buildEditsPanel(this) }</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t};\n\n};\n\nlet loading = true;\n\nlet firstConfig = function(name) {\n\treturn Object.keys(structure.items[name].configs)[0];\n};\n\nlet buildItemsPanel = function(_this) {\n\tlet sta = _this.state;\n\tlet out = [];\n\tObject.keys(structure.items).forEach(function(name, i) {\n\t\tlet className = 'item';\n\t\tif(name === sta.itemID) { className = 'item itemOpened' };\n\t\tlet itemImage = 'url('+ structure.items[name].imglink +')';\n\t\tout.push(\n\t\t\t<div\n\t\t\t\tkey={ i }\n\t\t\t\tlang={ name }\n\t\t\t\ttitle={ name }\n\t\t\t\tclassName={ className }\n\t\t\t\tonClick={ _this.setItem }\n\t\t\t\tstyle={ { backgroundImage : itemImage } }\n\t\t\t></div>\n\t\t);\n\t});\n\treturn out;\n};\n\nlet buildEditsPanel = function(_this) {\n\tlet sta = _this.state;\n\tlet obj = structure.items[sta.itemID].configs;\n\tlet out = [];\n\tObject.keys(obj).forEach(function(edit, i) {\n\t\tout.push(\n\t\t\t<div className=\"sect\" key={i}>\n\t\t\t\t<div className=\"sectBar\">{ edit }</div>\n\t\t\t\t<div className=\"sectBox\">\n\t\t\t\t\t{ buildEditItems(_this, edit) }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t});\n\treturn out;\n};\n\nlet buildEditItems = function(_this, edit) {\n\tlet sta = _this.state;\n\tlet obj = structure.items[sta.itemID].configs[edit].list;\n\tlet out = [];\n\tObject.keys(obj).forEach(function(name, i) {\n\t\tlet css = { };\n\t\t\n\t\tif(obj[name].color) {\n\t\t\tcss['backgroundColor'] = obj[name].color;\n\t\t}\n\t\tif(obj[name].imageThumb) {\n\t\t\tcss['backgroundImage'] = 'url('+ obj[name].imageThumb +')';\n\t\t}\n\t\tif(obj[name].colorThumb) {\n\t\t\tcss['backgroundColor'] = obj[name].colorThumb;\n\t\t}\n\t\tlet cnm = \"item\";\n\t\tlet crnt = structure.items[sta.itemID].configs[edit].crnt\n\t\tif(name === crnt) { cnm = 'item itemOpened'; }\n\t\tif(crnt === null && i === 0) {\n\t\t\tcnm = 'item itemOpened';\n\t\t}\n\t\tout.push(\n\t\t\t<div className=\"itemName\" key={i}>\n\t\t\t<div\n\t\t\t\tclassName={cnm}\n\t\t\t\tstyle={css}\n\t\t\t\ttitle={name}\n\t\t\t\tedit={edit}\n\t\t\t\tname={name}\n\t\t\t\tonClick={_this.setEdit}\n\t\t\t></div>{ name }</div>\n\t\t);\n\t});\n\treturn out;\n};\n\n// ==========================================================================\n\nlet modules = GL.createScene();\n\naddEventList(window, 'load', 'resize', () => {\n\tlet h = window.innerHeight;\n\tlet w = h * 0.7;\n\tif(window.innerHeight > window.innerWidth) {\n\t\tw = window.innerWidth;\n\t\th = w * 0.7;\n\t}\n\tGL.setupScene(modules.renderer, modules.camera, w, h);\n});\n\nmodules['dlight'] = GL.createLight('DIRECT', 3, { x : 12, y : 12, z : 0 })\nmodules.scene.add(modules.dlight);\n\nmodules.controls.enableZoom = false;\nmodules.controls.maxPolarAngle = Math.PI / 2;\nmodules.controls.minPolarAngle = Math.PI / 2;\n\n// ==========================================================================\n\nlet dress = null;\n\nfunction loadItem(sta) {\n\tloading = true;\n\tdocument.querySelector('.loading').style.display = 'block';\n\tlet obj = structure.items[sta.itemID].preload;\n\tGL.loadModel(obj.source, function(model) {\n\t\tdisposeItem(dress);\n\t\tdress = (model);\n\t\tGL.setupObject(dress, obj.posits);\n\t\tmodules.dlight.intensity = obj.lights.direct;\n\t\tmodules.light.intensity = obj.lights.ambient;\n\t\tmodules.scene.add(dress);\n\t\twindow.dress = dress;\n\t\tloadAllBitmaps(sta.itemID);\n\t});\n};\n\nfunction updateModel(name, edit, data) {\n\tlet obj = structure.items[name].configs[edit].list[data];\n\tlet dat = {};\n\tlet mrr = structure.items[name].configs[edit].mesh;\n\tObject.keys(obj).forEach(function(key) {\n\t\tif(key === 'imageData') {\n\t\t\tdat['map'] = obj[key];\n\t\t\tdat['emissiveMap'] = obj[key];\n\t\t} else if(key === 'colorData') {\n\t\t\tdat['color']    = obj[key];\n\t\t\tdat['emissive'] = obj[key];\n\t\t}\n\t});\n\tmrr.forEach(function(name) {\n\t\tlet mesh = GL.findByName(dress, name);\n\t\tGL.tweenMaterial('CLONE', mesh, dat, 300);\n\t})\n};\n\nfunction loadAllBitmaps(name) {\n\tlet obj = structure.items[name].configs;\n\tObject.keys(obj).forEach(function(edit) {\n\t\tobj[edit].crnt = null;\n\t\tObject.values(obj[edit].list).forEach(function(itm) {\n\t\t\tif(itm.image) {\n\t\t\t\tGL.loadBitmap(itm.image, function(map) {\n\t\t\t\t\titm.imageData = map;\n\t\t\t\t\tloading = false;\n\t\t\t\t\tdocument.querySelector('.loading').style.display = 'none';\n\t\t\t\t})\n\t\t\t} else if(itm.color) {\n\t\t\t\titm.colorData = new THREE.Color(itm.color);\n\t\t\t}\n\t\t});\n\t});\n\n\tsetTimeout(Arimac.endLoading, 1000);\n\n};\n\nfunction disposeItem(obj) {\n\t// null exception\n\tif(dress === null) { return; }\n\t// remove from scene\n\tmodules.scene.remove(dress);\n\t// each child\n\tobj.children.forEach(disposeItem);\n\t// geometry\n\tif(obj.geometry && obj.geometry.dispose) { obj.geometry.dispose(); }\n\t// material and maps\n\tif(obj.material && obj.material.dispose) {\n\t\t// each map\n\t\t[ 'alphaMap', 'aoMap', 'bumpMap',\n\t\t  'displacementMap', 'emissiveMap',\n\t\t  'envMap', 'lightMap', 'map',\n\t\t  'normalMap', 'roughnessMap' ].forEach(function(map) {\n\t\t\tif(obj.material[map] && obj.material[map].dispose) {\n\t\t\t\tobj.material[map].dispose();\n\t\t\t}\n\t\t});\n\t\t// material\n\t\tobj.material.dispose();\n\t}\n};\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;","import 'react-app-polyfill/ie11';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './modules/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}