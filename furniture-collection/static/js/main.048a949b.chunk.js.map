{"version":3,"sources":["engine/import.js","engine/4.0/_create.js","engine/4.0/_load.js","engine/4.0/_tween.js","engine/4.0/index.js","engine/4.0/_find.js","engine/4.0/_setup.js","bin/setup.js","bin/logo/arimac.js","App.js","reportWebVitals.js","index.js"],"names":["POSTPROCESSING","EffectComposer","RenderPass","OutlinePass","LOADERS","GLTFLoader","FBXLoader","OBJLoader","MTLLoader","DDSLoader","CONTROLS","OrbitControls","GSAP","gsap","_args","arr","out","undefined","i","length","arg","typ","substr","push","createEvent","args","arguments","type","str","object","callback","fun","Array","isArray","list","forEach","obj","uuid","down","last","listen","modules","u","cnv","renderer","domElement","addEventListener","e","cast","event","xy","THREE","Vector2","x","clientX","window","innerWidth","y","clientY","innerHeight","caster","Raycaster","setFromCamera","camera","TrinityEngine","findByType","scene","intersectObjects","data","f","loadAll","files","progress","loaddata","mngr","check","ready","count","Object","keys","name","wait","values","isBusy","key","getFileType","path","split","toLowerCase","extn","manager","onProgress","n","resp","LoadingManager","url","ext","indexOf","toUpperCase","pop","xyzByDist","p1","p2","d","Math","pow","z","s","tweenControls","offset","time","t_0","t_1","p_0","p_1","a","b","controls","pos_1","pos_2","ease","t","target","p","position","enabled","num","duration","k","timeline","onComplete","update","onUpdate","set","fromTo","startRotation","Euler","copy","rotation","px","py","pz","tx","ty","tz","captureSpot","console","log","createScene","width","height","color","auto","boo","Scene","PerspectiveCamera","WebGLRenderer","antialias","light","createLight","composer","renderPass","addPass","setSize","add","background","Color","enablePan","autoRotate","autoRotateSpeed","enableDamping","dampingFactor","setupControls","render","requestAnimationFrame","createEffect","pass","options","w","h","opt","createObject","opts","grr","mrr","g","m","geo","vrr","mat","mesh","Mesh","setupObject","power","DirectionalLight","AmbientLight","findAll","model","recMesh","children","findById","mult","findByName","findByProperty","findByMaterialName","material","findByMaterialProperty","loadAjax","Date","now","frm","FormData","dat","JSON","stringify","append","xhr","XMLHttpRequest","open","onreadystatechange","this","readyState","status","responseText","send","loadImage","file","image","Image","crossOrigin","onload","src","loadBitmap","ImageBitmapLoader","load","bitmap","loadModel","loader","mtlfile","lastIndexOf","mtlload","materials","preload","setMaterials","traverse","child","isMesh","opacity","emissive","emissiveMap","map","loadTexture","TextureLoader","tex","wrapS","RepeatWrapping","wrapT","repeat","enableZoom","rotateSpeed","objs","orr","setupScene","aspect","updateProjectionMatrix","setupMaterial","mats","txar","tweenMaterial","back","new_mesh","clone","mprr","needsUpdate","transparent","remove","sky","tweenObject","val","axis","toLocaleLowerCase","setup","Sofas","source","scale","edits","ico","LoadingScreen","arimac","isLoading","logo","PI","speed","start","root","document","querySelector","style","elem","createElement","className","appendChild","setAttribute","setValue","value","innerHTML","setTimeout","display","end","App","props","state","category","itemname","editname","setCategory","bind","setItem","setEdit","setState","lang","isReady","last_category","last_itemname","loadFurniture","cat","utm","edt","msh","img","userData","crrEdit","onLoad","_this","crr","css","onClick","itm_name","backgroundImage","label","index","categoryList","itemList","editList","Component","q","shadowMap","setPixelRatio","devicePixelRatio","dlight","vr_obj","_vr_model","vr_tex","_vr_floor","MeshPhongMaterial","wireframe","castShadow","receiveShadow","ground","loadVRSpace","shadow","mapSize","far","maxAzimuthAngle","minAzimuthAngle","maxDistance","minDistance","maxPolarAngle","minPolarAngle","angle","getAzimuthalAngle","itm","inp","tmp","whenLoaded","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.048a949b.chunk.js","sourcesContent":["import * as THREE from \"three\";\r\nimport gsap from 'gsap';\r\nimport TWEEN from '@tweenjs/tween.js';\r\n\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader';\r\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\r\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader';\r\nimport { DDSLoader } from 'three/examples/jsm/loaders/DDSLoader';\r\n\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\n\r\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer\";\r\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass\";\r\nimport { OutlinePass } from \"three/examples/jsm/postprocessing/OutlinePass\";\r\n\r\nlet POSTPROCESSING = {\r\n    EffectComposer : EffectComposer,\r\n    RenderPass : RenderPass,\r\n    OutlinePass : OutlinePass\r\n};\r\n\r\nlet LOADERS = {\r\n    GLTFLoader : GLTFLoader,\r\n    FBXLoader : FBXLoader,\r\n    OBJLoader : OBJLoader,\r\n    MTLLoader : MTLLoader,\r\n    DDSLoader : DDSLoader\r\n}\r\n\r\nlet CONTROLS = {\r\n    OrbitControls : OrbitControls\r\n}\r\n\r\nlet GSAP = gsap;\r\n\r\nlet _args = function(arr) {\r\n\tvar out = { \"obj\" : [], \"str\" : [], \"num\" : [], \"fun\" : [], \"boo\" : [] };\r\n\tif(arr === undefined) { return out; }\r\n\tfor(var i = 0; i < arr.length; i++) {\r\n\t\tvar arg = arr[i];\r\n\t\tvar typ = (typeof arg).substr(0, 3);\r\n\t\tif(out[typ] === undefined) { out[typ] = []; }\r\n\t\tout[typ].push(arg);\r\n\t}\r\n\treturn out;\r\n};\r\n\r\nexport {\r\n    THREE,\r\n    LOADERS,\r\n    CONTROLS,\r\n    POSTPROCESSING,\r\n    GSAP,\r\n    TWEEN,\r\n    _args\r\n};","import { TrinityEngine } from './index';\r\nimport {\r\n    THREE,\r\n    POSTPROCESSING,\r\n    CONTROLS,\r\n    _args\r\n} from '../import';\r\n\r\n// ==========================================================================\r\n\r\nlet createScene = function() {\r\n    var args = _args(arguments);\r\n    var width  = args.num[0] || window.innerWidth;\r\n    var height = args.num[1] || window.innerHeight;\r\n    var color  = args.str[0] || '#000';\r\n    var auto   = args.boo[0];\r\n    // modules\r\n    var scene    = new THREE.Scene();\r\n    var camera   = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);\r\n    var renderer = new THREE.WebGLRenderer({ antialias : true });\r\n    var controls = new CONTROLS.OrbitControls(camera, renderer.domElement);\r\n    var light    = TrinityEngine.createLight('AMBIENT', 0xffffff);\r\n    // post processing\r\n    var composer   = new POSTPROCESSING.EffectComposer(renderer);\r\n    var renderPass = new POSTPROCESSING.RenderPass(scene, camera);\r\n    composer.addPass(renderPass);\r\n    composer.setSize(width, height);\r\n    scene.add(light);\r\n\r\n    // setup\r\n    scene.background = new THREE.Color(color);\r\n    controls.enablePan       = false;\r\n    controls.autoRotate      = false;\r\n    controls.autoRotateSpeed = 0.8;\r\n    controls.enableDamping   = true;\r\n    controls.dampingFactor   = 0.1;\r\n    renderer.setSize(width, height);\r\n    TrinityEngine.setupControls('ORBIT', controls,\r\n        { x : 0, y : 0, z : 5 },\r\n        { x : 0, y : 0, z : 0 }\r\n    );\r\n\r\n    // render\r\n    if(auto !== false) {\r\n        function render() {\r\n            requestAnimationFrame(render);\r\n            controls.update();\r\n            composer.render();\r\n        }; render();\r\n    }\r\n\r\n    let modules = {\r\n        scene      : scene,\r\n        camera     : camera,\r\n        renderer   : renderer,\r\n        controls   : controls,\r\n        composer   : composer,\r\n        renderPass : renderPass,\r\n        light      :light\r\n    };\r\n\r\n    // user events init\r\n    createEvent.listen(modules);\r\n\r\n    // return\r\n    return modules;\r\n};\r\n\r\n// ==========================================================================\r\n\r\nlet createEffect = function() {\r\n    var args = _args(arguments);\r\n    var name     = args.str[0].toUpperCase();\r\n    var scene    = args.obj[0];\r\n    var camera   = args.obj[1];\r\n    var composer = args.obj[2];\r\n    var options  = args.obj[3] || {};\r\n\r\n    var pass;\r\n    var w = composer.renderer.domElement.width;\r\n    var h = composer.renderer.domElement.height;\r\n    // select pass\r\n    if(name === 'OUTLINE') {\r\n        pass = new POSTPROCESSING.OutlinePass(new THREE.Vector2(w, h), scene, camera);\r\n    } else {\r\n        return null;\r\n    }\r\n    // options\r\n    Object.keys(options).forEach(function(opt) {\r\n        if(opt === 'visibleEdgeColor') {\r\n            pass[opt].set(options[opt]);\r\n        } else {\r\n            pass[opt] = options[opt];\r\n        }\r\n    });\r\n\r\n    composer.addPass(pass);\r\n    return pass;\r\n};\r\n\r\n// ==============================================================================\r\n\r\nlet createEvent = function() {\r\n    var args = _args(arguments);\r\n    var type     = args.str[0];\r\n    var object   = arguments[1];\r\n    var callback = args.fun[0];\r\n\r\n    if(Array.isArray(object) === false) {\r\n        object = [object];\r\n    }\r\n\r\n    var arr = createEvent.list;\r\n    object.forEach(function(obj) {\r\n        if(arr[type]) {\r\n            if(arr[type][obj.uuid] === undefined) {\r\n                arr[type][obj.uuid] = [];\r\n            }\r\n            arr[type][obj.uuid].push(callback);\r\n        }\r\n    });\r\n\r\n};\r\n\r\ncreateEvent.list = {\r\n    'click'      : {},\r\n    'mousedown'  : {},\r\n    'mouseup'    : {},\r\n    'mousemove'  : {},\r\n    'mouseenter' : {},\r\n    'mouseleave' : {}\r\n};\r\n\r\ncreateEvent.down = false;\r\n\r\ncreateEvent.last = { object : {} };\r\n\r\ncreateEvent.listen = function(modules) {\r\n    let u = createEvent;\r\n    let cnv = modules.renderer.domElement;\r\n    cnv.addEventListener('mousedown', function(e) {\r\n        u.down = true;\r\n        // mousedown\r\n        var obj = createEvent.cast(e, modules);\r\n        if(obj === null) { return; }\r\n        else { createEvent.callback('mousedown', obj, e); }\r\n    });\r\n    cnv.addEventListener('mousemove', function(e) {\r\n        u.down = false;\r\n        if(u.down === false) {\r\n            // mousemove\r\n            var obj = createEvent.cast(e, modules);\r\n            if(obj === null) { return; }\r\n            else {\r\n                createEvent.callback('mousemove', obj, e);\r\n                if(u.last.object.uuid !== obj.object.uuid) {\r\n                    // mouseleave\r\n                    createEvent.callback('mouseleave', u.last, e);\r\n                    u.last = obj;\r\n                    // mouseenter\r\n                    createEvent.callback('mouseenter', obj, e);\r\n                };\r\n            }\r\n        }\r\n    });\r\n    cnv.addEventListener('mouseup', function(e) {\r\n        if(u.down) {\r\n            // click\r\n            var obj = createEvent.cast(e, modules);\r\n            if(obj === null) { return; }\r\n            else { createEvent.callback('click', obj, e); }\r\n        }\r\n        u.down = false;\r\n    });\r\n};\r\n\r\ncreateEvent.cast = function(event, modules) {\r\n    // positions\r\n    let xy = new THREE.Vector2();\r\n    xy.x = +(event.clientX /  window.innerWidth) * 2 - 1;\r\n    xy.y = -(event.clientY / window.innerHeight) * 2 + 1;\r\n    // raycaster\r\n    let caster = new THREE.Raycaster();\r\n    caster.setFromCamera(xy, modules.camera);\r\n    let arr = TrinityEngine.findByType(modules.scene, 'Mesh', true);\r\n    let out = caster.intersectObjects(arr);\r\n    if(out.length > 0) {\r\n        return out[0];\r\n    } else { return null; }\r\n};\r\n\r\ncreateEvent.callback = function(type, data, event) {\r\n    var uuid = data.object.uuid;\r\n    var list = createEvent.list[type];\r\n    if(list[uuid] === undefined) { return; }\r\n    else {\r\n        list[uuid].forEach(function(f) { f(data, event); });\r\n    }\r\n};\r\n\r\n// ==========================================================================\r\n\r\nlet createObject = function() {\r\n    var args = _args(arguments);\r\n    var data = args.obj[0] || {};\r\n    var opts = args.obj[1];\r\n\r\n    var grr = [\r\n        'Box',\r\n        'Circle',\r\n        'Cone',\r\n        'Cylinder',\r\n        'Dodecahedron',\r\n        'Edges',\r\n        'Extrude',\r\n        'Icosahedron',\r\n        'Lathe',\r\n        'Octahedron',\r\n        'Parametric',\r\n        'Plane',\r\n        'Polyhedron',\r\n        'Ring',\r\n        'Shape',\r\n        'Sphere',\r\n        'Tetrahedron',\r\n        'Text',\r\n        'Torus',\r\n        'TorusKnot',\r\n        'Tube',\r\n        'Wireframe'\r\n    ];\r\n\r\n    var mrr = [\r\n        'LineBasic',\r\n        'LineDashed',\r\n        'MeshBasic',\r\n        'MeshDepth',\r\n        'MeshDistance',\r\n        'MeshLambert',\r\n        'MeshMatcap',\r\n        'MeshNormal',\r\n        'MeshPhong',\r\n        'MeshPhysical',\r\n        'MeshStandard',\r\n        'MeshToon',\r\n        'Points',\r\n        'RawShader',\r\n        'Shader',\r\n        'Shadow',\r\n        'Sprite'\r\n    ];\r\n\r\n    var g = null, m = null;\r\n    Object.keys(data).forEach(function(key) {\r\n        if(grr.indexOf(key) > -1) { g = key; };\r\n        if(mrr.indexOf(key) > -1) { m = key; };\r\n    }); if(g === null || m === null) { return; }\r\n\r\n    var vrr = Object.values(data[g]);\r\n\r\n    g += 'Geometry'\r\n\r\n    var geo;\r\n    if(vrr.length === 0) {\r\n        geo = new THREE[g]();\r\n    } else if(vrr.length === 1) {\r\n        geo = new THREE[g](vrr[0]);\r\n    } else if(vrr.length === 2) {\r\n        geo = new THREE[g](vrr[0], vrr[1]);\r\n    } else if(vrr.length === 3) {\r\n        geo = new THREE[g](vrr[0], vrr[1], vrr[2]);\r\n    } else if(vrr.length === 4) {\r\n        geo = new THREE[g](vrr[0], vrr[1], vrr[2], vrr[3]);\r\n    } else if(vrr.length === 5) {\r\n        geo = new THREE[g](vrr[0], vrr[1], vrr[2], vrr[3], vrr[5]);\r\n    }\r\n\r\n    var mat = new THREE[m + 'Material'](data[m]);\r\n\r\n    var mesh = new THREE.Mesh(geo, mat);\r\n    if(opts) { mesh = TrinityEngine.setupObject(mesh, opts); }\r\n    return mesh;\r\n};\r\n\r\nlet createLight = function() {\r\n    var args = _args(arguments);\r\n    var type  = args.str[0] || 'DIRECT';\r\n    var color = args.num[0] || 0xffffff;\r\n    var power = args.num[1] || 1;\r\n    var light;\r\n    if(type === 'DIRECT') {\r\n        light = new THREE.DirectionalLight(color, power);\r\n    } else if(type === 'AMBIENT') {\r\n        light = new THREE.AmbientLight(color, power);\r\n    }\r\n    return light;\r\n};\r\n\r\n// ==========================================================================\r\n\r\nexport {\r\n    createScene,\r\n    createEffect,\r\n    createEvent,\r\n    createLight,\r\n    createObject\r\n};","import {\r\n    TrinityEngine\r\n} from './index';\r\nimport {\r\n    THREE,\r\n    LOADERS,\r\n    _args\r\n} from '../import';\r\n\r\n// ============================================================================\r\n\r\nlet loadAll = function() {\r\n    var args = _args(arguments);\r\n    var files = args.obj[0];\r\n    var callback = args.fun[0] || function() {};\r\n    var progress = args.fun[1] || function() {};\r\n    var loaddata = { mngr : 0 };\r\n\r\n    if(loadAll.isBusy === true) { return; }\r\n    loadAll.isBusy = true;\r\n\r\n    // prepare\r\n    Object.keys(files).forEach(function(key) {\r\n        var type = loadAll.getFileType(files[key]);\r\n        files[key] = { wait : true, path : files[key].split('#')[0] };\r\n        files[key].type = 'load' + type[0] + type.substr(1).toLowerCase();\r\n        files[key].extn = type;\r\n        loaddata[files[key].path] = 0;\r\n    });\r\n\r\n    // manager callback\r\n    loadAll.manager.onProgress = function(u, n) {\r\n        loaddata.mngr = n;\r\n        check();\r\n    };\r\n    \r\n    // checker\r\n    function check() {\r\n        var ready = true;\r\n        var count = 0;\r\n        Object.keys(files).forEach(function(name) {\r\n            if(files[name].wait === true) { ready = false; }\r\n        });\r\n        Object.values(loaddata).forEach(function(x) { count += x; });\r\n        progress(count);\r\n        if(ready) {\r\n            callback(files);\r\n            loadAll.isBusy = false;\r\n        }\r\n    };\r\n\r\n    // load\r\n    Object.keys(files).forEach(function(name) {\r\n        var type = files[name].type;\r\n        var path = files[name].path;\r\n        TrinityEngine[type](path, function(resp) {\r\n            var extn = files[name].extn;\r\n            if(extn !== 'MODEL' && extn !== 'TEXTURE') {\r\n                loaddata[files[name]] = 1;\r\n            }\r\n            files[name] = resp;\r\n            check();\r\n        });\r\n    });\r\n};\r\n\r\nloadAll.isBusy  = false;\r\nloadAll.manager = new THREE.LoadingManager();\r\n\r\nloadAll.getFileType = function(url) {\r\n    var type = 'AJAX', ext;\r\n    if(url.indexOf('#') > -1) {\r\n        // manual\r\n        ext = url.split('#')[1].toUpperCase();\r\n        var arr = ['MODEL', 'TEXTURE', 'IMAGE', 'BITMAP', 'AJAX']\r\n        if(arr.indexOf(ext) > -1) { type = ext; }\r\n    } else {\r\n        // auto\r\n        ext = url.split('.').pop().toLowerCase();\r\n        var e_1 = ['glb', 'gltf', 'fbx', 'obj'];\r\n        var e_2 = ['jpg', 'jpeg', 'png', 'gif', 'bmp'];\r\n        if(e_1.indexOf(ext) > -1) { type = 'MODEL'; }\r\n        if(e_2.indexOf(ext) > -1) { type = 'TEXTURE'; }\r\n    }\r\n    return type;\r\n};\r\n\r\nlet loadImage = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var callback = args.fun[0] || function() {};\r\n\r\n    var image = new Image();\r\n    image.crossOrigin = 'anonymous';\r\n    image.onload = function() { callback(image); }\r\n    image.src = file;\r\n}\r\n\r\nlet loadBitmap = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var callback = args.fun[0] || function() {};\r\n\r\n    new THREE.ImageBitmapLoader().load(file, function(bitmap) {\r\n        callback(bitmap);\r\n    });\r\n};\r\n\r\nlet loadModel = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var callback = args.fun[0] || function() {};\r\n    // get extension\r\n    var ext = file.split('.').pop().toLowerCase();\r\n    // select loader\r\n    var loader;\r\n    if(ext === 'obj') {\r\n\r\n        var mtlfile = file.substr(0, file.lastIndexOf('.obj')) + '.mtl';\r\n\r\n        var mtlload = new LOADERS.MTLLoader(loadAll.manager);\r\n        loader      = new LOADERS.OBJLoader(loadAll.manager);\r\n\r\n        mtlload.load(mtlfile, function(materials) {\r\n            materials.preload();\r\n            loader.setMaterials(materials);\r\n            loader.load(file, function(model) {\r\n                model.traverse(function(child) {\r\n                    if(child.isMesh) {\r\n                        child.material.opacity = 1;\r\n                        child.material.emissive    = child.material.color;\r\n                        child.material.emissiveMap = child.material.map;\r\n                    }\r\n                });\r\n                callback(model);\r\n            });\r\n        });\r\n        return;\r\n\r\n    } else if(ext === 'glb' || ext === 'gltf') {\r\n        loader  = new LOADERS.GLTFLoader(loadAll.manager);\r\n    } else if(ext === 'fbx') {\r\n        loader = new LOADERS.FBXLoader(loadAll.manager);\r\n    } else { callback(null); }\r\n    // load and callback\r\n    loader.load(file, function(model) {\r\n        if(model.scene) { model = model.scene; }\r\n        // texture map fix\r\n        model.traverse(function(child) {\r\n            if(child.isMesh) {\r\n                child.material.emissive    = child.material.color;\r\n                child.material.emissiveMap = child.material.map;\r\n            }\r\n        });\r\n        // return\r\n        callback(model);\r\n    });\r\n};\r\n\r\nlet loadTexture = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var width    = args.num[0] || 0;\r\n    var height   = args.num[1] || 0;\r\n    var callback = args.fun[0] || function() {};\r\n    // texture loader\r\n    return new THREE.TextureLoader(loadAll.manager).load(file, function(tex) {\r\n        // pattern texture\r\n        if(width !== 0 || height !== 0) {\r\n            tex.wrapS = THREE.RepeatWrapping;\r\n            tex.wrapT = THREE.RepeatWrapping;\r\n            tex.repeat.set(width, height);\r\n        };\r\n        // return\r\n        callback(tex);\r\n    });\r\n};\r\n\r\nlet loadAjax = function() {\r\n    var args = _args(arguments);\r\n    var url = args.str[0];\r\n    var obj = args.obj[0] || { a : 1 };\r\n    var fun = args.fun[0] || function() {};\r\n\r\n\tif(url.indexOf('?') === -1) { url += '?dnjs_ajax_t=' + Date.now(); }\r\n\telse { url += '&dnjs_ajax_t=' + Date.now(); }\r\n\r\n\tvar frm = new FormData();\r\n\tObject.keys(obj).forEach(function(key) {\r\n\t\tvar dat = obj[key];\r\n\t\tif(typeof dat === 'object') { dat = JSON.stringify(dat); }\r\n\t\tfrm.append(key, dat);\r\n\t});\r\n\r\n\tvar xhr = new XMLHttpRequest();\r\n\txhr.open('GET', url, true);\r\n    xhr.onreadystatechange = function() {\r\n        if(this.readyState === 4 && this.status === 200) {\r\n            if(fun != null) {fun(this.responseText); }\r\n        }\r\n    };\r\n\r\n\txhr.send(frm);\r\n\r\n};\r\n\r\n// ============================================================================\r\n\r\nexport {\r\n    loadAll,\r\n    loadAjax,\r\n    loadImage,\r\n    loadBitmap,\r\n    loadModel,\r\n    loadTexture\r\n};","import {\r\n    THREE,\r\n    GSAP,\r\n    _args\r\n} from '../import';\r\n\r\n// ============================================================================\r\n\r\nfunction xyzByDist(p1, p2, d) {\r\n    var u = Math.pow(\r\n        Math.pow(p2.x - p1.x, 2) +\r\n        Math.pow(p2.y - p1.y, 2) +\r\n        Math.pow(p2.z - p1.z, 2),\r\n    0.5);\r\n    d = u - d; var s = d / u;\r\n    return {\r\n        x : p1.x + s * (p2.x - p1.x),\r\n        y : p1.y + s * (p2.y - p1.y),\r\n        z : p1.z + s * (p2.z - p1.z)\r\n    }\r\n};\r\n\r\nlet tweenControls = function() {\r\n    var args = _args(arguments);\r\n    var type     = args.str[0].toUpperCase();\r\n    var controls = args.obj[0];\r\n    var pos_1    = args.obj[1];\r\n    var pos_2    = args.obj[2];\r\n    var callback = args.fun[0] || function() {};\r\n    var ease     = args.str[1] || 'power1';\r\n    var offset, time;\r\n    var t_0, t_1, p_0, p_1, d, a, b;\r\n\r\n    var t = controls.target;\r\n    var p = controls.object.position;\r\n\r\n    controls.enabled = false;\r\n\r\n    if(type === 'FIXED') {\r\n        time   = args.num[0] / 1000;\r\n        d = { x : t.x - p.x, y : t.y - p.y, z : t.z - p.z };\r\n        t_0 = { x : t.x, y : t.y, z : t.z };\r\n        t_1 = { ease : ease, duration : time };\r\n        Object.keys(pos_1).forEach(function(k) { t_1[k] = pos_1[k]; });\r\n\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                controls.enabled = true;\r\n                controls.update();\r\n                callback();\r\n            },\r\n            onUpdate : function() {\r\n                controls.object.position.set(t_0.x, t_0.y, t_0.z);\r\n                controls.target.set(t_0.x + d.x, t_0.y + d.y, t_0.z + d.z);\r\n                controls.update();\r\n            }\r\n        }).fromTo(t_0, t_0, t_1);\r\n    };\r\n\r\n    if(type === 'LOOSE') {\r\n        offset = args.num[0];\r\n        time   = args.num[1] / 1000;\r\n        t_0 = { x : t.x, y : t.y, z : t.z };\r\n        p_0 = { x : p.x, y : p.y, z : p.z };\r\n        t_1 = { ease : ease, duration : time };\r\n        Object.keys(pos_1).forEach(function(k) { t_1[k] = pos_1[k]; });\r\n\r\n        p_1 = xyzByDist(p_0, t_1, offset);\r\n        var startRotation = new THREE.Euler().copy(controls.object.rotation);\r\n        \r\n        a = { px : p_0.x, py : p_0.y, pz : p_0.z, tx : t_0.x, ty : t_0.y, tz : t_0.z };\r\n        b = { px : p_1.x, py : p_1.y, pz : p_1.z, tx : t_1.x, ty : t_1.y, tz : t_1.z };\r\n        b.ease = ease;\r\n        b.duration = time;\r\n\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                controls.enabled = true;\r\n                callback();\r\n            },\r\n            onUpdate : function() {\r\n                controls.target.set(a.tx, a.ty, a.tz);\r\n                controls.object.position.set(a.px, a.py, a.pz);\r\n                controls.update();\r\n                controls.object.rotation.copy(startRotation);\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    };\r\n\r\n    if(type === 'EXACT') {\r\n        time = args.num[0] / 1000;\r\n        t_0 = { x : t.x, y : t.y, z : t.z };\r\n        p_0 = { x : p.x, y : p.y, z : p.z };\r\n        p_1 = { };\r\n        t_1 = { ease : ease, duration : time };\r\n        Object.keys(pos_1).forEach(function(k) { t_1[k] = pos_1[k]; });\r\n        Object.keys(pos_2).forEach(function(k) { p_1[k] = pos_2[k]; });\r\n        a = { px : p_0.x, py : p_0.y, pz : p_0.z, tx : t_0.x, ty : t_0.y, tz : t_0.z };\r\n        b = { px : p_1.x, py : p_1.y, pz : p_1.z, tx : t_1.x, ty : t_1.y, tz : t_1.z };\r\n        b.ease = ease;\r\n        b.duration = time;\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                controls.enabled = true;\r\n                callback();\r\n            },\r\n            onUpdate : function() {\r\n                controls.target.set(a.tx, a.ty, a.tz);\r\n                controls.object.position.set(a.px, a.py, a.pz);\r\n                controls.update();\r\n            }\r\n        }).fromTo(a, a, b);\r\n    };\r\n    \r\n};\r\n\r\ntweenControls.captureSpot = function() {\r\n    var args = _args(arguments);\r\n    var controls = args.obj[0];\r\n    var scene    = args.obj[1];\r\n    window.addEventListener('dblclick', function() {\r\n        console.log(['TARGET']);\r\n        console.log('x ==> ', controls.target.x);\r\n        console.log('y ==> ', controls.target.y);\r\n        console.log('z ==> ', controls.target.z);\r\n        console.log(['CAMERA']);\r\n        console.log('x ==> ', controls.object.position.x);\r\n        console.log('y ==> ', controls.object.position.y);\r\n        console.log('z ==> ', controls.object.position.z);\r\n        console.log(['SCENE']);\r\n        console.log('x ==> ', scene.rotation.x);\r\n        console.log('y ==> ', scene.rotation.y);\r\n        console.log('z ==> ', scene.rotation.z);\r\n    });\r\n};\r\n\r\nlet tweenObject = function() {\r\n    var args = _args(arguments);\r\n    var obj  = args.obj[0];\r\n    var val  = args.obj[1];\r\n    var ease = args.str[0] || 'power1';\r\n    var time = args.num[0] || 1000;\r\n    var back = args.fun[0] || function() {};\r\n    // prepare\r\n    var a = {}, b = { ease : ease, duration : time / 1000 };\r\n    var arr = ['position', 'rotation', 'scale'];\r\n    arr.forEach(function(type) {\r\n        // defaults\r\n        a[type + 'X'] = b[type + 'X'] = obj[type].x;\r\n        a[type + 'Y'] = b[type + 'Y'] = obj[type].y;\r\n        a[type + 'Z'] = b[type + 'Z'] = obj[type].z;\r\n        // updates\r\n        if(val[type]) {\r\n            if(val[type].x !== undefined) { b[type + 'X'] = val[type].x; }\r\n            if(val[type].y !== undefined) { b[type + 'Y'] = val[type].y; }\r\n            if(val[type].z !== undefined) { b[type + 'Z'] = val[type].z; }\r\n        }\r\n    });\r\n    // tween\r\n    GSAP.timeline({\r\n        onComplete : function() {\r\n            back();\r\n        },\r\n        onUpdate : function() {\r\n            Object.keys(a).forEach(function(key) {\r\n                if(key === '_GSAP') { return; }\r\n                var type = key.substr(0, key.length - 1);\r\n                var axis = key[key.length - 1].toLocaleLowerCase();\r\n                obj[type][axis] = a[key];\r\n            });\r\n        }\r\n    }).fromTo(a, a, b);\r\n};\r\n\r\nlet tweenMaterial = function() {\r\n    var args = _args(arguments);\r\n    var type = args.str[0] || 'VALUE';\r\n    var mesh = args.obj[0];\r\n    var data = args.obj[1];\r\n    var time = args.num[0] || 1000;\r\n    var ease = args.str[1] || 'power1';\r\n    var back = args.fun[0] || function() {};\r\n    var a, b;\r\n\r\n    if(type === 'CLONE') {\r\n        // mesh duplicate\r\n        let new_mesh = mesh.clone(false);\r\n        mesh.add(new_mesh);\r\n        // material duplicate\r\n        new_mesh.material = mesh.material.clone();\r\n        // maps array\r\n        let mprr = [\r\n            'alphaMap', 'aoMap', 'bumpMap', 'displacementMap', 'emissiveMap',\r\n            'envMap', 'lightMap', 'map', 'normalMap', 'roughnessMap'\r\n        ];\r\n        // clone maps\r\n        mprr.forEach(function(map) {\r\n            if(mesh.material[map]) {\r\n                new_mesh.material[map] = mesh.material[map].clone();\r\n                new_mesh.material[map].needsUpdate = true;\r\n            }\r\n        });\r\n        // set maps\r\n        Object.keys(data).forEach(function(key) {\r\n            if(mprr.indexOf(key) > -1) {\r\n                new_mesh.material[key].image = data[key];\r\n            } else {\r\n                new_mesh.material[key] = data[key];\r\n            }\r\n        });\r\n        // transparent\r\n        new_mesh.material.transparent = true;\r\n        new_mesh.material.opacity = 0;\r\n        new_mesh.material.needsUpdate = true;\r\n        // tween\r\n        a = { opacity : 0 };\r\n        b = { opacity : 1, duration : time / 1000, ease : ease };\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                // callback\r\n                mesh.material = new_mesh.material;\r\n                mesh.remove(new_mesh);\r\n                back();\r\n            },\r\n            onUpdate : function() {\r\n                new_mesh.material.opacity = a.opacity;\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    }\r\n\r\n    if(type === 'VALUE') {\r\n        a = {};\r\n        b = { duration : time / 1000, ease : ease };\r\n        Object.keys(data).forEach(function(key) {\r\n            if(typeof mesh.material[key] === 'object') {\r\n                let obj = mesh.material[key];\r\n                Object.keys(obj).forEach(function(sky) {\r\n                    a[key + '.' + sky] = mesh.material[key][sky];\r\n                    b[key + '.' + sky] = data[key][sky];\r\n                });\r\n            } else {\r\n                a[key] = mesh.material[key];\r\n                b[key] = data[key];\r\n            }\r\n        });\r\n      \r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                back();\r\n            },\r\n            onUpdate : function() {\r\n                Object.keys(a).forEach(function(key) {\r\n                    if(key.indexOf('.') > -1) {\r\n                        var t = key.split('.');\r\n                        mesh.material[t[0]][t[1]] = a[key];\r\n                    } else {\r\n                        mesh.material[key] = a[key];\r\n                    }\r\n                });\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    }\r\n\r\n\r\n};\r\n\r\n// ============================================================================\r\n\r\nexport {\r\n    tweenControls,\r\n    tweenMaterial,\r\n    tweenObject\r\n};","import {\r\n    createScene,\r\n    createEffect,\r\n    createEvent,\r\n    createLight,\r\n    createObject\r\n} from './_create';\r\n\r\nimport {\r\n    findAll,\r\n    findById,\r\n    findByName,\r\n    findByType,\r\n    findByProperty,\r\n    findByMaterialName,\r\n    findByMaterialProperty\r\n} from './_find';\r\n\r\nimport {\r\n    loadAll,\r\n    loadAjax,\r\n    loadImage,\r\n    loadBitmap,\r\n    loadModel,\r\n    loadTexture\r\n} from './_load';\r\n\r\nimport {\r\n    setupControls,\r\n    setupObject,\r\n    setupScene,\r\n    setupMaterial\r\n} from './_setup';\r\n\r\nimport {\r\n    tweenControls,\r\n    tweenMaterial,\r\n    tweenObject\r\n} from './_tween';\r\n\r\nimport { THREE, GSAP, TWEEN } from '../import';\r\n\r\nlet TrinityEngine = {\r\n        createScene : createScene,\r\n        createEffect : createEffect,\r\n        createEvent : createEvent,\r\n        createObject : createObject,\r\n        createLight : createLight,\r\n        findAll : findAll,\r\n        findById : findById,\r\n        findByName : findByName,\r\n        findByType : findByType,\r\n        findByProperty : findByProperty,\r\n        findByMaterialName : findByMaterialName,\r\n        findByMaterialProperty : findByMaterialProperty,\r\n        loadAll : loadAll,\r\n        loadAjax : loadAjax,\r\n        loadImage : loadImage,\r\n        loadBitmap : loadBitmap,\r\n        loadModel : loadModel,\r\n        loadTexture : loadTexture,\r\n        setupControls : setupControls,\r\n        setupObject : setupObject,\r\n        setupScene : setupScene,\r\n        setupMaterial : setupMaterial,\r\n        tweenControls : tweenControls,\r\n        tweenMaterial : tweenMaterial,\r\n        tweenObject : tweenObject\r\n};\r\n\r\nexport { TrinityEngine, THREE, GSAP, TWEEN };","import {\r\n    _args\r\n} from '../import';\r\n\r\n// ==========================================================================\r\n\r\nlet findAll = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        out.push(obj);\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n    return out;\r\n};\r\n\r\nlet findById = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var name  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.uuid === name) {\r\n            out.push(obj);\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByName = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var name  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.name === name) {\r\n            out.push(obj);\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByMaterialName = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var name  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.material !== undefined) {\r\n            if(obj.material.name === name) {\r\n                out.push(obj);\r\n            }\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByType = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var type  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.type === type) {\r\n            out.push(obj);\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByProperty = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var data  = args.obj[1];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        Object.keys(data).forEach(function(key) {\r\n            if(obj[key] === data[key]) { out.push(obj); }\r\n        });\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByMaterialProperty = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var data  = args.obj[1];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.material !== undefined) {\r\n            Object.keys(data).forEach(function(key) {\r\n                if(obj.material[key] === data[key]) { out.push(obj); }\r\n            });\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\n// ==========================================================================\r\n\r\nexport {\r\n    findAll,\r\n    findById,\r\n    findByName,\r\n    findByType,\r\n    findByProperty,\r\n    findByMaterialName,\r\n    findByMaterialProperty\r\n};","import { TrinityEngine } from './index';\r\nimport {\r\n    _args\r\n} from '../import';\r\n\r\n// ============================================================================\r\n\r\nlet setupObject = function() {\r\n    var args = _args(arguments);\r\n    var objs = args.obj[0];\r\n    var data = args.obj[1];\r\n    if(Array.isArray(objs) === false) { objs = [objs];  }\r\n\r\n    var orr = ['position', 'rotation', 'scale'];\r\n\r\n    objs.forEach(function(obj) {\r\n        Object.keys(data).forEach(function(key) {\r\n            if(orr.indexOf(key) > -1) {\r\n                if(data[key].x !== undefined) { obj[key].x = data[key].x; }\r\n                if(data[key].y !== undefined) { obj[key].y = data[key].y; }\r\n                if(data[key].z !== undefined) { obj[key].z = data[key].z; }\r\n            } else {\r\n                obj[key] = data[key];\r\n            }\r\n        });\r\n    });\r\n\r\n    if(objs.length === 1) { return objs[0]; }\r\n    else { return objs; }\r\n};\r\n\r\nlet setupMaterial = function() {\r\n    var args = _args(arguments);\r\n    var mats = args.obj[0];\r\n    var data = args.obj[1];\r\n    var txar = [\r\n        'map', 'emissiveMap', 'aoMap', 'bumpMap', 'displacementMap',\r\n        'normalMap', 'roughnessMap'\r\n    ];\r\n    if(Array.isArray(mats) === false) { mats = [mats];  }\r\n    mats.forEach(function(mat) {\r\n        Object.keys(data).forEach(function(key) {\r\n            if(txar.indexOf(key) > -1 && typeof data[key] === 'string') {\r\n                mats[key] = TrinityEngine.loadTexture(data[key]);\r\n            } else {\r\n                mats[key] = data[key];\r\n            }\r\n        });\r\n    });\r\n\r\n    if(mats.length === 1) { return mats[0]; }\r\n    else { return mats; }\r\n};\r\n\r\nlet setupScene = function() {\r\n    var args = _args(arguments);\r\n    var composer = args.obj[0];\r\n    var camera   = args.obj[1];\r\n    var width    = args.num[0];\r\n    var height   = args.num[1];\r\n    composer.setSize(width, height);\r\n    composer.renderer.setSize(width, height);\r\n    camera.aspect = width / height;\r\n    camera.updateProjectionMatrix();\r\n};\r\n\r\nlet setupControls = function() {\r\n    var args = _args(arguments);\r\n    var type     = args.str[0].toUpperCase();\r\n    var controls = args.obj[0];\r\n    var target, position, options;\r\n    // pivot controls\r\n    if(type === 'SHOOT') {\r\n        position = args.obj[1] || { x : 0, y : 0, z : 0 };\r\n        options  = args.obj[2] || {};\r\n\r\n        controls.target.set(\r\n            position.x,\r\n            position.y,\r\n            position.z\r\n        );\r\n        controls.object.position.set(\r\n            position.x,\r\n            position.y,\r\n            position.z + 0.01\r\n        );\r\n        controls.enableZoom  = false;\r\n        controls.rotateSpeed = -0.3;\r\n    }\r\n    // pivot controls\r\n    if(type === 'ORBIT') {\r\n        position = args.obj[1] || { x : 0, y : 0, z : 0 };\r\n        target   = args.obj[2] || { x : 0, y : 0, z : 0 };\r\n        options  = args.obj[3] || {};\r\n\r\n        controls.target.set(\r\n            target.x,\r\n            target.y,\r\n            target.z\r\n        );\r\n        controls.object.position.set(\r\n            position.x,\r\n            position.y,\r\n            position.z\r\n        );\r\n        controls.enableZoom  = true;\r\n        controls.rotateSpeed = 1;\r\n    }\r\n    // exact controls\r\n    if(type === 'EXACT') {\r\n        position = args.obj[1] || { x : 0, y : 0, z : 0 };\r\n        target   = args.obj[2] || { x : 0, y : 0, z : 0 };\r\n        options  = args.obj[3] || {};\r\n\r\n        controls.target.set(\r\n            target.x,\r\n            target.y,\r\n            target.z\r\n        );\r\n        controls.object.position.set(\r\n            position.x,\r\n            position.y,\r\n            position.z\r\n        );\r\n        controls.enableZoom  = false;\r\n        controls.rotateSpeed = -0.3;\r\n    }\r\n\r\n    // manual props\r\n    Object.keys(options).forEach(function(opt) {\r\n        controls[opt] = options[opt];\r\n    });\r\n};\r\n\r\n// ============================================================================\r\n\r\nexport {\r\n    setupControls,\r\n    setupObject,\r\n    setupScene,\r\n    setupMaterial\r\n};","let setup = {\r\n    Sofas     : {}\r\n};\r\n\r\nsetup.Sofas['Miki Sofa'] = {\r\n    model : {\r\n        source   : 'models/sofas/miki_sofa/scene.gltf',\r\n        image    : 'models/sofas/miki_sofa/scene.jpg',\r\n        position : { x : 0, y : 0, z : 0 },\r\n        rotation : { x : 0, y : 0, z : 0 },\r\n        scale    : { x : 0.01, y : 0.01, z : 0.01 }\r\n    },\r\n    mesh  : ['Miki_Sofa_Bed_FABRIC_BLUE_0'],\r\n    edits : {\r\n        \"Blue\" : {\r\n            map : 'models/sofas/miki_sofa/textures/baseColor_1.jpeg',\r\n            ico : 'models/sofas/miki_sofa/uithumbs/baseColor_1.jpeg'\r\n        },\r\n        \"Red\" : {\r\n            map : 'models/sofas/miki_sofa/textures/baseColor_3.jpeg',\r\n            ico : 'models/sofas/miki_sofa/uithumbs/baseColor_3.jpeg'\r\n        },\r\n        \"Leather\" : {\r\n            map : 'models/sofas/miki_sofa/textures/baseColor_2.jpeg',\r\n            ico : 'models/sofas/miki_sofa/uithumbs/baseColor_2.jpeg'\r\n        }\r\n    }\r\n};\r\n\r\nsetup.Sofas['Seater Sofa'] = {\r\n    model : {\r\n        source   : 'models/sofas/seater_sofa/scene.gltf',\r\n        image    : 'models/sofas/seater_sofa/scene.jpg',\r\n        position : { x : 0, y : 0, z : 0 },\r\n        rotation : { x : 0, y : 0, z : 0 },\r\n        scale    : { x : 0.01, y : 0.01, z : 0.01 }\r\n    },\r\n    mesh  : ['Orson_3_Seater_Sofa_Bed_FABRIC_0'],\r\n    edits : {\r\n        \"Gray\" : {\r\n            map : 'models/sofas/seater_sofa/textures/baseColor_1.jpeg',\r\n            ico : 'models/sofas/seater_sofa/uithumbs/baseColor_1.jpeg'\r\n        },\r\n        \"Yellow\" : {\r\n            map : 'models/sofas/seater_sofa/textures/baseColor_2.jpeg',\r\n            ico : 'models/sofas/seater_sofa/uithumbs/baseColor_2.jpeg'\r\n        },\r\n        \"Blue\" : {\r\n            map : 'models/sofas/seater_sofa/textures/baseColor_3.jpeg',\r\n            ico : 'models/sofas/seater_sofa/uithumbs/baseColor_3.jpeg'\r\n        }\r\n    }\r\n};\r\n\r\n\r\nsetup.Sofas['Scott Sofa'] = {\r\n    model : {\r\n        source   : 'models/sofas/scott_sofa/scene.gltf',\r\n        image    : 'models/sofas/scott_sofa/scene.jpg',\r\n        position : { x : 0, y : 0, z : 0 },\r\n        rotation : { x : 0, y : 0, z : 0 },\r\n        scale    : { x : 0.01, y : 0.01, z : 0.01 }\r\n    },\r\n    mesh  : ['FABRIC_1','FABRIC_2'],\r\n    edits : {\r\n        \"Green\" : {\r\n            map : 'models/sofas/scott_sofa/textures/baseColor_1.jpeg',\r\n            ico : 'models/sofas/scott_sofa/uithumbs/baseColor_1.jpeg'\r\n        },\r\n        \"Blue\" : {\r\n            map : 'models/sofas/scott_sofa/textures/baseColor_2.jpeg',\r\n            ico : 'models/sofas/scott_sofa/uithumbs/baseColor_2.jpeg'\r\n        },\r\n        \"Red\" : {\r\n            map : 'models/sofas/scott_sofa/textures/baseColor_3.jpeg',\r\n            ico : 'models/sofas/scott_sofa/uithumbs/baseColor_3.jpeg'\r\n        }\r\n    }\r\n};\r\n\r\n\r\nsetup.Sofas['Keiko Sofa'] = {\r\n    model : {\r\n        source   : 'models/sofas/keiko_sofa/scene.gltf',\r\n        image    : 'models/sofas/keiko_sofa/scene.jpg',\r\n        position : { x : 0, y : 0, z : 0 },\r\n        rotation : { x : 0, y : 0, z : 0 },\r\n        scale    : { x : 0.01, y : 0.01, z : 0.01 }\r\n    },\r\n    mesh  : ['FABRIC001_FABRIC_0'],\r\n    edits : {\r\n        \"Blue\" : {\r\n            map : 'models/sofas/keiko_sofa/textures/baseColor_1.jpeg',\r\n            ico : 'models/sofas/keiko_sofa/uithumbs/baseColor_1.jpeg'\r\n        },\r\n        \"Pink\" : {\r\n            map : 'models/sofas/keiko_sofa/textures/baseColor_2.jpeg',\r\n            ico : 'models/sofas/keiko_sofa/uithumbs/baseColor_2.jpeg'\r\n        },\r\n        \"Green\" : {\r\n            map : 'models/sofas/keiko_sofa/textures/baseColor_3.jpeg',\r\n            ico : 'models/sofas/keiko_sofa/uithumbs/baseColor_3.jpeg'\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\nsetup.Sofas['Hallie Sofa'] = {\r\n    model : {\r\n        source   : 'models/sofas/hallie_sofa/scene.gltf',\r\n        image    : 'models/sofas/hallie_sofa/scene.jpg',\r\n        position : { x : 0, y : 0, z : 0 },\r\n        rotation : { x : 0, y : 0, z : 0 },\r\n        scale    : { x : 0.01, y : 0.01, z : 0.01 }\r\n    },\r\n    mesh  : ['FABRIC001_FABRIC_0'],\r\n    edits : {\r\n        \"Maroon\" : {\r\n            map : 'models/sofas/hallie_sofa/textures/baseColor_1.jpeg',\r\n            ico : 'models/sofas/hallie_sofa/uithumbs/baseColor_1.jpeg'\r\n        },\r\n        \"Green\" : {\r\n            map : 'models/sofas/hallie_sofa/textures/baseColor_2.jpeg',\r\n            ico : 'models/sofas/hallie_sofa/uithumbs/baseColor_2.jpeg'\r\n        },\r\n        \"Blue\" : {\r\n            map : 'models/sofas/hallie_sofa/textures/baseColor_3.jpeg',\r\n            ico : 'models/sofas/hallie_sofa/uithumbs/baseColor_3.jpeg'\r\n        }\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n\r\nsetup.Sofas['Jules Sofa'] = {\r\n    model : {\r\n        source   : 'models/sofas/jules_sofa/scene.gltf',\r\n        image    : 'models/sofas/jules_sofa/scene.jpg',\r\n        position : { x : 0, y : 0, z : 0 },\r\n        rotation : { x : 0, y : 0, z : 0 },\r\n        scale    : { x : 0.01, y : 0.01, z : 0.01 }\r\n    },\r\n    mesh  : ['LEATHER'],\r\n    edits : {\r\n        \"Brown\" : {\r\n            map : 'models/sofas/jules_sofa/textures/baseColor_1.jpeg',\r\n            ico : 'models/sofas/jules_sofa/uithumbs/baseColor_1.jpeg'\r\n        },\r\n        \"Green\" : {\r\n            map : 'models/sofas/jules_sofa/textures/baseColor_2.jpeg',\r\n            ico : 'models/sofas/jules_sofa/uithumbs/baseColor_2.jpeg'\r\n        },\r\n        \"Blue\" : {\r\n            map : 'models/sofas/jules_sofa/textures/baseColor_3.jpeg',\r\n            ico : 'models/sofas/jules_sofa/uithumbs/baseColor_3.jpeg'\r\n        }\r\n    }\r\n};\r\n\r\n\r\nexport default setup;","import { TrinityEngine, THREE } from \"../../engine/4.0\";\r\nimport \"./arimac.css\";\r\n\r\nlet LoadingScreen = {};\r\n\r\nlet arimac = TrinityEngine.createScene(160, 160, false);\r\narimac.isLoading = true;\r\narimac.controls.enabled = false;\r\n\r\nfunction render() {\r\n    requestAnimationFrame(render);\r\n    if(arimac.isLoading && arimac.logo) {\r\n        arimac.composer.render();\r\n        let r = arimac.logo.rotation;\r\n        let y = r.y % (Math.PI * 2);\r\n        let speed = 0.03;\r\n        if(y > 0.3 && y < 5.8) { speed = 0.07; }\r\n        arimac.logo.rotation.y += speed;\r\n    }\r\n}; render()\r\n\r\nlet light = new THREE.AmbientLight(0xffffff, 0.7);\r\narimac.scene.add(light);\r\n\r\nLoadingScreen.start = function(color, callback = function() {}) {\r\n    // elements and modules setup\r\n    arimac.scene.background = new THREE.Color(color);\r\n    arimac.root = document.querySelector('.arimac_load');\r\n    arimac.root.style.background = color;\r\n    arimac.renderer.domElement.style.background = color;\r\n\r\n    let elem = document.createElement('div');\r\n    elem.className = 'arimac_lval';\r\n    arimac.root.appendChild(elem);\r\n    if(color === '#FFF') {\r\n        arimac.root.setAttribute('class', 'arimac_load arimac_load_white');\r\n    }\r\n    // load logo model\r\n    TrinityEngine.loadModel('models/arimac/logo.fbx', function(logo) {\r\n        arimac.root.appendChild(arimac.renderer.domElement);\r\n        arimac.logo = logo;\r\n        arimac.logo.rotation.y = 5.8;\r\n        arimac.scene.add(logo);\r\n        arimac.logo.scale.set(0.2, 0.2, 0.2);\r\n        arimac.isLoading = true;\r\n        if(color === '#FFF') {\r\n            logo.children[0].material[1].color = new THREE.Color('#131313');\r\n        }\r\n        callback();\r\n    });\r\n    \r\n};\r\n\r\nLoadingScreen.setValue = function(value) {\r\n    // element select\r\n    let root = document.querySelector('.arimac_load');\r\n    let elem = document.querySelector('.arimac_load>.arimac_lval');\r\n    // update\r\n    elem.innerHTML = 'Loading... ' + value + '%';\r\n    // check end\r\n    if(value === 100) {\r\n        setTimeout(function() {\r\n            root.style.opacity = 0;\r\n            setTimeout(function() { root.style.display = 'none'; }, 300);\r\n        }, 1000);\r\n    }\r\n};\r\n\r\nLoadingScreen.end = function() {\r\n    let root = document.querySelector('.arimac_load');\r\n    setTimeout(function() {\r\n        root.style.opacity = 0;\r\n        setTimeout(function() { root.style.display = 'none'; }, 300);\r\n    }, 1000); \r\n};\r\n\r\nexport default LoadingScreen;","import { Component } from 'react';\nimport { TrinityEngine, THREE } from './engine/4.0/';\nimport setup from './bin/setup'\nimport './bin/main.css';\nimport LoadingScreen from './bin/logo/arimac';\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            category : 'Sofas',\n            itemname : 'Miki Sofa',\n            editname : null\n        };\n        this.setCategory = this.setCategory.bind(this);\n        this.setItem     = this.setItem.bind(this);\n        this.setEdit     = this.setEdit.bind(this);\n    };\n\n    setCategory(e) {\n        this.setState({ category : e.target.lang });\n    };\n\n    setItem(e) {\n        if(isReady === false) { return; }\n        let _this = this;\n        last_category = _this.state.category;\n        this.setState({ itemname : e.target.lang, editname : null }, function() {\n            last_itemname = this.state.itemname;\n            loadFurniture(this.state.category, this.state.itemname);\n        });\n    };\n\n    setEdit(e) {\n        if(isReady === false) { return; }\n        this.setState({ editname : e.target.lang }, function() {\n            tweenFurniture(last_category, this.state.itemname, e.target.lang);\n        })\n    };\n\n    componentDidMount() {\n        LoadingScreen.start('#FFF', onLoad);\n    };\n\n    categoryList() {\n        let _this = this;\n        let arr = [];\n        var crr = this.state.category;\n        Object.keys(setup).forEach(function(cat) {\n            var css = \"categoryItem\";\n            if(crr === cat) { css = \"categoryItem categoryItemOn\"; }\n            arr.push(\n                <div\n                    className={ css }\n                    key={ cat }\n                    lang={ cat }\n                    onClick={_this.setCategory}>\n                { cat }</div>\n            );\n        });\n        return arr;\n    };\n\n    itemList() {\n        let _this = this;\n        let arr = [];\n        let obj = setup[this.state.category];\n        Object.keys(obj).forEach(function(itm_name) {\n            let img = obj[itm_name].model.image;\n            let css = \"itemButton\";\n            if(itm_name === _this.state.itemname) {\n                css = \"itemButton itemOpen\";\n            }\n            arr.push(\n                <div\n                    className={css}\n                    key={itm_name}\n                    lang={itm_name}\n                    onClick={_this.setItem}\n                    ><div\n                        lang={itm_name}\n                        className=\"itemImage\"\n                        style={{ backgroundImage : 'url('+ img +')' }}\n                    ></div>\n                    <div className=\"itemLabel\" lang={itm_name}>{itm_name}</div>\n                </div>\n            );\n        });\n        return arr;\n    };\n\n    editList() {\n        let _this = this;\n        let arr = [];\n        let obj = setup[last_category][this.state.itemname].edits;\n        Object.keys(obj).forEach(function(label, index) {\n            let img = obj[label];\n            let css = \"editButton\";\n            if(label === _this.state.editname) { css = \"editButton editOpen\"; }\n            if(_this.state.editname === null && index === 0) { css = \"editButton editOpen\"; }\n            arr.push(\n                <div\n                    className={css}\n                    key={index}\n                    lang={label}\n                    onClick={_this.setEdit}\n                    ><div\n                        lang={label}\n                        className=\"editImage\"\n                        style={{ backgroundImage : 'url('+ img.ico +')' }}\n                    ></div>\n                    <div className=\"editTitle\" lang={label}>{label}</div>\n                </div>\n            );\n        });\n        return arr;\n    };\n\n    render() {\n        return(\n            <div>\n                <div className=\"loader\"></div>\n                <div className=\"sideManu\">\n                    <div className=\"categoryMenu\">{ this.categoryList() }</div>\n                    <div className=\"itemsContainer\">{ this.itemList() }</div>\n                    <div className=\"editsTitle\">Select Styles</div>\n                    <div className=\"editsContainer\">{ this.editList() }</div>\n                </div>\n                <div className=\"arimac_load\"></div>\n                <div className=\"arimac_logo arimac_logo_black\"></div>\n            </div>\n        );\n    };\n};\n\nlet q = function(x) { return document.querySelector(x); }\nlet w = window.innerWidth - 450;\nlet h = window.innerHeight;\nif(window.innerWidth < window.innerHeight) {\n    w = window.innerWidth;\n    h = w * 0.85;\n}\n\nlet modules = TrinityEngine.createScene(w, h, '#F1F1F1');\n\n// shadows\nmodules.renderer.shadowMap.enabled = true;\nmodules.renderer.setPixelRatio(window.devicePixelRatio);\n\n// lights\nvar dlight = TrinityEngine.createLight('DIRECT', 0xFFFFFF, 0.5)\ndlight.castShadow = true;\ndlight.shadow.mapSize.width = 1024;\ndlight.shadow.mapSize.height = 1024;\ndlight.position.set(20, 20, 20);\ndlight.shadow.camera.far = 1000;\nmodules.scene.add(dlight);\n\n// camera\nTrinityEngine.setupControls('ORBIT', modules.controls,\n    { x : 0.08503699887861167, y : 1.444937842814301, z : 3.188224621536818 },\n    { x : 0, y : 0.5, z : 0 }\n);\n\n// controls\nmodules.controls.maxAzimuthAngle = 0.7831853071795862;\nmodules.controls.minAzimuthAngle = -0.7831853071795862;\nmodules.controls.maxDistance = 3.188224621536818;\nmodules.controls.minDistance = 1.988224621536818;\nmodules.controls.maxPolarAngle = 1.4;\nmodules.controls.minPolarAngle = 1;\nmodules.controls.autoRotate = true;\nmodules.controls.autoRotateSpeed = -0.2;\n\n// onload start\nfunction onLoad() {\n    q('#root').append(modules.renderer.domElement);\n    loadAllFiles();\n}\n\n// resize window fix\nwindow.addEventListener('resize', function() {\n    w = window.innerWidth - 450;\n    h = window.innerHeight;\n    if(window.innerWidth < window.innerHeight) {\n        w = window.innerWidth;\n        h = w * 0.85;\n    }\n    TrinityEngine.setupScene(modules.composer, modules.camera, w, h);\n});\n\n// auto rotate\nfunction render() {\n    requestAnimationFrame(render);\n    let angle = modules.controls.getAzimuthalAngle();\n    if(modules.controls.maxAzimuthAngle <= angle) {\n        modules.controls.autoRotateSpeed = +0.2;\n    }\n    if(modules.controls.minAzimuthAngle >= angle) {\n        modules.controls.autoRotateSpeed = -0.2;\n    }\n}; render();\n\n// ===========================================================\n\nlet files = {\n    _vr_model : 'models/vr_space/room.glb#MODEL',\n    _vr_floor : 'models/vr_space/floor.png#TEXTURE'\n};\n\n// ===========================================================\n\nfunction loadVRSpace() {\n    // objects\n    var vr_obj = files._vr_model;\n    var vr_tex = files._vr_floor;\n    vr_obj.position.set(0, -0.001, -1);\n    modules.scene.add(vr_obj);\n\n    TrinityEngine.findByType(vr_obj, 'Mesh', true).forEach(function(k) {\n        k.material = new THREE.MeshPhongMaterial({ wireframe : true, color : '#AAA' });\n        k.castShadow = true;\n        k.receiveShadow = true;\n    });\n    // ground\n    let ground = TrinityEngine.createObject({\n        'Plane' : [100, 100],\n        'MeshBasic' : { map : vr_tex }\n    });\n    \n    vr_tex.wrapS = THREE.RepeatWrapping;\n    vr_tex.wrapT = THREE.RepeatWrapping;\n    vr_tex.repeat.set(250, 250);\n\n    ground.rotation.set(Math.PI / -2, 0, 0);\n    ground.position.set(0, -0.001, 0);\n    ground.material.transparent = true;\n    ground.material.opacity = 0.4;\n    modules.scene.add(ground);\n}\n\nfunction loadAllFiles() {\n    TrinityEngine.loadAll(files, function() {\n        loadVRSpace();\n        loadFurniture(last_category, last_itemname);\n    }, function(p) {\n        LoadingScreen.setValue(100 * (p / 4));\n    });\n};\n\nlet isReady = false;\n\nfunction loadFurniture(cat, itm) {\n    isReady = false;\n    q('.loader').style.display = 'block';\n\n    if(modules.model) { modules.scene.remove(modules.model); }\n\n    var obj = setup[cat][itm].model;\n\n    function whenLoaded(data) {\n        Object.keys(data).forEach(function(key) {  files[key] = data[key]; });\n        modules.model = files[obj.source];\n        modules.model.position.set(obj.position.x, obj.position.y, obj.position.z);\n        modules.model.rotation.set(obj.rotation.x, obj.rotation.y, obj.rotation.z);\n        modules.model.scale.set(obj.scale.x, obj.scale.y, obj.scale.z);\n        modules.scene.add(modules.model);\n        isReady = true;\n        q('.loader').style.display = 'none';\n    }\n\n        var inp = {};\n        inp[obj.source] = obj.source;\n\n        var tmp = setup[last_category][last_itemname].edits;\n        Object.values(tmp).forEach(function(img) {\n            inp[img.map] = img.map + '#BITMAP';\n        });\n\n        TrinityEngine.loadAll(inp, function(data) {\n            whenLoaded(data, obj.source);\n        });\n\n};\n\nlet last_category = 'Sofas';\nlet last_itemname = 'Miki Sofa';\n\nfunction tweenFurniture(cat, utm, edt) {\n    var mrr = setup[cat][utm].mesh;\n    mrr.forEach(function(name) {\n        var msh = TrinityEngine.findByName(modules.model, name);\n        var img = files[setup[cat][utm].edits[edt].map];\n    \n        TrinityEngine.tweenMaterial('CLONE', msh, {\n            map : img,\n            emissiveMap : img\n        }, 0);\n\n        modules.model.userData.crrEdit = edt;\n\n\n    });\n};\n\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import 'react-app-polyfill/ie11';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}