{"version":3,"sources":["engine/three.js/_check.js","engine/import.js","engine/three.js/_create.js","engine/three.js/_load.js","engine/three.js/_tween.js","engine/three.js/index.js","engine/three.js/_export.js","engine/three.js/_eval.js","engine/three.js/_find.js","engine/three.js/_setup.js","engine/immersive-ar/index.js","engine/model-viewer/index.js","engine/index.js","bin/logo/arimac.js","bin/ItemScroller.js","bin/ArrayBounce.js","bin/ARView.js","App.js","bin/setup.js","reportWebVitals.js","index.js"],"names":["checkConsole","window","innerWidth","innerHeight","e","document","createElement","style","position","zIndex","width","height","left","top","background","color","fontFamily","fontSize","lineHeight","overflow","padding","body","marginTop","appendChild","console","log","args","Array","from","arguments","innerHTML","getString","removeOverflow","error","warn","k","forEach","a","JSON","stringify","className","outerHTML","arr","querySelectorAll","i","length","POSTPROCESSING","EffectComposer","RenderPass","ShaderPass","OutlinePass","BloomPass","UnrealBloomPass","GlitchPass","SSAOPass","SSRPass","ReflectorForSSRPass","FilmPass","BokehPass","LOADERS","FilmShader","FXAAShader","SSAOShader","GLTFLoader","FBXLoader","OBJLoader","MTLLoader","DDSLoader","CONTROLS","OrbitControls","PointerLockControls","EXPORTERS","GLTFExporter","USDZExporter","GSAP","gsap","CLOCK","Clock","_args","out","undefined","arg","typ","substr","push","createEvent","type","str","toLowerCase","object","callback","fun","isArray","list","obj","uuid","down","last","listen","modules","u","cnv","renderer","domElement","addEventListener","cast","event","sz","getBoundingClientRect","xy","THREE","Vector2","x","layerX","y","layerY","caster","Raycaster","setFromCamera","camera","threejs","findByType","scene","intersectObjects","data","f","loadAll","files","progress","loaddata","mngr","check","ready","count","Object","keys","name","wait","values","isBusy","key","getFileType","path","split","extn","manager","onProgress","n","resp","LoadingManager","url","ext","indexOf","toUpperCase","pop","xyzByDist","p1","p2","d","Math","pow","z","s","tweenControls","offset","time","t_0","t_1","p_0","p_1","b","controls","pos_1","pos_2","ease","t","target","p","enabled","num","duration","timeline","onComplete","update","onUpdate","set","fromTo","startRotation","Euler","copy","rotation","px","py","pz","tx","ty","tz","captureSpot","tweenAnimation","anim","mesh","stop","boo","animations","AnimationClip","findByName","mixr","acts","plays","clock","start","speed","mixer","clipAction","AnimationMixer","play","animate","requestAnimationFrame","getDelta","checkControls","c","checkTransform","r","scale","shiftKey","preventDefault","ctrlKey","PI","checkObjects","property","exportModel","fnc","dne","blob","URL","createObjectURL","parse","then","result","Blob","ArrayBuffer","output","createScene","auto","Scene","PerspectiveCamera","WebGLRenderer","antialias","alpha","light","createLight","add","setSize","Color","enablePan","autoRotate","autoRotateSpeed","enableDamping","dampingFactor","setupControls","render","createEffect","pass","names","options","w","h","composer","addPass","renderPass","edgeStrength","visibleEdgeColor","kernelRadius","minDistance","maxDistance","focus","aperture","maxblur","opt","createObject","opts","grr","mrr","g","m","geo","vrr","mat","Mesh","setupObject","clr","int","pwr","pos","rot","vsb","getHex","DirectionalLight","AmbientLight","PointLight","HemisphereLight","SpotLight","power","visible","createParticles","stat","rots","ax","bx","ay","by","az","bz","dx","dy","dz","objs","randNumber","random","max","min","randObject","floor","rx","ry","rz","ra","rb","rc","robj","clone","material","evalPoints","obj_1","obj_2","rnd","cam","vec_1","vec_2","widthHalf","heightHalf","project","findAll","model","recMesh","children","findById","mult","findByProperty","findByMaterialName","findByMaterialProperty","loadAjax","Date","now","frm","FormData","dat","append","xhr","XMLHttpRequest","open","onreadystatechange","this","readyState","status","responseText","send","loadImage","file","image","Image","crossOrigin","onload","src","loadBitmap","ImageBitmapLoader","load","bitmap","loadModel","loader","mtlfile","lastIndexOf","mtlload","materials","preload","setMaterials","traverse","child","isMesh","opacity","emissive","emissiveMap","map","loadTexture","TextureLoader","tex","wrapS","RepeatWrapping","wrapT","repeat","enableZoom","rotateSpeed","orr","setupScene","splice","aspect","updateProjectionMatrix","setupMaterial","mats","txar","clar","tweenMaterial","back","new_mesh","mprr","needsUpdate","transparent","remove","sky","tweenObject","val","axis","toLocaleLowerCase","tweenLight","lght","lgt","XRWebGLLayer","checkAvailability","onSupport","onError","req_1","navigator","xr","req_2","isSessionSupported","req_3","requestSession","element","requiredFeatures","domOverlay","root","session","configureCanvas","canvas","context","getContext","xrCompatible","updateRenderState","baseLayer","configureScene","matrixAutoUpdate","preserveDrawingBuffer","configureLights","directionalLight","castShadow","planeGeometry","PlaneGeometry","rotateX","shadowMesh","ShadowMaterial","receiveShadow","configureReferenceSpaces","requestReferenceSpace","localReferenceSpace","viewerSpace","requestHitTestSource","space","hitTestSource","immersivear","renderLoop","onHitPoseUpdate","frame","framebuffer","renderState","bindFramebuffer","FRAMEBUFFER","pose","getViewerPose","view","views","viewport","getViewport","matrix","fromArray","transform","projectionMatrix","updateMatrixWorld","hitTestResults","getHitTestResults","hitPose","getPose","TrinityEngine","createView","source","mv","setAttribute","ios","GL","LoadingScreen","arimac","isLoading","logo","querySelector","display","elem","setValue","value","setTimeout","end","text","startXMargn","call","ArrayBounce","array","index","ItemScroller","css","apd","getPosition","changedTouches","clientX","focusItem","crnt","build","setup","clickCallback","lang","backgroundImage","display_image","clickFocus","marginLeft","isTouchDown","TD_0","TD_1","startXValue","newerstXValue","lastGap","arrBounce","scrollStart","locked","parseFloat","scrollGoing","currentXValue","pr","devicePixelRatio","scrollEnd","v","setTrayEvents","buildScrollerItems","parseInt","ARView","button","initialize","common","iphone","getAttribute","spin","common_source","iphone_source","transformas","App","itemFocusCallback","itemClickCallback","PV","svg","Component","shadowMap","hemiLight","setHSL","groundColor","dirLight","multiplyScalar","spotLight","spotLight2","spotLight3","spotLight4","sizePreViewScene","lockAndHide","preloadModelViewer","click","spin_on","border","unlockAndShow","setupModelState","gg","href","download","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.98d514df.chunk.js","sourcesContent":["import { threejs } from \".\";\r\n\r\nlet checkControls = function(controls) {\r\n    let t = controls.target;\r\n    let c = controls.object.position;\r\n    window.addEventListener('keydown', function(e) {\r\n        if(e.key === '`') {\r\n            let x = '';\r\n            x += '{\\n';\r\n            x += '  target : { x : '+ t.x +', y : '+ t.y +', z : '+ t.z +' },\\n';\r\n            x += '  camera : { x : '+ c.x +', y : '+ c.y +', z : '+ c.z +' },\\n';\r\n            x += '}';\r\n            console.log(x);\r\n        };\r\n    });\r\n};\r\n\r\nlet checkTransform = function(object) {\r\n    let p = object.position;\r\n    let r = object.rotation;\r\n    let s = object.scale;\r\n    window.addEventListener('keydown', function(e) {\r\n        \r\n        if(e.key === '`') {\r\n            let x = '';\r\n            x += '{\\n';\r\n            x += '  position : { x : '+ p.x +', y : '+ p.y +', z : '+ p.z +' },\\n';\r\n            x += '  rotation : { x : '+ r.x +', y : '+ r.y +', z : '+ r.z +' },\\n';\r\n            x += '  scale    : { x : '+ s.x +', y : '+ s.y +', z : '+ s.z +' },\\n';\r\n            x += '}';\r\n            console.log(x);\r\n        };\r\n\r\n        let speed = 0.001;\r\n        if(e.shiftKey) { speed = 0.01; e.preventDefault(); }\r\n        if(e.ctrlKey)  { speed = 0.1; e.preventDefault(); }\r\n\r\n        if(e.key === '+') {\r\n            object.scale.set(\r\n                object.scale.x + speed,\r\n                object.scale.y + speed,\r\n                object.scale.z + speed\r\n            );\r\n        }\r\n\r\n        if(e.key === '-') {\r\n            object.scale.set(\r\n                object.scale.x - speed,\r\n                object.scale.y - speed,\r\n                object.scale.z - speed\r\n            );\r\n        }\r\n\r\n        if(e.key === '*') {\r\n            object.rotation.set(\r\n                object.rotation.x,\r\n                object.rotation.y + Math.PI / 4,\r\n                object.rotation.z\r\n            );\r\n        }\r\n\r\n        if(e.key === '/') {\r\n            object.rotation.set(\r\n                object.rotation.x,\r\n                object.rotation.y - Math.PI / 4,\r\n                object.rotation.z\r\n            );\r\n        }\r\n\r\n        if(e.key === '2') { object.position.z += speed; }\r\n        if(e.key === '8') { object.position.z -= speed; }\r\n        if(e.key === '6') { object.position.x += speed; }\r\n        if(e.key === '4') { object.position.x -= speed; }\r\n\r\n    });\r\n};\r\n\r\nlet checkObjects = function(object, property) {\r\n    threejs.findByType(object, 'Mesh', true).forEach(function(mesh) {\r\n        threejs.createEvent('click', mesh, function(e) {\r\n            if(property !== undefined) {\r\n                console.log(e.object[property], e.object, e);\r\n            } else { console.log(e.object, e); }\r\n        });\r\n    });\r\n};\r\n\r\n\r\n\r\nlet checkConsole = function() {\r\n    if(window.innerWidth > window.innerHeight) { return; }\r\n    var e = document.createElement('div');\r\n    e.style.position = 'fixed';\r\n    e.style.zIndex = 100;\r\n    e.style.width = 'calc(100vw - 20px)';\r\n    e.style.height = '112px';\r\n    e.style.left = '0px';\r\n    e.style.top = '0px';\r\n    e.style.background = '#222';\r\n    e.style.color = '#ffffff';\r\n    e.style.fontFamily = 'Consolas';\r\n    e.style.fontSize = '10px';\r\n    e.style.lineHeight = '16px';\r\n    e.style.overflow = 'hidden';\r\n    e.style.padding = '10px'\r\n    document.body.style.marginTop = '130px';\r\n    document.body.appendChild(e);\r\n\r\n    console.log = function() {\r\n        var args = Array.from(arguments);\r\n        e.innerHTML = checkConsole.getString(args, '#0099ff') + e.innerHTML;\r\n        checkConsole.removeOverflow();\r\n    };\r\n\r\n    console.error = function() {\r\n        var args = Array.from(arguments);\r\n        e.innerHTML = checkConsole.getString(args, '#ff0000') + e.innerHTML;\r\n        checkConsole.removeOverflow();\r\n    };\r\n\r\n    console.warn = function() {\r\n        var args = Array.from(arguments);\r\n        e.innerHTML = checkConsole.getString(args, 'yellow') + e.innerHTML;\r\n        checkConsole.removeOverflow();\r\n    };\r\n\r\n};\r\n\r\ncheckConsole.getString = function(args, color) {\r\n    var k = '';\r\n    args.forEach(function(a) {\r\n        k += JSON.stringify(a) + ' ';\r\n    });\r\n    var e = document.createElement('div');\r\n    e.className = 'trinity-log';\r\n    e.style.lineHeight = '16px';\r\n    e.style.color = color;\r\n    e.innerHTML = k;\r\n    return e.outerHTML;\r\n};\r\n\r\ncheckConsole.removeOverflow = function() {\r\n    var arr = document.querySelectorAll('.trinity-log');\r\n    if(arr === null) { return; }\r\n    for(var i = arr.length - 1; i > 6; i--) {\r\n        arr[i].outerHTML = '';\r\n    };\r\n};\r\n\r\nexport {\r\n    checkControls,\r\n    checkConsole,\r\n    checkTransform,\r\n    checkObjects\r\n};","import * as THREE from \"three\";\r\nimport gsap from 'gsap';\r\n// loaders\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { FBXLoader } from 'three/examples/jsm/loaders/FBXLoader';\r\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\r\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader';\r\nimport { DDSLoader } from 'three/examples/jsm/loaders/DDSLoader';\r\n// controls\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport { PointerLockControls } from 'three/examples/jsm/controls/PointerLockControls';\r\n// postprocessing\r\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer\";\r\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass\";\r\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass\";\r\nimport { OutlinePass } from \"three/examples/jsm/postprocessing/OutlinePass\";\r\nimport { BloomPass } from \"three/examples/jsm/postprocessing/BloomPass\";\r\nimport { UnrealBloomPass } from \"three/examples/jsm/postprocessing/UnrealBloomPass\";\r\nimport { GlitchPass } from \"three/examples/jsm/postprocessing/GlitchPass\";\r\nimport { SSAOPass } from \"three/examples/jsm/postprocessing/SSAOPass\";\r\nimport { SSRPass } from \"three/examples/jsm/postprocessing/SSRPass\";\r\nimport { FilmPass } from \"three/examples/jsm/postprocessing/FilmPass\";\r\nimport { BokehPass } from \"three/examples/jsm/postprocessing/BokehPass\";\r\nimport { ReflectorForSSRPass } from \"three/examples/jsm/objects/ReflectorForSSRPass\";\r\n// shaders\r\nimport { FilmShader } from \"three/examples/jsm/shaders/FilmShader\";\r\nimport { FXAAShader } from \"three/examples/jsm/shaders/FXAAShader\";\r\nimport { SSAOShader } from \"three/examples/jsm/shaders/SSAOShader\";\r\n// exporters\r\nimport { GLTFExporter } from \"three/examples/jsm/exporters/GLTFExporter\";\r\nimport { USDZExporter } from \"three/examples/jsm/exporters/USDZExporter\";\r\n// gui\r\nimport { GUI } from \"three/examples/jsm/libs/dat.gui.module\";\r\n\r\nimport { Clock } from \"three\";\r\n\r\nlet POSTPROCESSING = {\r\n    EffectComposer : EffectComposer,\r\n    RenderPass : RenderPass,\r\n    ShaderPass : ShaderPass,\r\n    OutlinePass : OutlinePass,\r\n    BloomPass : BloomPass,\r\n    UnrealBloomPass : UnrealBloomPass,\r\n    GlitchPass : GlitchPass,\r\n    SSAOPass : SSAOPass,\r\n    SSRPass : SSRPass,\r\n    ReflectorForSSRPass : ReflectorForSSRPass,\r\n    FilmPass : FilmPass,\r\n    BokehPass : BokehPass\r\n};\r\n\r\nlet SHADERS = {\r\n    FilmShader : FilmShader,\r\n    FXAAShader : FXAAShader,\r\n    SSAOShader : SSAOShader\r\n};\r\n\r\nlet LOADERS = {\r\n    GLTFLoader : GLTFLoader,\r\n    FBXLoader : FBXLoader,\r\n    OBJLoader : OBJLoader,\r\n    MTLLoader : MTLLoader,\r\n    DDSLoader : DDSLoader\r\n};\r\n\r\nlet CONTROLS = {\r\n    OrbitControls : OrbitControls,\r\n    PointerLockControls : PointerLockControls\r\n};\r\n\r\nlet EXPORTERS = {\r\n    GLTFExporter : GLTFExporter,\r\n    USDZExporter : USDZExporter\r\n};\r\n\r\nlet GSAP = gsap;\r\nlet CLOCK = Clock;\r\n\r\nlet _args = function(arr) {\r\n\tvar out = { \"obj\" : [], \"str\" : [], \"num\" : [], \"fun\" : [], \"boo\" : [] };\r\n\tif(arr === undefined) { return out; }\r\n\tfor(var i = 0; i < arr.length; i++) {\r\n\t\tvar arg = arr[i];\r\n\t\tvar typ = (typeof arg).substr(0, 3);\r\n\t\tif(out[typ] === undefined) { out[typ] = []; }\r\n\t\tout[typ].push(arg);\r\n\t}\r\n\treturn out;\r\n};\r\n\r\nexport {\r\n    THREE,\r\n    LOADERS,\r\n    CONTROLS,\r\n    POSTPROCESSING,\r\n    SHADERS,\r\n    EXPORTERS,\r\n    GSAP,\r\n    CLOCK,\r\n    GUI,\r\n    _args\r\n};","import { threejs } from './index';\r\nimport {\r\n    THREE,\r\n    POSTPROCESSING,\r\n    CONTROLS,\r\n    _args\r\n} from '../import';\r\n\r\n// ==========================================================================\r\n\r\nlet createScene = function() {\r\n    var args = _args(arguments);\r\n    var width  = args.num[0] || window.innerWidth;\r\n    var height = args.num[1] || window.innerHeight;\r\n    var color  = args.str[0];\r\n    var auto   = args.boo[0];\r\n    // modules\r\n    var scene    = new THREE.Scene();\r\n    var camera   = new THREE.PerspectiveCamera(45, width / height, 0.01, 1000);\r\n    var renderer = new THREE.WebGLRenderer({ antialias : true, alpha : true });\r\n    var controls = new CONTROLS.OrbitControls(camera, renderer.domElement);\r\n    var light    = threejs.createLight('AMBIENT', '#FFF');\r\n    // setup\r\n    scene.add(light);\r\n    renderer.setSize(width, height);\r\n    if(color !== undefined) { scene.background = new THREE.Color(color); }\r\n    else {  }\r\n    // controls\r\n    controls.enablePan       = false;\r\n    controls.autoRotate      = false;\r\n    controls.autoRotateSpeed = 0.8;\r\n    controls.enableDamping   = true;\r\n    controls.dampingFactor   = 0.1;\r\n    threejs.setupControls('ORBIT', controls,\r\n        { x : 0, y : 0, z : 0 },\r\n        { x : 0, y : 0, z : 5 }\r\n    );\r\n    // render\r\n    if(auto !== false) {\r\n        function render() {\r\n            requestAnimationFrame(render);\r\n            controls.update();\r\n            renderer.render(scene, camera);\r\n        }; render();\r\n    }\r\n\r\n    let modules = {\r\n        scene      : scene,\r\n        camera     : camera,\r\n        renderer   : renderer,\r\n        controls   : controls,\r\n        light      :light\r\n    };\r\n\r\n    // user events init\r\n    createEvent.listen(modules);\r\n\r\n    // return\r\n    return modules;\r\n};\r\n\r\n// ==========================================================================\r\n\r\nlet createEffect = function() {\r\n    var args = _args(arguments);\r\n    var names    = args.str;\r\n    var renderer = args.obj[0];\r\n    var scene    = args.obj[1];\r\n    var camera   = args.obj[2];\r\n    var options  = args.obj[3] || {};\r\n\r\n    var w = renderer.domElement.width;\r\n    var h = renderer.domElement.height;\r\n\r\n    // composer and render pass\r\n    var pass;\r\n    let composer = new POSTPROCESSING.EffectComposer(renderer);\r\n    let render   = new POSTPROCESSING.RenderPass(scene, camera);\r\n    composer.addPass(render);\r\n    // output\r\n    let out = { composer : composer, renderPass : render };\r\n    // for each pass\r\n    names.forEach(function(name) {\r\n        name = name.toUpperCase();\r\n        // select pass\r\n        if(name === 'OUTLINE') {\r\n            pass = new POSTPROCESSING.OutlinePass(new THREE.Vector2(w, h), scene, camera);\r\n            pass.edgeStrength = 3;\r\n            pass.visibleEdgeColor.set('#FFFFFF');\r\n        } else if(name === 'BLOOM') {\r\n            pass = new POSTPROCESSING.UnrealBloomPass();\r\n        } else if(name === 'GLITCH') {\r\n            pass = new POSTPROCESSING.GlitchPass();\r\n        } else if(name === 'SSAO') {\r\n            pass = new POSTPROCESSING.SSAOPass(scene, camera, w, h);\r\n            pass.kernelRadius = 0.2;\r\n            pass.minDistance = 0.0001;\r\n            pass.maxDistance = 0.3;\r\n        } else if(name === 'SSR') {\r\n            pass = new POSTPROCESSING.SSRPass(render, scene, camera, w, h);\r\n        } else if(name === 'BOKEH') {\r\n            pass = new POSTPROCESSING.BokehPass(scene, camera, {\r\n                focus: 4.0,\r\n                aperture: 0.0001,\r\n                maxblur: 0.01,\r\n                width: w, height: h\r\n            });\r\n        } else { return; }\r\n        // options\r\n        Object.keys(options).forEach(function(opt) {\r\n            if(options[opt] === undefined) { return; }\r\n            if(opt === 'visibleEdgeColor') {\r\n                pass[opt].set(options[opt]);\r\n            } else {\r\n                pass[opt] = options[opt];\r\n            }\r\n        });\r\n        // add pass\r\n        composer.addPass(pass);\r\n    });\r\n    return out;\r\n};\r\n\r\n// ==============================================================================\r\n\r\nlet createEvent = function() {\r\n    var args = _args(arguments);\r\n    var type     = args.str[0].toLowerCase();\r\n    var object   = arguments[1];\r\n    var callback = args.fun[0];\r\n\r\n    if(Array.isArray(object) === false) {\r\n        object = [object];\r\n    }\r\n\r\n    var arr = createEvent.list;\r\n    object.forEach(function(obj) {\r\n        if(arr[type]) {\r\n            if(arr[type][obj.uuid] === undefined) {\r\n                arr[type][obj.uuid] = [];\r\n            }\r\n            arr[type][obj.uuid].push(callback);\r\n        }\r\n    });\r\n\r\n};\r\n\r\ncreateEvent.list = {\r\n    'click'      : {},\r\n    'mousedown'  : {},\r\n    'mouseup'    : {},\r\n    'mousemove'  : {},\r\n    'mouseenter' : {},\r\n    'mouseleave' : {}\r\n};\r\n\r\ncreateEvent.down = false;\r\n\r\ncreateEvent.last = { object : {} };\r\n\r\ncreateEvent.listen = function(modules) {\r\n    let u = createEvent;\r\n    let cnv = modules.renderer.domElement;\r\n    cnv.addEventListener('mousedown', function(e) {\r\n        u.down = true;\r\n        // mousedown\r\n        var obj = createEvent.cast(e, modules);\r\n        if(obj === null) { return; }\r\n        else { createEvent.callback('mousedown', obj, e); }\r\n    });\r\n    cnv.addEventListener('mousemove', function(e) {\r\n        u.down = false;\r\n        if(u.down === false) {\r\n            // mousemove\r\n            var obj = createEvent.cast(e, modules);\r\n            if(obj === null) { return; }\r\n            else {\r\n                createEvent.callback('mousemove', obj, e);\r\n                if(u.last.object.uuid !== obj.object.uuid) {\r\n                    // mouseleave\r\n                    createEvent.callback('mouseleave', u.last, e);\r\n                    u.last = obj;\r\n                    // mouseenter\r\n                    createEvent.callback('mouseenter', obj, e);\r\n                };\r\n            }\r\n        }\r\n    });\r\n    cnv.addEventListener('mouseup', function(e) {\r\n        if(u.down) {\r\n            // click\r\n            var obj = createEvent.cast(e, modules);\r\n            if(obj === null) { return; }\r\n            else { createEvent.callback('click', obj, e); }\r\n        }\r\n        u.down = false;\r\n    });\r\n};\r\n\r\ncreateEvent.cast = function(event, modules) {\r\n    // positions\r\n    let sz = modules.renderer.domElement.getBoundingClientRect();\r\n\r\n    let xy = new THREE.Vector2();\r\n    xy.x = +(event.layerX / sz.width) * 2 - 1;\r\n    xy.y = -(event.layerY / sz.height) * 2 + 1;\r\n\r\n    // raycaster\r\n    let caster = new THREE.Raycaster();\r\n    caster.setFromCamera(xy, modules.camera);\r\n    let arr = threejs.findByType(modules.scene, 'Mesh', true);\r\n    let out = caster.intersectObjects(arr);\r\n    if(out.length > 0) {\r\n        return out[0];\r\n    } else { return null; }\r\n};\r\n\r\ncreateEvent.callback = function(type, data, event) {\r\n    var uuid = data.object.uuid;\r\n    var list = createEvent.list[type];\r\n    if(list[uuid] === undefined) { return; }\r\n    else {\r\n        list[uuid].forEach(function(f) { f(data, event); });\r\n    }\r\n};\r\n\r\n// ==========================================================================\r\n\r\nlet createObject = function() {\r\n    var args = _args(arguments);\r\n    var data = args.obj[0] || {};\r\n    var opts = args.obj[1];\r\n\r\n    var grr = [\r\n        'Box',\r\n        'Circle',\r\n        'Cone',\r\n        'Cylinder',\r\n        'Dodecahedron',\r\n        'Edges',\r\n        'Extrude',\r\n        'Icosahedron',\r\n        'Lathe',\r\n        'Octahedron',\r\n        'Parametric',\r\n        'Plane',\r\n        'Polyhedron',\r\n        'Ring',\r\n        'Shape',\r\n        'Sphere',\r\n        'Tetrahedron',\r\n        'Text',\r\n        'Torus',\r\n        'TorusKnot',\r\n        'Tube',\r\n        'Wireframe'\r\n    ];\r\n\r\n    var mrr = [\r\n        'LineBasic',\r\n        'LineDashed',\r\n        'MeshBasic',\r\n        'MeshDepth',\r\n        'MeshDistance',\r\n        'MeshLambert',\r\n        'MeshMatcap',\r\n        'MeshNormal',\r\n        'MeshPhong',\r\n        'MeshPhysical',\r\n        'MeshStandard',\r\n        'MeshToon',\r\n        'Points',\r\n        'RawShader',\r\n        'Shader',\r\n        'Shadow',\r\n        'Sprite'\r\n    ];\r\n\r\n    var g = null, m = null;\r\n    Object.keys(data).forEach(function(key) {\r\n        if(grr.indexOf(key) > -1) { g = key; };\r\n        if(mrr.indexOf(key) > -1) { m = key; };\r\n    }); if(g === null || m === null) { return; }\r\n\r\n    var vrr = Object.values(data[g]);\r\n\r\n    g += 'Geometry'\r\n\r\n    var geo;\r\n    if(vrr.length === 0) {\r\n        geo = new THREE[g]();\r\n    } else if(vrr.length === 1) {\r\n        geo = new THREE[g](vrr[0]);\r\n    } else if(vrr.length === 2) {\r\n        geo = new THREE[g](vrr[0], vrr[1]);\r\n    } else if(vrr.length === 3) {\r\n        geo = new THREE[g](vrr[0], vrr[1], vrr[2]);\r\n    } else if(vrr.length === 4) {\r\n        geo = new THREE[g](vrr[0], vrr[1], vrr[2], vrr[3]);\r\n    } else if(vrr.length === 5) {\r\n        geo = new THREE[g](vrr[0], vrr[1], vrr[2], vrr[3], vrr[5]);\r\n    }\r\n\r\n    var mat = new THREE[m + 'Material'](data[m]);\r\n\r\n    var mesh = new THREE.Mesh(geo, mat);\r\n    if(opts) { mesh = threejs.setupObject(mesh, opts); }\r\n    return mesh;\r\n};\r\n\r\nlet createLight = function() {\r\n    var args = _args(arguments);\r\n    var type  = args.str[0] || 'DIRECT';\r\n    var clr   = args.str[1] || '#FFF';\r\n    var int   = args.num[0] || 1;\r\n    var pwr   = args.num[1];\r\n    var pos   = args.obj[0];\r\n    var rot   = args.obj[1];\r\n    var vsb   = args.boo[0];\r\n\r\n    clr = new THREE.Color(clr).getHex();\r\n    type = type.toUpperCase();\r\n\r\n    var light;\r\n    if(type === 'DIRECT') {\r\n        light = new THREE.DirectionalLight(clr, int);\r\n    } else if(type === 'AMBIENT') {\r\n        light = new THREE.AmbientLight(clr, int);\r\n    } else if(type === 'POINT') {\r\n        light = new THREE.PointLight(clr, int);\r\n    } else if(type === 'HEMISPHERE') {\r\n        light = new THREE.HemisphereLight(clr, int);\r\n    } else if(type === 'SPOT') {\r\n        light = new THREE.SpotLight(clr);\r\n    }\r\n    \r\n    if(pwr !== undefined) { light.power = pwr; };\r\n    if(pos !== undefined) { light.position.set(pos.x, pos.y, pos.z); };\r\n    if(rot !== undefined) { light.rotation.set(rot.x, rot.y, rot.z); };\r\n    if(rot !== undefined) { light.rotation.set(rot.x, rot.y, rot.z); };\r\n    if(vsb !== undefined) { light.visible = vsb };\r\n\r\n    return light;\r\n};\r\n\r\n// ==========================================================================\r\n\r\nlet createParticles = function() {\r\n    var args = _args(arguments);\r\n    var stat = args.str[0] || \"\";\r\n    var rots = args.str[1] || \"\";\r\n    var ax   = args.num[0];\r\n    var bx   = args.num[1];\r\n    var ay   = args.num[2];\r\n    var by   = args.num[3];\r\n    var az   = args.num[4];\r\n    var bz   = args.num[5];\r\n    var dx   = args.num[6] || 1;\r\n    var dy   = args.num[7] || 1;\r\n    var dz   = args.num[8] || 1;\r\n    var objs = args.obj;\r\n\r\n    ax = Math.min(ax, bx); bx = Math.max(ax, bx);\r\n    ay = Math.min(ay, by); by = Math.max(ay, by);\r\n    az = Math.min(az, bz); bz = Math.max(az, bz);\r\n\r\n    stat = stat.toUpperCase();\r\n    rots = rots.toUpperCase();\r\n\r\n    function randNumber(a, b) {\r\n        return (Math.random() * (Math.max(a, b) - Math.min(a, b))) + Math.min(a, b);\r\n    };\r\n\r\n    function randObject() {\r\n        return objs[Math.floor(Math.random() * objs.length)];\r\n    };\r\n\r\n    var out = [];\r\n\r\n    for(var x = ax; x <= bx; x += dx) {\r\n        for(var y = ay; y <= by; y += dy) {\r\n            for(var z = az; z <= bz; z += dz) {\r\n                // position\r\n                var rx = x, ry = y, rz = z;\r\n                if(stat.indexOf('X') > -1) { rx = randNumber(ax, bx); }\r\n                if(stat.indexOf('Y') > -1) { ry = randNumber(ay, by); }\r\n                if(stat.indexOf('Z') > -1) { rz = randNumber(az, bz); }\r\n                // rotation\r\n                var ra = 0, rb = 0, rc = 0;\r\n                if(rots.indexOf('X') > -1) { ra = Math.random(); }\r\n                if(rots.indexOf('Y') > -1) { rb = Math.random(); }\r\n                if(rots.indexOf('Z') > -1) { rc = Math.random(); }\r\n                // clone and setup\r\n                var robj = randObject();\r\n                var obj = robj.clone();\r\n                obj.material = robj.material.clone();\r\n                obj.position.set(rx, ry, rz);\r\n                obj.rotation.set(ra, rb, rc);\r\n                out.push(obj);\r\n            };\r\n        };\r\n    };\r\n\r\n    return out;\r\n\r\n};\r\n\r\n// ==========================================================================\r\n\r\nexport {\r\n    createScene,\r\n    createEffect,\r\n    createEvent,\r\n    createLight,\r\n    createObject,\r\n    createParticles\r\n};","import {\r\n    threejs\r\n} from './index';\r\nimport {\r\n    THREE,\r\n    LOADERS,\r\n    _args\r\n} from '../import';\r\n\r\n// ============================================================================\r\n\r\nlet loadAll = function() {\r\n    var args = _args(arguments);\r\n    var files = args.obj[0];\r\n    var callback = args.fun[0] || function() {};\r\n    var progress = args.fun[1] || function() {};\r\n    var loaddata = { mngr : 0 };\r\n\r\n    if(loadAll.isBusy === true) { return; }\r\n    loadAll.isBusy = true;\r\n\r\n    // prepare\r\n    Object.keys(files).forEach(function(key) {\r\n        var type = loadAll.getFileType(files[key]);\r\n        files[key] = { wait : true, path : files[key].split('#')[0] };\r\n        files[key].type = 'load' + type[0] + type.substr(1).toLowerCase();\r\n        files[key].extn = type;\r\n        loaddata[files[key].path] = 0;\r\n    });\r\n\r\n    // manager callback\r\n    loadAll.manager.onProgress = function(u, n) {\r\n        loaddata.mngr = n;\r\n        check();\r\n    };\r\n    \r\n    // checker\r\n    function check() {\r\n        var ready = true;\r\n        var count = 0;\r\n        Object.keys(files).forEach(function(name) {\r\n            if(files[name].wait === true) { ready = false; }\r\n        });\r\n        Object.values(loaddata).forEach(function(x) { count += x; });\r\n        progress(count);\r\n        if(ready && loadAll.isBusy) {\r\n            callback(files);\r\n            loadAll.isBusy = false;\r\n        }\r\n    };\r\n\r\n    // load\r\n    Object.keys(files).forEach(function(name) {\r\n        var type = files[name].type;\r\n        var path = files[name].path;\r\n        threejs[type](path, function(resp) {\r\n            var extn = files[name].extn;\r\n            if(extn !== 'MODEL' && extn !== 'TEXTURE') {\r\n                loaddata[files[name]] = 1;\r\n            }\r\n            files[name] = resp;\r\n            check();\r\n        });\r\n    });\r\n};\r\n\r\nloadAll.isBusy  = false;\r\nloadAll.manager = new THREE.LoadingManager();\r\n\r\nloadAll.getFileType = function(url) {\r\n    var type = 'AJAX', ext;\r\n    if(url.indexOf('#') > -1) {\r\n        // manual\r\n        ext = url.split('#')[1].toUpperCase();\r\n        var arr = ['MODEL', 'TEXTURE', 'IMAGE', 'BITMAP', 'AJAX']\r\n        if(arr.indexOf(ext) > -1) { type = ext; }\r\n    } else {\r\n        // auto\r\n        ext = url.split('.').pop().toLowerCase();\r\n        var e_1 = ['glb', 'gltf', 'fbx', 'obj'];\r\n        var e_2 = ['jpg', 'jpeg', 'png', 'gif', 'bmp'];\r\n        if(e_1.indexOf(ext) > -1) { type = 'MODEL'; }\r\n        if(e_2.indexOf(ext) > -1) { type = 'TEXTURE'; }\r\n    }\r\n    return type;\r\n};\r\n\r\nlet loadImage = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var callback = args.fun[0] || function() {};\r\n\r\n    var image = new Image();\r\n    image.crossOrigin = 'anonymous';\r\n    image.onload = function() { callback(image); }\r\n    image.src = file;\r\n}\r\n\r\nlet loadBitmap = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var callback = args.fun[0] || function() {};\r\n\r\n    new THREE.ImageBitmapLoader().load(file, function(bitmap) {\r\n        callback(bitmap);\r\n    });\r\n};\r\n\r\nlet loadModel = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var callback = args.fun[0] || function() {};\r\n    // get extension\r\n    var ext = file.split('.').pop().toLowerCase();\r\n    // select loader\r\n    var loader;\r\n    if(ext === 'obj') {\r\n\r\n        var mtlfile = file.substr(0, file.lastIndexOf('.obj')) + '.mtl';\r\n\r\n        var mtlload = new LOADERS.MTLLoader(loadAll.manager);\r\n        loader      = new LOADERS.OBJLoader(loadAll.manager);\r\n\r\n        mtlload.load(mtlfile, function(materials) {\r\n            materials.preload();\r\n            loader.setMaterials(materials);\r\n            loader.load(file, function(model) {\r\n                model.traverse(function(child) {\r\n                    if(child.isMesh) {\r\n                        child.material.opacity = 1;\r\n                        child.material.emissive    = child.material.color;\r\n                        child.material.emissiveMap = child.material.map;\r\n                    }\r\n                });\r\n                callback(model);\r\n            });\r\n        });\r\n        return;\r\n\r\n    } else if(ext === 'glb' || ext === 'gltf') {\r\n        loader  = new LOADERS.GLTFLoader(loadAll.manager);\r\n    } else if(ext === 'fbx') {\r\n        loader = new LOADERS.FBXLoader(loadAll.manager);\r\n    } else { callback(null); }\r\n    // load and callback\r\n    loader.load(file, function(model) {\r\n        if(model.scene) { model = model.scene; }\r\n        // texture map fix\r\n        model.traverse(function(child) {\r\n            if(child.isMesh) {\r\n                child.material.emissive    = child.material.color;\r\n                child.material.emissiveMap = child.material.map;\r\n            }\r\n        });\r\n        // return\r\n        callback(model);\r\n    });\r\n};\r\n\r\nlet loadTexture = function() {\r\n    var args = _args(arguments);\r\n    var file     = args.str[0];\r\n    var width    = args.num[0] || 0;\r\n    var height   = args.num[1] || 0;\r\n    var callback = args.fun[0] || function() {};\r\n    // texture loader\r\n    return new THREE.TextureLoader(loadAll.manager).load(file, function(tex) {\r\n        // pattern texture\r\n        if(width !== 0 || height !== 0) {\r\n            tex.wrapS = THREE.RepeatWrapping;\r\n            tex.wrapT = THREE.RepeatWrapping;\r\n            tex.repeat.set(width, height);\r\n        };\r\n        // return\r\n        callback(tex);\r\n    });\r\n};\r\n\r\nlet loadAjax = function() {\r\n    var args = _args(arguments);\r\n    var url = args.str[0];\r\n    var obj = args.obj[0] || { a : 1 };\r\n    var fun = args.fun[0] || function() {};\r\n\r\n\tif(url.indexOf('?') === -1) { url += '?dnjs_ajax_t=' + Date.now(); }\r\n\telse { url += '&dnjs_ajax_t=' + Date.now(); }\r\n\r\n\tvar frm = new FormData();\r\n\tObject.keys(obj).forEach(function(key) {\r\n\t\tvar dat = obj[key];\r\n\t\tif(typeof dat === 'object') { dat = JSON.stringify(dat); }\r\n\t\tfrm.append(key, dat);\r\n\t});\r\n\r\n\tvar xhr = new XMLHttpRequest();\r\n\txhr.open('GET', url, true);\r\n    xhr.onreadystatechange = function() {\r\n        if(this.readyState === 4 && this.status === 200) {\r\n            if(fun != null) {fun(this.responseText); }\r\n        }\r\n    };\r\n\r\n\txhr.send(frm);\r\n\r\n};\r\n\r\n// ============================================================================\r\n\r\nexport {\r\n    loadAll,\r\n    loadAjax,\r\n    loadImage,\r\n    loadBitmap,\r\n    loadModel,\r\n    loadTexture\r\n};","import {\r\n    THREE,\r\n    GSAP,\r\n    CLOCK,\r\n    _args\r\n} from '../import';\r\n\r\n// ============================================================================\r\n\r\nfunction xyzByDist(p1, p2, d) {\r\n    var u = Math.pow(\r\n        Math.pow(p2.x - p1.x, 2) +\r\n        Math.pow(p2.y - p1.y, 2) +\r\n        Math.pow(p2.z - p1.z, 2),\r\n    0.5);\r\n    d = u - d; var s = d / u;\r\n    return {\r\n        x : p1.x + s * (p2.x - p1.x),\r\n        y : p1.y + s * (p2.y - p1.y),\r\n        z : p1.z + s * (p2.z - p1.z)\r\n    }\r\n};\r\n\r\nlet tweenControls = function() {\r\n    var args = _args(arguments);\r\n    var type     = args.str[0].toUpperCase();\r\n    var controls = args.obj[0];\r\n    var pos_1    = args.obj[1];\r\n    var pos_2    = args.obj[2];\r\n    var callback = args.fun[0] || function() {};\r\n    var ease     = args.str[1] || 'power1';\r\n    var offset, time;\r\n    var t_0, t_1, p_0, p_1, d, a, b;\r\n\r\n    var t = controls.target;\r\n    var p = controls.object.position;\r\n\r\n    controls.enabled = false;\r\n\r\n    if(type === 'FIXED') {\r\n        time   = args.num[0] / 1000;\r\n        d = { x : t.x - p.x, y : t.y - p.y, z : t.z - p.z };\r\n        t_0 = { x : t.x, y : t.y, z : t.z };\r\n        t_1 = { ease : ease, duration : time };\r\n        Object.keys(pos_1).forEach(function(k) { t_1[k] = pos_1[k]; });\r\n\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                controls.enabled = true;\r\n                controls.update();\r\n                callback();\r\n            },\r\n            onUpdate : function() {\r\n                controls.object.position.set(t_0.x, t_0.y, t_0.z);\r\n                controls.target.set(t_0.x + d.x, t_0.y + d.y, t_0.z + d.z);\r\n                controls.update();\r\n            }\r\n        }).fromTo(t_0, t_0, t_1);\r\n    };\r\n\r\n    if(type === 'LOOSE') {\r\n        offset = args.num[0];\r\n        time   = args.num[1] / 1000;\r\n        t_0 = { x : t.x, y : t.y, z : t.z };\r\n        p_0 = { x : p.x, y : p.y, z : p.z };\r\n        t_1 = { ease : ease, duration : time };\r\n        Object.keys(pos_1).forEach(function(k) { t_1[k] = pos_1[k]; });\r\n\r\n        p_1 = xyzByDist(p_0, t_1, offset);\r\n        var startRotation = new THREE.Euler().copy(controls.object.rotation);\r\n        \r\n        a = { px : p_0.x, py : p_0.y, pz : p_0.z, tx : t_0.x, ty : t_0.y, tz : t_0.z };\r\n        b = { px : p_1.x, py : p_1.y, pz : p_1.z, tx : t_1.x, ty : t_1.y, tz : t_1.z };\r\n        b.ease = ease;\r\n        b.duration = time;\r\n\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                controls.enabled = true;\r\n                callback();\r\n            },\r\n            onUpdate : function() {\r\n                controls.target.set(a.tx, a.ty, a.tz);\r\n                controls.object.position.set(a.px, a.py, a.pz);\r\n                controls.update();\r\n                controls.object.rotation.copy(startRotation);\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    };\r\n\r\n    if(type === 'EXACT') {\r\n        time = args.num[0] / 1000;\r\n        t_0 = { x : t.x, y : t.y, z : t.z };\r\n        p_0 = { x : p.x, y : p.y, z : p.z };\r\n        p_1 = { };\r\n        t_1 = { ease : ease, duration : time };\r\n        Object.keys(pos_1).forEach(function(k) { t_1[k] = pos_1[k]; });\r\n        Object.keys(pos_2).forEach(function(k) { p_1[k] = pos_2[k]; });\r\n        a = { px : p_0.x, py : p_0.y, pz : p_0.z, tx : t_0.x, ty : t_0.y, tz : t_0.z };\r\n        b = { px : p_1.x, py : p_1.y, pz : p_1.z, tx : t_1.x, ty : t_1.y, tz : t_1.z };\r\n        b.ease = ease;\r\n        b.duration = time;\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                controls.enabled = true;\r\n                callback();\r\n            },\r\n            onUpdate : function() {\r\n                controls.target.set(a.tx, a.ty, a.tz);\r\n                controls.object.position.set(a.px, a.py, a.pz);\r\n                controls.update();\r\n            }\r\n        }).fromTo(a, a, b);\r\n    };\r\n    \r\n};\r\n\r\ntweenControls.captureSpot = function() {\r\n    var args = _args(arguments);\r\n    var controls = args.obj[0];\r\n    window.addEventListener('dblclick', function() {\r\n        console.log(['TARGET']);\r\n        console.log('x ==> ', controls.target.x);\r\n        console.log('y ==> ', controls.target.y);\r\n        console.log('z ==> ', controls.target.z);\r\n        console.log(['CAMERA']);\r\n        console.log('x ==> ', controls.object.position.x);\r\n        console.log('y ==> ', controls.object.position.y);\r\n        console.log('z ==> ', controls.object.position.z);\r\n    });\r\n};\r\n\r\nlet tweenObject = function() {\r\n    var args = _args(arguments);\r\n    var obj  = args.obj[0];\r\n    var val  = args.obj[1];\r\n    var ease = args.str[0] || 'power1';\r\n    var time = args.num[0] || 1000;\r\n    var back = args.fun[0] || function() {};\r\n    // prepare\r\n    var a = {}, b = { ease : ease, duration : time / 1000 };\r\n    var arr = ['position', 'rotation', 'scale'];\r\n    arr.forEach(function(type) {\r\n        // defaults\r\n        a[type + 'X'] = b[type + 'X'] = obj[type].x;\r\n        a[type + 'Y'] = b[type + 'Y'] = obj[type].y;\r\n        a[type + 'Z'] = b[type + 'Z'] = obj[type].z;\r\n        // updates\r\n        if(val[type]) {\r\n            if(val[type].x !== undefined) { b[type + 'X'] = val[type].x; }\r\n            if(val[type].y !== undefined) { b[type + 'Y'] = val[type].y; }\r\n            if(val[type].z !== undefined) { b[type + 'Z'] = val[type].z; }\r\n        }\r\n    });\r\n    // tween\r\n    GSAP.timeline({\r\n        onComplete : function() {\r\n            back();\r\n        },\r\n        onUpdate : function() {\r\n            Object.keys(a).forEach(function(key) {\r\n                if(key === '_GSAP' || key === '_gsap') { return; }\r\n                var type = key.substr(0, key.length - 1);\r\n                var axis = key[key.length - 1].toLocaleLowerCase();\r\n                obj[type][axis] = a[key];\r\n            });\r\n        }\r\n    }).fromTo(a, a, b);\r\n};\r\n\r\nlet tweenMaterial = function() {\r\n    var args = _args(arguments);\r\n    var type = args.str[0] || 'VALUE';\r\n    var mesh = args.obj[0];\r\n    var data = args.obj[1];\r\n    var time = args.num[0] || 1000;\r\n    var ease = args.str[1] || 'power1';\r\n    var back = args.fun[0] || function() {};\r\n    var a, b;\r\n\r\n    if(type === 'CLONE') {\r\n        // mesh duplicate\r\n        let new_mesh = mesh.clone(false);\r\n        mesh.add(new_mesh);\r\n        // material duplicate\r\n        new_mesh.material = mesh.material.clone();\r\n        // maps array\r\n        let mprr = [\r\n            'alphaMap', 'aoMap', 'bumpMap', 'displacementMap', 'emissiveMap',\r\n            'envMap', 'lightMap', 'map', 'normalMap', 'roughnessMap'\r\n        ];\r\n        // clone maps\r\n        mprr.forEach(function(map) {\r\n            if(mesh.material[map]) {\r\n                new_mesh.material[map] = mesh.material[map].clone();\r\n                new_mesh.material[map].needsUpdate = true;\r\n            }\r\n        });\r\n        // set maps\r\n        Object.keys(data).forEach(function(key) {\r\n            if(mprr.indexOf(key) > -1) {\r\n                new_mesh.material[key].image = data[key];\r\n            } else {\r\n                new_mesh.material[key] = data[key];\r\n            }\r\n        });\r\n        // transparent\r\n        new_mesh.material.transparent = true;\r\n        new_mesh.material.opacity = 0;\r\n        new_mesh.material.needsUpdate = true;\r\n        // tween\r\n        a = { opacity : 0 };\r\n        b = { opacity : 1, duration : time / 1000, ease : ease };\r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                // callback\r\n                mesh.material = new_mesh.material;\r\n                mesh.remove(new_mesh);\r\n                back();\r\n            },\r\n            onUpdate : function() {\r\n                new_mesh.material.opacity = a.opacity;\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    }\r\n\r\n    if(type === 'VALUE') {\r\n        a = {};\r\n        b = { duration : time / 1000, ease : ease };\r\n        Object.keys(data).forEach(function(key) {\r\n            if(typeof mesh.material[key] === 'object') {\r\n                let obj = mesh.material[key];\r\n                Object.keys(obj).forEach(function(sky) {\r\n                    a[key + '.' + sky] = mesh.material[key][sky];\r\n                    b[key + '.' + sky] = data[key][sky];\r\n                });\r\n            } else {\r\n                a[key] = mesh.material[key];\r\n                b[key] = data[key];\r\n            }\r\n        });\r\n      \r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                back();\r\n            },\r\n            onUpdate : function() {\r\n                Object.keys(a).forEach(function(key) {\r\n                    if(key.indexOf('.') > -1) {\r\n                        var t = key.split('.');\r\n                        mesh.material[t[0]][t[1]] = a[key];\r\n                    } else {\r\n                        mesh.material[key] = a[key];\r\n                    }\r\n                });\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    }\r\n\r\n};\r\n\r\nlet tweenLight = function() {\r\n    var args = _args(arguments);\r\n    var lght = args.obj[0];\r\n    var data = args.obj[1];\r\n    var time = args.num[0] || 1000;\r\n    var ease = args.str[0] || 'power1';\r\n    var back = args.fun[0] || function() {};\r\n\r\n    if(Array.isArray(lght) === false) { lght = [lght]; }\r\n\r\n    lght.forEach(function(lgt, i) {\r\n        var a = {}, b = { duration : time / 1000, ease : ease };\r\n    \r\n        Object.keys(data).forEach(function(key) {\r\n            a[key] = lght[key];\r\n            b[key] = data[key];\r\n            if(a[key] === undefined) {  a[key] = 0; }\r\n        });\r\n        \r\n        GSAP.timeline({\r\n            onComplete : function() {\r\n                if(i === lght.length - 1) { back(); }\r\n            },\r\n            onUpdate : function() {\r\n                Object.keys(a).forEach(function(key) {\r\n                    lgt[key] = a[key];\r\n                });\r\n            }\r\n        }).fromTo(a, a, b);\r\n\r\n    });\r\n\r\n};\r\n\r\nlet tweenAnimation = function() {\r\n    let args = _args(arguments);\r\n    let mesh = args.obj[0];\r\n    let stop = args.boo[0];\r\n    let anim, time;\r\n    // select animation and speed time\r\n    if(args.obj.length === 1 && args.num.length === 2) {\r\n        anim = mesh.animations[args.num[0]];\r\n        time = args.num[1];\r\n    } else if(args.num.length === 1 && args.str.length === 1) {\r\n        anim = THREE.AnimationClip.findByName(mesh.animations, args.str[0]);\r\n        time = args.num[0];\r\n    } else if(args.str.length === 0 && args.obj.length === 2) {\r\n        anim = args.obj[1];\r\n        time = args.num[0];\r\n    } else {\r\n        anim = mesh.animations[0];\r\n        time = args.num[0];\r\n    }\r\n\r\n    let list = tweenAnimation.animations;\r\n    var uuid = mesh.uuid;\r\n    let mixr, acts;\r\n\r\n    if(time === undefined) { time = 1; }\r\n    if(stop !== undefined && list[uuid]) {\r\n        list[uuid].plays = stop;\r\n        if(stop === false) { list[uuid].clock.stop(); }\r\n        else { list[uuid].clock.start(); }\r\n        list[uuid].speed = time;\r\n        return;\r\n    }\r\n\r\n    if(list[uuid]) {\r\n        mixr = list[uuid];\r\n        mixr.speed = time;\r\n        acts = mixr.mixer.clipAction(anim);\r\n    } else {\r\n        mixr = list[uuid] = {\r\n            mixer : new THREE.AnimationMixer(mesh),\r\n            speed : time,\r\n            plays : true,\r\n            clock : new CLOCK()\r\n        };\r\n        acts = mixr.mixer.clipAction(anim);\r\n    };\r\n\r\n    mixr.clock.start();\r\n    acts.play();\r\n\r\n};\r\n\r\ntweenAnimation.animations = {};\r\ntweenAnimation.animate = function() {\r\n    requestAnimationFrame(tweenAnimation.animate);\r\n    Object.values(tweenAnimation.animations).forEach(function(obj) {\r\n        if(obj.plays) {\r\n            obj.mixer.update(obj.clock.getDelta() * obj.speed);\r\n        }\r\n    });\r\n}; tweenAnimation.animate();\r\n\r\n// ============================================================================\r\n\r\nexport {\r\n    tweenAnimation,\r\n    tweenControls,\r\n    tweenMaterial,\r\n    tweenObject,\r\n    tweenLight\r\n};","import {\r\n    checkControls,\r\n    checkConsole,\r\n    checkTransform,\r\n    checkObjects\r\n} from \"./_check\";\r\n\r\nimport {\r\n    createScene,\r\n    createEffect,\r\n    createEvent,\r\n    createLight,\r\n    createObject,\r\n    createParticles\r\n} from './_create';\r\n\r\nimport {\r\n    exportModel\r\n} from './_export';\r\n\r\nimport {\r\n    findAll,\r\n    findById,\r\n    findByName,\r\n    findByType,\r\n    findByProperty,\r\n    findByMaterialName,\r\n    findByMaterialProperty\r\n} from './_find';\r\n\r\nimport {\r\n    evalPoints\r\n} from './_eval';\r\n\r\nimport {\r\n    loadAll,\r\n    loadAjax,\r\n    loadImage,\r\n    loadBitmap,\r\n    loadModel,\r\n    loadTexture\r\n} from './_load';\r\n\r\nimport {\r\n    setupControls,\r\n    setupObject,\r\n    setupScene,\r\n    setupMaterial\r\n} from './_setup';\r\n\r\nimport {\r\n    tweenAnimation,\r\n    tweenControls,\r\n    tweenMaterial,\r\n    tweenObject,\r\n    tweenLight\r\n} from './_tween';\r\n\r\nlet threejs = {\r\n    checkControls : checkControls,\r\n    checkConsole : checkConsole,\r\n    checkTransform : checkTransform,\r\n    checkObjects : checkObjects,\r\n    exportModel : exportModel,\r\n    tweenAnimation : tweenAnimation,\r\n    createScene : createScene,\r\n    createEffect : createEffect,\r\n    createEvent : createEvent,\r\n    createObject : createObject,\r\n    createLight : createLight,\r\n    createParticles : createParticles,\r\n    evalPoints : evalPoints,\r\n    findAll : findAll,\r\n    findById : findById,\r\n    findByName : findByName,\r\n    findByType : findByType,\r\n    findByProperty : findByProperty,\r\n    findByMaterialName : findByMaterialName,\r\n    findByMaterialProperty : findByMaterialProperty,\r\n    loadAll : loadAll,\r\n    loadAjax : loadAjax,\r\n    loadImage : loadImage,\r\n    loadBitmap : loadBitmap,\r\n    loadModel : loadModel,\r\n    loadTexture : loadTexture,\r\n    setupControls : setupControls,\r\n    setupObject : setupObject,\r\n    setupScene : setupScene,\r\n    setupMaterial : setupMaterial,\r\n    tweenControls : tweenControls,\r\n    tweenMaterial : tweenMaterial,\r\n    tweenObject : tweenObject,\r\n    tweenLight : tweenLight\r\n};\r\n\r\nexport { threejs };","import { _args, EXPORTERS } from \"../import\";\r\n\r\nlet exportModel = function() {\r\n    let args = _args(arguments);\r\n    let obj = args.obj[0];\r\n    let ext = args.str[0] || 'GLTF';\r\n    let fnc = args.fun[0] || function() {};\r\n\r\n    ext = ext.toUpperCase();\r\n    function dne(blob) {\r\n        fnc(URL.createObjectURL(blob));\r\n    };\r\n\r\n    if(ext === 'USDZ') {\r\n        new EXPORTERS.USDZExporter().parse(obj).then(function(result) {\r\n            dne(new Blob([result], { type: 'application/octet-stream' }));\r\n        });\r\n    }\r\n\r\n    if(ext === 'GLTF') {\r\n        new EXPORTERS.GLTFExporter().parse(obj, function(result) {\r\n            if(result instanceof ArrayBuffer) {\r\n                dne(new Blob([result], { type: 'application/octet-stream' }));\r\n            } else {\r\n                const output = JSON.stringify( result, null, 2 );\r\n                dne(new Blob([output], { type: 'text/plain' }));\r\n            }\r\n        });\r\n    }\r\n\r\n};\r\n\r\nexport {\r\n    exportModel\r\n};","import { _args } from '../import';\r\n\r\nfunction evalPoints() {\r\n    var args = _args(arguments);\r\n    let typ = args.str[0].toUpperCase();\r\n    let obj, obj_1, obj_2, rnd, cam;\r\n    if(typ === 'BETWEEN') {\r\n        // variables\r\n        obj_1 = args.obj[0];\r\n        obj_2 = args.obj[1];\r\n        let vec_1 = obj_1;\r\n        let vec_2 = obj_2;\r\n        // get points\r\n        if(vec_1.position) { vec_1 = obj_1.position; }\r\n        if(vec_2.position) { vec_2 = obj_2.position; }\r\n        // calulation\r\n        return Math.pow(\r\n            Math.pow(vec_1.x - vec_2.x, 2) +\r\n            Math.pow(vec_1.y - vec_2.y, 2) +\r\n            Math.pow(vec_1.z - vec_2.z, 2), 0.5\r\n        );\r\n    } else if(typ === 'SCREEN') {\r\n        // variables\r\n        obj = args.obj[0];\r\n        cam = args.obj[1];\r\n        rnd = args.obj[2];\r\n        // project\r\n\r\n        // screen size\r\n        let widthHalf = rnd.domElement.width / 2;\r\n        let heightHalf = rnd.domElement.height / 2;\r\n        // position\r\n        let pos = obj.position.clone();\r\n        pos.project(cam);\r\n        pos.x = + (pos.x * widthHalf)  + widthHalf;\r\n        pos.y = - (pos.y * heightHalf) + heightHalf;\r\n\r\n        return pos;\r\n    }\r\n};\r\n\r\nexport {\r\n    evalPoints\r\n};","import {\r\n    _args\r\n} from '../import';\r\n\r\n// ==========================================================================\r\n\r\nlet findAll = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        out.push(obj);\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n    return out;\r\n};\r\n\r\nlet findById = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var name  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.uuid === name) {\r\n            out.push(obj);\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByName = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var name  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.name === name) {\r\n            out.push(obj);\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByMaterialName = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var name  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.material !== undefined) {\r\n            if(obj.material.name === name) {\r\n                out.push(obj);\r\n            }\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByType = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var type  = args.str[0];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.type === type) {\r\n            out.push(obj);\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByProperty = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var data  = args.obj[1];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        Object.keys(data).forEach(function(key) {\r\n            if(obj[key] === data[key]) { out.push(obj); }\r\n        });\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\nlet findByMaterialProperty = function() {\r\n    var args = _args(arguments);\r\n    var model = args.obj[0];\r\n    var data  = args.obj[1];\r\n    var mult  = args.boo[0];\r\n\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.material !== undefined) {\r\n            Object.keys(data).forEach(function(key) {\r\n                if(obj.material[key] === data[key]) { out.push(obj); }\r\n            });\r\n        }\r\n        if(obj.children !== undefined) {\r\n            for(var i = 0; i < obj.children.length; i++) {\r\n                recMesh(obj.children[i]);\r\n            }\r\n        }\r\n    }; recMesh(model);\r\n\r\n    if(mult) { return out; }\r\n    else { return out[0]; }\r\n};\r\n\r\n// ==========================================================================\r\n\r\nexport {\r\n    findAll,\r\n    findById,\r\n    findByName,\r\n    findByType,\r\n    findByProperty,\r\n    findByMaterialName,\r\n    findByMaterialProperty\r\n};","import { threejs } from './index';\r\nimport { _args, THREE } from '../import';\r\n\r\n// ============================================================================\r\n\r\nlet setupObject = function() {\r\n    var args = _args(arguments);\r\n    var objs = args.obj[0];\r\n    var data = args.obj[1];\r\n    if(Array.isArray(objs) === false) { objs = [objs];  }\r\n\r\n    var orr = ['position', 'rotation', 'scale'];\r\n\r\n    objs.forEach(function(obj) {\r\n        Object.keys(data).forEach(function(key) {\r\n            if(orr.indexOf(key) > -1) {\r\n                if(data[key].x !== undefined) { obj[key].x = data[key].x; }\r\n                if(data[key].y !== undefined) { obj[key].y = data[key].y; }\r\n                if(data[key].z !== undefined) { obj[key].z = data[key].z; }\r\n            } else {\r\n                obj[key] = data[key];\r\n            }\r\n        });\r\n    });\r\n\r\n    if(objs.length === 1) { return objs[0]; }\r\n    else { return objs; }\r\n};\r\n\r\nlet setupMaterial = function() {\r\n    var args = _args(arguments);\r\n    var mats = args.obj[0];\r\n    var data = args.obj[1];\r\n    var txar = [\r\n        'alphaMap', 'aoMap', 'bumpMap', 'displacementMap', 'emissiveMap',\r\n        'envMap', 'lightMap', 'map', 'normalMap', 'roughnessMap'\r\n    ];\r\n    var clar = [\r\n        'color', 'emissive', 'specular'\r\n    ];\r\n    if(Array.isArray(mats) === false) { mats = [mats];  }\r\n    mats.forEach(function(mat) {\r\n        Object.keys(data).forEach(function(key) {\r\n            if(clar.indexOf(key) > -1) {\r\n                // color\r\n                mat[key] = new THREE.Color(data[key]);\r\n            } else if(txar.indexOf(key) > -1 && typeof data[key] === 'string') {\r\n                // texture url\r\n                mat[key] = threejs.loadTexture(data[key]);\r\n            } else {\r\n                mat[key] = data[key];\r\n            }\r\n        });\r\n    });\r\n\r\n    if(mats.length === 1) { return mats[0]; }\r\n    else { return mats; }\r\n};\r\n\r\nlet setupScene = function() {\r\n    var args = _args(arguments);\r\n    var renderer = args.obj[0];\r\n    var camera   = args.obj[1];\r\n    var composer = args.obj.splice(2);\r\n    var width    = args.num[0] || window.innerWidth;\r\n    var height   = args.num[1] || window.innerHeight;\r\n    renderer.setSize(width, height);\r\n    composer.forEach(function(c) { c.setSize(width, height); })\r\n    camera.aspect = width / height;\r\n    camera.updateProjectionMatrix();\r\n};\r\n\r\nlet setupControls = function() {\r\n    var args = _args(arguments);\r\n    var type     = args.str[0].toUpperCase();\r\n    var controls = args.obj[0];\r\n    var target, position, options;\r\n    // pivot controls\r\n    if(type === 'SHOOT') {\r\n        options  = args.obj[1] || {};\r\n        position = args.obj[2] || { x : 0, y : 0, z : 0 };\r\n\r\n        controls.target.set(\r\n            position.x,\r\n            position.y,\r\n            position.z\r\n        );\r\n        controls.object.position.set(\r\n            position.x,\r\n            position.y,\r\n            position.z + 0.01\r\n        );\r\n        controls.enableZoom  = false;\r\n        controls.rotateSpeed = -0.3;\r\n    }\r\n    // pivot controls\r\n    if(type === 'ORBIT') {\r\n        target   = args.obj[1] || { x : 0, y : 0, z : 0 };\r\n        position = args.obj[2] || { x : 0, y : 0, z : 0 };\r\n        options  = args.obj[3] || {};\r\n\r\n        controls.target.set(\r\n            target.x,\r\n            target.y,\r\n            target.z\r\n        );\r\n        controls.object.position.set(\r\n            position.x,\r\n            position.y,\r\n            position.z\r\n        );\r\n        controls.enableZoom  = true;\r\n        controls.rotateSpeed = 1;\r\n    }\r\n    // exact controls\r\n    if(type === 'EXACT') {\r\n        target   = args.obj[1] || { x : 0, y : 0, z : 0 };\r\n        position = args.obj[2] || { x : 0, y : 0, z : 0 };\r\n        options  = args.obj[3] || {};\r\n\r\n        controls.target.set(\r\n            target.x,\r\n            target.y,\r\n            target.z\r\n        );\r\n        controls.object.position.set(\r\n            position.x,\r\n            position.y,\r\n            position.z\r\n        );\r\n        controls.enableZoom  = false;\r\n        controls.rotateSpeed = -0.3;\r\n    }\r\n\r\n    // manual props\r\n    Object.keys(options).forEach(function(opt) {\r\n        controls[opt] = options[opt];\r\n    });\r\n\r\n    controls.update();\r\n};\r\n\r\n// ============================================================================\r\n\r\nexport {\r\n    setupControls,\r\n    setupObject,\r\n    setupScene,\r\n    setupMaterial\r\n};","import { THREE } from '../import';\r\n\r\nlet XRWebGLLayer = window.XRWebGLLayer;\r\n\r\nlet checkAvailability = async (onSupport, onError) => {\r\n    // each state check\r\n    var req_1 = navigator.xr;\r\n    var req_2 = navigator.xr.isSessionSupported;\r\n    var req_3 = await navigator.xr.isSessionSupported(\"immersive-ar\");\r\n    if(req_1 && req_2 && req_3) {\r\n        onSupport();\r\n    } else { onError(); }\r\n};\r\n\r\n// request API session\r\nlet requestSession = async (element, callback) => {\r\n    try {\r\n        // initalize XR session\r\n        const session = await navigator.xr.requestSession(\"immersive-ar\", {\r\n            requiredFeatures : ['hit-test', 'dom-overlay'],\r\n            domOverlay : { root : element }\r\n        });\r\n        // next step\r\n        configureCanvas(element, session, callback);\r\n    } catch(e) { console.error(e); }\r\n};\r\n\r\n// create canvas and configure context\r\nlet configureCanvas = async (element, session, callback) => {\r\n    const canvas = document.createElement(\"canvas\");\r\n    const context = canvas.getContext(\"webgl\", { xrCompatible : true });\r\n    session.updateRenderState({\r\n      baseLayer : new XRWebGLLayer(session, context)\r\n    });\r\n    // next step\r\n    await configureScene(\r\n        element,\r\n        session,\r\n        canvas,\r\n        context,\r\n        callback\r\n    );\r\n};\r\n\r\n// create Three.js modules and connect with context\r\nlet configureScene = async (element, session, canvas, context, callback) => {\r\n    const scene  = new THREE.Scene();\r\n    const camera = new THREE.PerspectiveCamera();\r\n    camera.matrixAutoUpdate = false;\r\n    const renderer = new THREE.WebGLRenderer({\r\n        alpha   : true,\r\n        preserveDrawingBuffer : true,\r\n        canvas  : canvas,\r\n        context : context\r\n    });\r\n\r\n    // next step\r\n    await configureLights(\r\n        element,\r\n        session,\r\n        canvas,\r\n        context,\r\n        scene,\r\n        camera,\r\n        renderer,\r\n        callback\r\n    );\r\n};\r\n\r\n// add light system to scene\r\nlet configureLights = async (element, session, canvas, context, scene, camera, renderer, callback) => {\r\n    const light = new THREE.AmbientLight(0xffffff, 0.5);\r\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.3);\r\n    directionalLight.position.set(10, 15, 10);\r\n    // We want this light to cast shadow.\r\n    directionalLight.castShadow = true;\r\n    // Make a large plane to receive our shadows\r\n    const planeGeometry = new THREE.PlaneGeometry(2000, 2000);\r\n    // Rotate our plane to be parallel to the floor\r\n    planeGeometry.rotateX(-Math.PI / 2);\r\n    // Create a mesh with a shadow material, resulting in a mesh\r\n    // that only renders shadows once we flip the `receiveShadow` property.\r\n    const shadowMesh = new THREE.Mesh(planeGeometry, new THREE.ShadowMaterial({\r\n      color: 0x111111,\r\n      opacity: 0.2,\r\n    }));\r\n    // Give it a name so we can reference it later, and set `receiveShadow`\r\n    // to true so that it can render our model's shadow.\r\n    shadowMesh.name = 'shadowMesh';\r\n    shadowMesh.receiveShadow = true;\r\n    shadowMesh.position.y = 10000;\r\n    // Add lights and shadow material to scene.\r\n    scene.add(shadowMesh);\r\n    scene.add(light);\r\n    scene.add(directionalLight);\r\n    // next step\r\n    await configureReferenceSpaces(\r\n        element,\r\n        session,\r\n        canvas,\r\n        context,\r\n        scene,\r\n        camera,\r\n        renderer,\r\n        callback\r\n    );\r\n};\r\n\r\n// strat WebXR API\r\nlet configureReferenceSpaces = async (element, session, canvas, context, scene, camera, renderer, callback) => {\r\n    // Setup an XRReferenceSpace using the \"local\" coordinate system.\r\n    const localReferenceSpace = await session.requestReferenceSpace('local');\r\n    // Create another XRReferenceSpace that has the viewer as the origin.\r\n    const viewerSpace = await session.requestReferenceSpace('viewer');\r\n    // Perform hit testing using the viewer as origin.\r\n    const hitTestSource = await session.requestHitTestSource({\r\n        space : viewerSpace\r\n    });\r\n    // next step\r\n    await callback({\r\n        element : element,\r\n        session : session,\r\n        canvas : canvas,\r\n        context : context,\r\n        scene : scene,\r\n        camera : camera,\r\n        renderer : renderer,\r\n        localReferenceSpace : localReferenceSpace,\r\n        viewerSpace : viewerSpace,\r\n        hitTestSource : hitTestSource\r\n    });\r\n};\r\n\r\nlet renderLoop = function(obj, onHitPoseUpdate = function() {}) {\r\n    \r\n    let session = obj.session;\r\n    let scene = obj.scene;\r\n    let camera = obj.camera;\r\n    let renderer = obj.renderer;\r\n    let context = obj.context;\r\n    let localReferenceSpace = obj.localReferenceSpace;\r\n    let hitTestSource = obj.hitTestSource;\r\n    \r\n    \r\n    function render(time, frame) {\r\n        session.requestAnimationFrame(render);\r\n        // bind the graphics framebuffer to the baseLayer's framebuffer.\r\n        const framebuffer = session.renderState.baseLayer.framebuffer;\r\n        context.bindFramebuffer(context.FRAMEBUFFER, framebuffer);\r\n        // get pose of the device\r\n        const pose = frame.getViewerPose(localReferenceSpace);\r\n        if(pose) {\r\n            const view = pose.views[0];\r\n            const viewport = session.renderState.baseLayer.getViewport(view);\r\n            renderer.setSize(viewport.width, viewport.height)\r\n            // update camera\r\n            camera.matrix.fromArray(view.transform.matrix)\r\n            camera.projectionMatrix.fromArray(view.projectionMatrix);\r\n            camera.updateMatrixWorld(true);\r\n            // get retical hit result\r\n            const hitTestResults = frame.getHitTestResults(hitTestSource);\r\n            if(hitTestResults.length > 0) {\r\n            const hitPose = hitTestResults[0].getPose(localReferenceSpace);\r\n                // callback position\r\n                onHitPoseUpdate(hitPose);\r\n            }\r\n            // render to canvas\r\n            renderer.render(scene, camera);\r\n        }\r\n    };\r\n    // frame request loop\r\n    session.requestAnimationFrame(render);\r\n};\r\n\r\nlet immersivear = {\r\n    checkAvailability,\r\n    requestSession,\r\n    renderLoop\r\n};\r\n\r\nexport { immersivear };","//import { _args } from '../import';\r\nimport './index.css';\r\n\r\nlet _args = function(arr) {\r\n\tvar out = { \"obj\" : [], \"str\" : [], \"num\" : [], \"fun\" : [], \"boo\" : [] };\r\n\tif(arr === undefined) { return out; }\r\n\tfor(var i = 0; i < arr.length; i++) {\r\n\t\tvar arg = arr[i];\r\n\t\tvar typ = (typeof arg).substr(0, 3);\r\n\t\tif(out[typ] === undefined) { out[typ] = []; }\r\n\t\tout[typ].push(arg);\r\n\t}\r\n\treturn out;\r\n};\r\n\r\n\r\n// import model-viewer script once\r\nlet initialize = function() {\r\n    if(initialize.done) { return; }\r\n    let e = document.createElement('script');\r\n    //let j = 'https://unpkg.com/@google/model-viewer@1.8.0/dist/model-viewer-umd.js';\r\n    let j = 'libs/model-viewer-umd.js';\r\n    e.setAttribute('src', j);\r\n    document.head.appendChild(e);\r\n    initialize.done = true;\r\n}; initialize.done = false;\r\n\r\nlet createView = function() {\r\n    // initialize\r\n    //initialize();\r\n    let args = _args(arguments);\r\n    let source = args.obj[0] || {};\r\n    // create element\r\n    let mv = document.createElement('model-viewer');\r\n    // sources\r\n    mv.setAttribute('src', source.src);\r\n    mv.setAttribute('ios-src', source.ios);\r\n    // options\r\n    mv.setAttribute('ar', true);\r\n    mv.setAttribute('ar-modes', 'webxr');\r\n    mv.setAttribute('ar-placement', 'floor');\r\n    mv.setAttribute('camera-controls', true);\r\n    return mv;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nlet modelviewer = {\r\n    createView\r\n};\r\n\r\nexport { modelviewer };","import { threejs } from './three.js';\r\nimport { immersivear } from './immersive-ar';\r\nimport { modelviewer } from './model-viewer';\r\n\r\nimport {\r\n    THREE,\r\n    GSAP,\r\n    GUI,\r\n    POSTPROCESSING,\r\n    SHADERS,\r\n    LOADERS,\r\n    CONTROLS,\r\n    CLOCK\r\n} from './import';\r\n\r\nlet TrinityEngine = {\r\n    \"three.js\" : threejs,\r\n    \"immersive-ar\" : immersivear,\r\n    \"model-viewer\" : modelviewer\r\n};\r\n\r\nexport {\r\n    TrinityEngine,\r\n    THREE,\r\n    GSAP,\r\n    GUI,\r\n    POSTPROCESSING,\r\n    SHADERS,\r\n    LOADERS,\r\n    CONTROLS,\r\n    CLOCK\r\n};","import { TrinityEngine, THREE } from \"../../engine\";\r\nimport \"./arimac.css\";\r\n\r\nwindow.addEventListener('contextmenu', function(e) {\r\n    e.preventDefault();\r\n    return false;\r\n});\r\n\r\nlet GL = TrinityEngine[\"three.js\"];\r\n\r\nlet LoadingScreen = {};\r\n\r\nlet arimac = GL.createScene(160, 160, false);\r\narimac.isLoading = true;\r\narimac.controls.enabled = false;\r\n\r\nfunction render() {\r\n    requestAnimationFrame(render);\r\n    if(arimac.isLoading && arimac.logo) {\r\n        arimac.renderer.render(arimac.scene, arimac.camera);\r\n        let r = arimac.logo.rotation;\r\n        let y = r.y % (Math.PI * 2);\r\n        let speed = 0.03;\r\n        if(y > 0.3 && y < 5.8) { speed = 0.07; }\r\n        arimac.logo.rotation.y += speed;\r\n    }\r\n}; render();\r\n\r\nlet light = new THREE.AmbientLight(0xffffff, 0.7);\r\narimac.scene.add(light);\r\n\r\nLoadingScreen.start = function(color, callback = function() {}) {\r\n    // elements and modules setup\r\n    arimac.scene.background = new THREE.Color(color);\r\n    arimac.root = document.querySelector('.arimac_load');\r\n    arimac.root.style.background = color;\r\n    arimac.renderer.domElement.style.background = color;\r\n\r\n    document.querySelector('.arimac_logo').style.display = 'block';\r\n\r\n    arimac.root.style.display = 'block';\r\n\r\n    let elem = document.createElement('div');\r\n    elem.className = 'arimac_lval';\r\n    arimac.root.appendChild(elem);\r\n    if(color === '#FFF') {\r\n        arimac.root.setAttribute('class', 'arimac_load arimac_load_white');\r\n    }\r\n    // load logo model\r\n    GL.loadModel('models/arimac/logo.fbx', function(logo) {\r\n        arimac.root.appendChild(arimac.renderer.domElement);\r\n        arimac.logo = logo;\r\n        arimac.logo.rotation.y = 5.8;\r\n        arimac.scene.add(logo);\r\n        arimac.logo.scale.set(0.2, 0.2, 0.2);\r\n        arimac.isLoading = true;\r\n        if(color === '#FFF') {\r\n            logo.children[0].material[1].color = new THREE.Color('#131313');\r\n        }\r\n        callback();\r\n    });\r\n    \r\n};\r\n\r\nLoadingScreen.setValue = function(value) {\r\n    // element select\r\n    let root = document.querySelector('.arimac_load');\r\n    let elem = document.querySelector('.arimac_load>.arimac_lval');\r\n    // update\r\n    elem.innerHTML = 'Loading... ' + value + '%';\r\n    // check end\r\n    if(value === 100) {\r\n        setTimeout(function() {\r\n            root.style.opacity = 0;\r\n            setTimeout(function() { root.style.display = 'none'; }, 300);\r\n        }, 1000);\r\n    }\r\n};\r\n\r\nLoadingScreen.end = function(callback = function() {}) {\r\n    let root = document.querySelector('.arimac_load');\r\n    setTimeout(function() {\r\n        root.style.opacity = 0;\r\n        setTimeout(function() { root.style.display = 'none'; callback(); }, 300);\r\n    }, 1000); \r\n};\r\n\r\nexport default LoadingScreen;","import './ItemScroller.css';\r\nimport ArrayBounce from './ArrayBounce.js'\r\n\r\nlet ItemScroller = {};\r\n\r\nItemScroller.locked = false;\r\n\r\nlet root, text, data, back, startXMargn, child, arr = [], call;\r\n\r\nItemScroller.build = function(setup, callback, clickCallback) {\r\n    data = setup;\r\n\tback = callback;\r\n\tcall = clickCallback;\r\n    window.addEventListener('load', function() {\r\n        createElement('ItemScrollerHead', '#root');\r\n        createElement('ItemScrollerFace', '#root');\r\n        createElement('ItemScrollerHold', '#root');\r\n        root = createElement('ItemScrollerTray', '#root');\r\n        text = createElement('ItemScrollerText', '#root');\r\n        buildScrollerItems(setup, root);\r\n    });\r\n};\r\n\r\nfunction createElement(css, apd) {\r\n    let e = document.createElement('div');\r\n    e.className = css;\r\n    if(apd) { document.querySelector(apd).appendChild(e); }\r\n    return e;\r\n}\r\n\r\nfunction buildScrollerItems(setup, root) {\r\n\t// create items\r\n\tObject.keys(setup).forEach(function(name, i) {\r\n\t\tlet e = document.createElement('div');\r\n\t\te.className = 'ScrollerItem';\r\n\t\te.lang = i;\r\n\t\te.style.backgroundImage = `url(${ setup[name].display_image })`;\r\n\t\te.addEventListener('click', clickFocus);\r\n\t\troot.appendChild(e);\r\n\t});\r\n    // events\r\n\tsetTrayEvents(root);\r\n};\r\n\r\nfunction getPosition(e) {\r\n    // mobile or desktop\r\n    if(e.changedTouches) {\r\n        return e.changedTouches[0].clientX;\r\n    } else { return e.clientX; }\r\n};\r\n\r\nfunction setTrayEvents(root) {\r\n\r\n    // first item and its left margin\r\n\tchild = document.querySelector('.ScrollerItem');\r\n\tstartXMargn = window.innerWidth / 2 - 38;\r\n\tchild.style.marginLeft = startXMargn + 'px';\r\n\r\n    // touch down toggler\r\n\tlet isTouchDown = false;\r\n\tfunction TD_0() {\r\n        isTouchDown = false;\r\n       // child.style.transition = 'all 0.2s';\r\n    }\r\n\tfunction TD_1() {\r\n        isTouchDown = true;\r\n       // child.style.transition = 'none';\r\n    };\r\n\troot.addEventListener('mousedown', TD_1);\r\n\troot.addEventListener('touchstart', TD_1);\r\n\troot.addEventListener('touchmove', TD_1);\r\n\troot.addEventListener('touchend', TD_0);\r\n\troot.addEventListener('mouseup', TD_0);\r\n\troot.addEventListener('mouseleave', TD_0);\r\n\r\n\tlet count = (Object.keys(data).length - 1) * 90;\r\n\r\n    // bounce array\r\n\tfor(var i = startXMargn - count; i <= startXMargn; i += 90) { arr.push(i); }\r\n\tlet arrBounce = new ArrayBounce(arr);\r\n\r\n    let startXValue, newerstXValue, lastGap;\r\n\r\n    function scrollStart(e) {\r\n\t\tif(ItemScroller.locked) { return; }\r\n\t\tstartXValue = getPosition(e);\r\n\t\tstartXMargn = parseFloat(child.style.marginLeft) || 0;\r\n\t}\r\n\r\n\tfunction scrollGoing(e) {\r\n\t\tif(ItemScroller.locked) { return; }\r\n\t\tif(isTouchDown === false) { return; }\r\n\t\tlet currentXValue = getPosition(e);\r\n        let pr = window.devicePixelRatio / 3;\r\n\t\tlastGap = currentXValue - startXValue;\r\n\t\tnewerstXValue = startXMargn + (currentXValue - startXValue) / pr;\r\n        child.style.marginLeft = newerstXValue + 'px';\r\n\t};\r\n\r\n\tfunction scrollEnd(e) {\r\n\t\tif(ItemScroller.locked) { return; }\r\n\t\tif(lastGap === undefined) { return; }\r\n\t\tif(lastGap === 0) { return; }\r\n        arrBounce.start(newerstXValue, function(v, i) {\r\n            child.style.marginLeft = v + 'px';\r\n\t\t\tlastGap = 0;\r\n            setTimeout(function() { focusItem(i) }, 50);\r\n        });\r\n\t};\r\n\r\n\troot.addEventListener('touchstart', scrollStart);\r\n\troot.addEventListener('mousedown', scrollStart);\r\n\r\n\troot.addEventListener('touchmove', scrollGoing);\r\n\troot.addEventListener('mousemove', scrollGoing);\r\n\r\n\troot.addEventListener('touchend', scrollEnd);\r\n\troot.addEventListener('mouseup', scrollEnd);\r\n\troot.addEventListener('mouseleave', scrollEnd);\r\n\r\n\tfocusItem(Object.keys(data).length - 1);\r\n};\r\n\r\nfunction focusItem(i) {\r\n    var arr = document.querySelectorAll('.ScrollerItem');\r\n    var k = arr.length - i - 1;\r\n    arr.forEach(function(e, n) {\r\n        if(n === k) {\r\n            e.setAttribute('class', 'ScrollerItem ScrollerItemOn');\r\n\t\t\tlet name = Object.keys(data)[k]\r\n            text.innerHTML = name;\r\n\t\t\tcrnt = name;\r\n\t\t\tback(name);\r\n        } else {\r\n            e.setAttribute('class', 'ScrollerItem');\r\n        }\r\n    });\r\n};\r\n\r\nlet crnt = null;\r\n\r\nfunction clickFocus(e) {\r\n\tif(Object.keys(data)[parseInt(e.target.lang)] === crnt) {\r\n\t\tcall(crnt); return;\r\n\t};\r\n\tlet n = Object.keys(data).length - parseInt(e.target.lang) - 1;\r\n\tlet x = arr[n];\r\n\tchild.style.marginLeft = x + 'px';\r\n\tfocusItem(n);\r\n};\r\n\r\n\r\nexport default ItemScroller;","let ArrayBounce = function(array) {\r\n    // focusing list\r\n    this.array = array || [10, 20, 30, 40, 50];\r\n    // start\r\n    this.start = function(value, callback) {\r\n        let index = 0;\r\n        if(this.array.indexOf(value) > -1) {\r\n            // already focused\r\n            callback(value, this.array.indexOf(value));\r\n            return\r\n        } else {\r\n            // not focused\r\n            this.array.forEach(function(k, i, r) {\r\n                if(i === 0 && value < k) {\r\n                    // less than first\r\n                    index = 0;\r\n                } else if(i === r.length - 1 && value > k) {\r\n                    // larger than last\r\n                    index = r.length - 1;\r\n                } else {\r\n                    let a = r[i], b = r[i + 1];\r\n                    if(value > a && value < b) {\r\n                        // between two\r\n                        if(value - a > b - value) {\r\n                            // closer to a\r\n                            index = i;\r\n                        } else {\r\n                            // closer to b or in middle\r\n                            index = i;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            callback(this.array[index], index);\r\n        }\r\n    };\r\n};\r\n\r\nexport default ArrayBounce;","import '@google/model-viewer';\r\n\r\nlet ARView = {};\r\n\r\nARView.element  = document.createElement('model-viewer');\r\nARView.button   = document.createElement('button');\r\nARView.callback = function() {\r\n    if(ARView.callback.send) {\r\n        ARView.callback.send();\r\n    }\r\n};\r\n\r\nARView.initialize = function(root) {\r\n    // parent element\r\n    ARView.element.setAttribute('src', '');\r\n    ARView.element.setAttribute('ios-src', '');\r\n    ARView.element.setAttribute('ar', true);\r\n    ARView.element.setAttribute('ar-modes', 'webxr');\r\n    ARView.element.setAttribute('ar-placement', 'floor');\r\n    ARView.element.setAttribute('camera-controls', true);\r\n    ARView.element.addEventListener('load', ARView.callback);\r\n    // ar button\r\n    ARView.button.setAttribute('slot', 'ar-button');\r\n    ARView.element.appendChild(ARView.button);\r\n    root.appendChild(ARView.element);\r\n};\r\n\r\n// =========================================================================\r\n\r\nARView.loadModel = function(name, common, iphone, callback) {\r\n    ARView.callback.send = callback;\r\n    ARView.button.setAttribute('lang', name);\r\n    if(ARView.element.getAttribute('src') === common) {\r\n        callback();\r\n    } else {\r\n        ARView.element.setAttribute('src', common);\r\n        ARView.element.setAttribute('ios-src', iphone);\r\n    }\r\n};\r\n\r\nexport default ARView;\r\n","import { Component } from 'react';\nimport './App.css';\nimport LoadingScreen from './bin/logo/arimac';\nimport { TrinityEngine, THREE } from './engine';\nimport '@google/model-viewer';\nimport ItemScroller from './bin/ItemScroller';\nimport ARView from './bin/ARView';\nimport setup from './bin/setup';\n\nlet root, spin;\nlet GL = TrinityEngine['three.js'];\n\n// ====================================================================================\n\nclass App extends Component {\n\n\tcomponentDidMount() {\n\t\troot = document.querySelector('#root');\n\t\tspin = document.querySelector('.spin');\n\t\tLoadingScreen.start('#FFF');\n\t\tARView.initialize(root);\n\t\tItemScroller.build(setup, itemFocusCallback, itemClickCallback);\n\t\troot.appendChild(PV.renderer.domElement);\n\t\tspin.innerHTML = svg;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"spin\"></div>\n\t\t\t\t<div className=\"arimac_load\"></div>\n\t\t\t\t<div className=\"arimac_logo arimac_logo_black\"></div>\n\t\t\t</div>\n\t\t);\n\t};\n\n};\n\n// ====================================================================================\n\nlet svg = `<svg width=\"80px\"  height=\"80px\"  xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid\" class=\"lds-dual-ring\">\n<circle cx=\"50\" cy=\"50\" ng-attr-r=\"{{config.radius}}\" ng-attr-stroke-width=\"{{config.width}}\" ng-attr-stroke=\"{{config.stroke}}\" ng-attr-stroke-dasharray=\"{{config.dasharray}}\" fill=\"none\" stroke-linecap=\"round\" r=\"27\" stroke-width=\"7\" stroke=\"#000000\" stroke-dasharray=\"42.411500823462205 42.411500823462205\" transform=\"rotate(60 50 50)\">\n  <animateTransform attributeName=\"transform\" type=\"rotate\" calcMode=\"linear\" values=\"0 50 50;360 50 50\" keyTimes=\"0;1\" dur=\"1s\" begin=\"0s\" repeatCount=\"indefinite\"></animateTransform>\n</circle>\n</svg>`;\n\nlet crnt = null;\nlet PV = GL.createScene();\n\nPV.renderer.shadowMap.enabled = true\n\nvar hemiLight = new THREE.HemisphereLight( 0xffffff, 0xffffff, 0.6 );\nhemiLight.color.setHSL( 0.6, 0.75, 0.5 );\nhemiLight.groundColor.setHSL( 0.095, 0.5, 0.5 );\nhemiLight.position.set( 0, 500, 0 );\nPV.scene.add( hemiLight );\n\nvar dirLight = new THREE.DirectionalLight( 0xffffff, 2 );\ndirLight.position.set( -1, 12, 1 );\ndirLight.position.multiplyScalar( 50);\ndirLight.name = \"dirlight\";\ndirLight.castShadow = true;\nPV.scene.add(dirLight);\n\nvar spotLight = new THREE.PointLight(0xffffff, 1, 120);\nspotLight.position.set(0, 0, 70);\nPV.scene.add(spotLight);\n\nvar spotLight2 = new THREE.PointLight(0xffffff, 1, 80);\nspotLight2.position.set(0, 0, -70);\nPV.scene.add(spotLight2);\n\nvar spotLight3 = new THREE.PointLight(0xffffff, 1, 40);\nspotLight3.position.set(10, 0, 0);\nPV.scene.add(spotLight3);\n\nvar spotLight4 = new THREE.PointLight(0xffffff, 1, 50);\nspotLight4.position.set(-10, 0, 0);\nPV.scene.add(spotLight4);\n\nfunction sizePreViewScene() {\n\tlet w = window.innerWidth;\n\tlet h = window.innerHeight - 280;\n\tGL.setupScene(w, h, PV.renderer, PV.camera);\n};\n\nPV.controls.minDistance = 0.4;\nPV.controls.maxDistance = 1.5;\n\nwindow.addEventListener('load', sizePreViewScene);\nwindow.addEventListener('resize', sizePreViewScene);\n\n// ====================================================================================\n\n\nfunction itemFocusCallback(name) {\n\tconsole.log('FOCUS ON', [name]);\n\tcrnt = name; let obj = setup[name];\n\tif(typeof obj.model === 'object') {\n\t\tlockAndHide(false);\n\t\t// model is here\n\t\tconsole.log('PRELOAD = ', 1);\n\t\tpreloadModelViewer(name);\n\t} else {\n\t\tlockAndHide(true);\n\t\t// load model\n\t\tobj.model = 1;\n\t\tconsole.log('PRELOAD = ', 0);\n\t\tGL.loadModel(obj.common_source, function(model) {\n\t\t\tmodel.visible = false;\n\t\t\t// apply shadows\n\t\t\tGL.findByType(model, 'Mesh', true).forEach(function(e) {\n\t\t\t\te.castShadow = true;\n\t\t\t\te.receiveShadow = true;\n\t\t\t});\n\t\t\tobj.model = model;\n\t\t\tPV.scene.add(model);\n\t\t\tpreloadModelViewer(name);\n\t\t});\n\t}\n};\n\nfunction itemClickCallback() {\n\tARView.button.click();\n};\n\nfunction lockAndHide(spin_on) {\n\tconsole.log('UI Locking...');\n\t// lock user interface\n\tItemScroller.locked = true;\n\t// show spinner\n\tif(spin_on) {\n\t\tspin.style.display = 'block';\n\t\tdocument.querySelector('.ItemScrollerHold').style.background = 'transparent';\n\t\tdocument.querySelector('.ItemScrollerHold').style.border = '3px solid #999';\n\t}\n\t// hide models\n\tObject.values(setup).forEach(function(obj) {\n\t\tif(typeof obj.model === 'object') {\n\t\t\tobj.model.visible = false;\n\t\t};\n\t});\n};\n\nfunction unlockAndShow() {\n\tconsole.log('UI Unlocking...');\n\t// end loading screen once\n\tLoadingScreen.end();\n\t// unlock user interface\n\tdocument.querySelector('.ItemScrollerHold').style.border = '3px solid #111';\n\tdocument.querySelector('.ItemScrollerHold').style.background = 'rgba(255,0,0,0.5)';\n\tItemScroller.locked = false;\n\t// hide spinner\n\tspin.style.display = 'none';\n\t// show current model\n\tObject.keys(setup).forEach(function(name) {\n\t\tlet obj = setup[name];\n\t\tif(typeof obj.model === 'object') {\n\t\t\tif(name === crnt) {\n\t\t\t\tsetupModelState(name, obj);\n\t\t\t\tobj.model.visible = true;\n\t\t\t\tconsole.warn('SHOWING', [name]);\n\t\t\t} else {\n\t\t\t\tobj.model.visible = false;\n\t\t\t}\n\t\t}\n\t});\n};\n\nfunction setupModelState(name, obj) {\n\t//GL.setupObject(obj.model, setup[name].transformas);\n\tGL.setupControls(\n\t\t'EXACT', PV.controls,\n\t\tsetup[name].controls.target,\n\t\tsetup[name].controls.camera,\n\t\t{\n\t\t\trotateSpeed : 0.4 * window.devicePixelRatio,\n\t\t\tenableZoom : true\n\t\t}\n\t);\n};\n\nfunction preloadModelViewer(name) {\n\tif(name !== crnt) { return; }\n\tconsole.log('Loading MODEL VIEW files...');\n\tlet common = setup[name].common_source;\n\tlet iphone = setup[name].iphone_source;\n\tARView.loadModel(name, common, iphone, unlockAndShow);\n};\n\nwindow.gg = function() {\n\tvar obj = setup[crnt].model;\n\tGL.exportModel(obj, 'GLTF', function(blob) {\n\t\tvar a = document.createElement('a');\n\t\ta.href = blob;\n\t\ta.download = crnt + '.gltf';\n\t\ta.click();\n\t});\n};\n\n\n\n\nexport default App;","let setup = {\r\n\r\n\t'Fridge' : {\r\n\t\tcommon_source : 'models/kitchen/fridge/scene.gltf',\r\n\t\tiphone_source : 'models/kitchen/fridge/scene.usdz',\r\n\t\tdisplay_image : 'models/kitchen/fridge/scene.png',\r\n\t\ttransformas : {\r\n\t\t\tposition : { x : 0, y : 0, z : 0 },\r\n\t\t\trotation : { x : 0, y : 0, z : 0 },\r\n\t\t\tscale    : { x : 0.025, y : 0.025, z : 0.025 }\r\n\t\t},\r\n\t\tcontrols : {\r\n\t\t\ttarget : { x : 0, y : 0.21, z : -0.02 },\r\n\t\t\tcamera : { x : 0, y : 0.21, z : 1 }\r\n\t\t}\r\n\t},\r\n\r\n\t'Coffie Maker' : {\r\n\t\tcommon_source : 'models/kitchen/coffie_maker/scene.gltf',\r\n\t\tiphone_source : 'models/kitchen/coffie_maker/scene.usdz',\r\n\t\tdisplay_image : 'models/kitchen/coffie_maker/scene.png',\r\n\t\ttransformas : {\r\n\t\t\tposition : { x : 0, y : 0, z : 0 },\r\n\t\t\trotation : { x : 0, y : 0, z : 0 },\r\n\t\t\tscale    : { x : 0.01, y : 0.01, z : 0.01 }\r\n\t\t},\r\n\t\tcontrols : {\r\n\t\t\ttarget : { x : 0, y : 0, z : -0.06 },\r\n\t\t\tcamera : { x : 0, y : 0, z : 1 }\r\n\t\t}\r\n\t},\r\n\r\n\t'Oven' : {\r\n\t\tcommon_source : 'models/kitchen/oven/scene.gltf',\r\n\t\tiphone_source : 'models/kitchen/oven/scene.usdz',\r\n\t\tdisplay_image : 'models/kitchen/oven/scene.png',\r\n\t\ttransformas : {\r\n\t\t\tposition : { x : 0, y : 0, z : 0 },\r\n\t\t\trotation : { x : 0, y : 0, z : 0 },\r\n\t\t\tscale    : { x : 0.6, y : 0.6, z : 0.6 }\r\n\t\t},\r\n\t\tcontrols : {\r\n\t\t\ttarget : { x : 0, y : 0.1, z : 0 },\r\n\t\t\tcamera : { x : 0, y : 0.1, z : 1 }\r\n\t\t}\r\n\t},\r\n\r\n\t'Stove' : {\r\n\t\tcommon_source : 'models/kitchen/stove/scene.gltf',\r\n\t\tiphone_source : 'models/kitchen/stove/scene.usdz',\r\n\t\tdisplay_image : 'models/kitchen/stove/scene.png',\r\n\t\ttransformas : {\r\n\t\t\tposition : { x : 0, y : 0, z : 0 },\r\n\t\t\trotation : { x : 0, y : 0, z : 0 },\r\n\t\t\tscale    : { x : 0.2, y : 0.2, z : 0.2 }\r\n\t\t},\r\n\t\tcontrols : {\r\n\t\t\ttarget : { x : 0, y : 0, z : 0 },\r\n\t\t\tcamera : { x : 0, y : 0, z : 1 }\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nexport default setup;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import 'react-app-polyfill/ie11';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}